{"version":3,"sources":["config/lang.ts","styles/themes/Light/preview.svg","app/ScrollToTop.tsx","app/InitWeb3.tsx","app/components/Overlay.tsx","app/containers/Online.tsx","app/WithNodeInfo.tsx","app/InitWallet.tsx","app/InitAdapter.tsx","styles/themes/Light/Broadcasting.png","styles/themes/Dark/Broadcasting.png","styles/themes/Blossom/Broadcasting.png","styles/themes/Moon/Broadcasting.png","styles/themes/Whale/Broadcasting.png","styles/themes/Madness/Broadcasting.png","styles/themes/Light/geminon_text.png","styles/themes/Dark/geminon_text.png","styles/themes/Blossom/geminon_text.png","styles/themes/Moon/geminon_text.png","styles/themes/Whale/geminon_text.png","styles/themes/Madness/geminon_text.png","styles/themes/Dark/preview.svg","styles/themes/Blossom/preview.svg","styles/themes/Moon/preview.svg","styles/themes/Whale/preview.svg","styles/themes/Madness/preview.svg","utils/localStorage.ts","styles/themes/themes.tsx","styles/themes/Light/favicon.png","styles/themes/Dark/favicon.png","styles/themes/Blossom/favicon.png","styles/themes/Moon/favicon.png","styles/themes/Whale/favicon.png","styles/themes/Madness/favicon.png","data/settings/Theme.ts","app/InitTheme.tsx","utils/error.ts","components/layout/Container.tsx","components/layout/Layout.tsx","components/layout/Grid.tsx","components/layout/Flex.tsx","components/feedback/State.tsx","components/feedback/Empty.tsx","components/feedback/Wrong.tsx","components/feedback/Forbidden.tsx","components/feedback/ErrorBoundary.tsx","utils/hooks/useTimeout.ts","components/feedback/Fetching.tsx","components/feedback/LoadingCircular.tsx","utils/style.ts","components/feedback/Modal.tsx","components/layout/Card.tsx","components/layout/Page.tsx","components/layout/ExtraActions.tsx","components/layout/Tabs.tsx","styles/images/icons/DropUp.svg","styles/images/icons/DropDown.svg","components/general/Button.tsx","components/general/Copy.tsx","components/general/ExternalLink.tsx","components/general/FinderLink.tsx","components/general/Internal.tsx","components/general/Pre.tsx","utils/num.ts","utils/coin.ts","data/queries/bank.ts","components/form/Form.tsx","components/form/FormHelp.tsx","data/token.tsx","data/settings/CustomTokens.ts","data/Terra/TerraAssets.ts","components/form/Input.tsx","components/form/Select.tsx","components/form/Radio.tsx","components/form/RadioButton.tsx","components/form/Checkbox.tsx","components/form/Toggle.tsx","components/form/RadioGroup.tsx","components/form/Submit.tsx","txs/utils.ts","txs/validate.ts","data/queries/tx.ts","components/form/Approve.tsx","components/token/Read.tsx","components/token/TokenIcon.tsx","data/settings/Currency.ts","components/token/TokenCard.tsx","auth/components/AuthButton.tsx","auth/components/MultisigBadge.tsx","auth/hooks/usePreconfigured.ts","auth/modules/select/SelectPreconfigured.tsx","auth/modules/select/SwitchWallet.tsx","app/components/PopoverNone.tsx","styles/variable.ts","auth/components/QRCode.tsx","app/sections/WalletQR.tsx","app/sections/Connected.tsx","app/sections/ConnectWallet.tsx","styles/images/wallets/MetamaskWallet.png","styles/images/wallets/CoinbaseWallet.png","styles/images/wallets/WalletConnect.svg","txs/swap/components/AssetFormItem.tsx","txs/swap/components/SelectToken.tsx","txs/swap/components/SlippageControl.tsx","txs/swap/components/Price.tsx","txs/swap/components/ExpectedPrice.tsx","styles/images/tokens/gex.png","styles/images/tokens/wbtc.png","txs/swap/SwapForm.tsx","styles/images/tokens/eth.png","styles/images/tokens/paxg.png","styles/images/tokens/xaut.png","txs/Tx.tsx","txs/stake/StakeForm.tsx","components/display/List.tsx","components/display/Tag.tsx","components/display/Tooltip.tsx","components/layout/Table.tsx","styles/images/community/Medium.svg","styles/images/community/Discord.svg","styles/images/community/Telegram.svg","styles/images/community/Twitter.svg","styles/images/community/Github.svg","styles/images/menu/Swap.svg","components/layout/Contacts.tsx","txs/swap/useSwapUtils.ts","txs/TxContext.tsx","txs/swap/SwapContext.tsx","txs/swap/SingleSwapContext.tsx","txs/swap/SwapTx.tsx","txs/mint/MintContext.tsx","txs/mint/SingleMintContext.tsx","txs/Txm.tsx","txs/mint/MintForm.tsx","styles/images/tokens/usdi.png","txs/mint/MintTx.tsx","pages/NotFound.tsx","app/routes.tsx","app/sections/BannerText.tsx","styles/images/geminon/geminon_text.png","app/sections/Nav.tsx","app/sections/LastHeight.tsx","app/sections/Links.tsx","app/sections/Aside.tsx","app/sections/NetworkName.tsx","app/components/HeaderIconButton.tsx","app/sections/Refresh.tsx","data/settings/CustomNetworks.ts","app/sections/NetworkSetting.tsx","app/sections/LanguageSetting.tsx","app/sections/CurrencySetting.tsx","data/queries/oracle.ts","app/sections/Preferences.tsx","app/sections/SelectTheme.tsx","app/sections/DevTools.tsx","app/App.tsx","index.tsx","components/form/Form.module.scss","auth/scripts/is.ts","components/layout/Layout.module.scss","components/feedback/Modal.module.scss","components/form/Input.module.scss","components/token/TokenCard.module.scss","txs/swap/components/SelectToken.module.scss","utils/env.ts","txs/swap/components/AssetFormItem.module.scss","app/sections/Nav.module.scss","components/layout/Card.module.scss","components/layout/Page.module.scss","components/layout/Tabs.module.scss","txs/swap/components/SlippageControl.module.scss","components/layout/PaginationButtons.module.scss","components/layout/Table.module.scss","app/sections/LastHeight.module.scss","auth/scripts/env.ts","components/form/Checkbox.module.scss","components/form/Toggle.module.scss","components/token/Read.module.scss","components/token/Token.module.scss","components/display/List.module.scss","app/sections/SelectTheme.module.scss","data/query.ts","app/InitNetworks.tsx","utils/data.ts","auth/scripts/encrypt.ts","components/layout/Grid.module.scss","components/layout/Flex.module.scss","components/general/Internal.module.scss","components/form/FormHelp.module.scss","components/form/Select.module.scss","components/form/Radio.module.scss","app/components/PopoverNone.module.scss","app/sections/Links.module.scss","auth/hooks/useNetwork.ts","auth/scripts/network.ts","components/general/Copy.module.scss","auth/hooks/useAuth.ts","txs/Tx.module.scss","components/feedback/State.module.scss","components/general/Pre.module.scss","components/form/TextArea.module.scss","auth/modules/select/SwitchWallet.module.scss","components/layout/Contacts.module.scss","components/layout/ExtraActions.module.scss","components/general/Button.module.scss","components/form/RadioButton.module.scss","components/form/Upload.module.scss","components/form/RadioGroup.module.scss","components/token/TokenIcon.module.scss","auth/components/AuthButton.module.scss","app/sections/Connected.module.scss","components/display/Tag.module.scss","app/components/HeaderIconButton.module.scss","auth/hooks/useAddress.ts","data/queries/lcdClient.ts","app/components/Overlay.module.scss","app/containers/Online.module.scss","components/layout/Container.module.scss","components/feedback/Fetching.module.scss","components/display/Details.module.scss","components/display/Dl.module.scss","components/general/FinderLink.module.scss","auth/hooks/useAvailable.tsx","app/sections/Aside.module.scss","app/sections/IsClassicNetwork.module.scss","config/constants.ts","utils/createContext.ts","auth/scripts/decrypt.ts","auth/scripts/keystore.ts"],"names":["flatten","obj","initial","Object","entries","reduce","prev","key","value","next","assign","Languages","cs","label","translation","de","en","es","fr","it","pl","pt","ru","zh","i18n","use","LanguageDetector","initReactI18next","init","resources","debug","_path","_path2","_path3","_path4","_path5","ScrollToTop","pathname","useLocation","useEffect","window","scrollTo","InitWeb3","children","configureChains","chain","rinkeby","kovan","publicProvider","chains","provider","webSocketProvider","client","createClient","autoConnect","connectors","MetaMaskConnector","CoinbaseWalletConnector","options","appName","WalletConnectConnector","qrcode","Overlay","className","styles","overlay","Online","t","useTranslation","useOnlineStatus","style","fontSize","title","useState","navigator","onLine","onlineStatus","setOnlineStatus","goOnline","goOffline","addEventListener","removeEventListener","WithNodeInfo","console","log","InitWallet","queryClient","useQueryClient","networkName","useNetworkName","name","useMemo","Error","QueryClient","InitAdapter","InitNetworks","_excluded","_extends","bind","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgPreview","_ref","svgRef","titleId","props","xmlns","viewBox","ref","id","fill","d","ForwardRef","SettingKey","themes","unlock","toAmount","animation","AnimationLight","favicon","preview","logo","GeminonLight","AnimationDark","GeminonDark","AnimationBlossom","GeminonBlossom","AnimationMoon","GeminonMoon","AnimationWhale","GeminonWhale","AnimationMadness","GeminonMadness","isSystemDarkMode","matchMedia","matches","DefaultTheme","Number","DefaultCustomTokensItem","ibc","cw20","cw721","DefaultCustomTokens","mainnet","DefaultSettings","Theme","Currency","CustomNetworks","GasAdjustment","DEFAULT_GAS_ADJUSTMENT","AddressBook","CustomTokens","MinimumValue","WithdrawAs","getLocalSetting","localItem","localStorage","getItem","JSON","parse","setLocalSetting","item","stringify","setItem","themeNameState","atom","default","useFindTheme","find","theme","useTheme","useRecoilValue","useThemeState","useRecoilState","prevName","setThemeName","prevTheme","findTheme","validate","useValidateTheme","set","useCallback","nextTheme","document","body","classList","remove","add","setFavicon","always","href","getElementById","InitTheme","setTheme","valid","getErrorMessage","error","axios","isAxiosError","response","data","message","Container","classNames","container","cx","mobileIsMenuOpenState","Banner","banner","Sidebar","sidebar","Header","header","wrapper","Actions","actions","Content","main","Layout","isMenuOpen","layout","menu","Grid","gap","columns","rows","gridTemplateColumns","gridTemplateRows","grid","FlexColumn","start","wrap","column","Flex","flex","State","icon","component","content","Empty","Wrong","Forbidden","initialState","ErrorBoundary","state","fallback","getIsForbidden","Component","status","useTimeout","callback","delay","savedCallback","useRef","current","setTimeout","clearTimeout","WithFetching","isFetching","height","showFetching","setShowFetching","progress","LinearProgress","color","sx","position","undefined","Fetching","wrong","LoadingCircular","CircularProgress","getMaxHeightStyle","maxHeight","overflowY","ReactModal","setAppElement","Modal","footer","closeIcon","onRequestClose","confirm","modal","overlayClassName","type","close","onClick","createContext","ModalProvider","ModalButton","renderButton","modalKey","rest","isModalOpen","setIsModalOpen","isOpen","Card","extra","to","size","bordered","bg","disabled","mainClassName","link","button","cardClassName","card","Page","small","sub","page","Tabs","tabs","defaultActiveKey","reversed","navigate","useNavigate","hash","replace","activeKey","setActiveKey","map","tab","active","capitalize","Button","forwardRef","loading","outline","block","attrs","getClassName","Copy","copied","setCopied","onCopy","ExternalLink","validateLink","rel","e","stopPropagation","url","URL","includes","protocol","FinderLink","short","tx","validator","path","FINDER","join","truncate","InternalLink","render","chevron","Pre","copy","text","pre","has","BigNumber","gte","toPrice","n","dp","ROUND_DOWN","toNumber","sortDenoms","denoms","currency","sort","a","b","compareIs","compareIsDenomIBC","isDenomIBC","k","Form","form","FormArrow","FormError","getIcon","ASSETS","Select","before","select","caret","Radio","checked","input","track","indicator","Checkbox","checkbox","hidden","RadioGroup","onChange","list","option","Submit","submitting","submit","getPlaceholder","decimals","padEnd","toInput","amount","readAmount","lessThan","max","optional","decimal","times","pow","isInteger","required","recipient","validateRecipient","address","AccAddress","Blob","memo","every","char","msg","validateMsg","endsWith","txhash","Approve","Read","denom","approx","auto","isFinite","comma","fixed","Math","config","split","integer","optimDecimals","limitDecimal","slice","prefix","renderDecimal","token","renderSymbol","TokenIcon","isError","setIsError","defaultIcon","src","sizes","width","onError","alt","currencyState","useCurrency","isClassic","useIsClassic","TokenCard","symbol","balance","valueCurrency","valueConfig","detail","TokenCardGrid","AuthButton","MultisigBadge","usePreconfigured","preconfigured","SelectPreconfigured","useAuth","connectedWallet","connectPreconfigured","useNetwork","preconfigure","selected","wallet","SwitchWallet","wallets","connect","localWallets","lock","is","multisig","PopoverNone","inner","renderFooter","variable","getComputedStyle","getPropertyValue","QRCode","bgColor","fgColor","renderAs","WalletQR","useAccount","Connected","isConnected","disconnect","useDisconnect","popover","open","CopyStyles","placement","walletLogosMap","metaMask","coinbaseWallet","walletConnect","ConnectWallet","useConnect","connector","AssetFormItem","border","AssetInput","autoComplete","AssetReadOnly","SelectTokenGroup","filter","SelectTokenItem","muted","useSelectToken","hideBalance","selectToken","SelectTokenProvider","SelectToken","addonAfter","setIsOpen","toggle","keyword","setKeyword","items","values","byKeyword","some","toLowerCase","empty","search","placeholder","autoFocus","SlippageControl","warning","warn","Price","price","priceDecimals","offerAsset","askAsset","smallNumPrice","shiftedBy","String","ExpectedPrice","offerDecimals","askDecimals","offerAssetPrice","askAssetPrice","askAssetRatio","feeAmount","isLoading","minimum_receive","mode","renderPrice","renderUsdPrices","loadContractsInfo","tokens","gex","gexDeploy","paxg","paxgDeploy","xaut","xautDeploy","wbtc","wbtcDeploy","pools","eth","natPoolDeploy","paxgPoolDeploy","xautPoolDeploy","wbtcPoolDeploy","defaultDecimals","nativeAsset","tokensList","gexIcon","wbtcIcon","usePoolContractInfo","poolSymbol","connectedNetworkId","toString","deployInfo","network","abi","SwapForm","assetsList","contracts","asset","addressOrName","contractInterface","erc20ABI","functionName","args","enabled","coinData","useBalance","formatUnits","tokenData","useContractReads","formatted","forEach","index","useReadBalances","initialOfferAsset","showAll","setShowAll","getCoinsOptions","useForm","defaultValues","slippageInput","register","trigger","watch","setValue","resetField","handleSubmit","reset","errors","formState","ratio","isNaN","assets","findAssetBySymbol","findAssetDecimalsBySymbol","offerTokenItem","inAmount","toFixed","swapAssets","enableHooks","tradeInfo","offerAmount","outAmount","usePoolTradeInfo","gexAmount","feePerc","usePoolFees","onSelectAsset","setFocus","estimationTxValues","txProps","resetForm","initialGasDenom","newProps","createTx","onPost","renderExpected","params","validateExpectedPriceProps","fee","onSubmit","fn","valueAsNumber","inputMode","onFocus","isAmountApproved","allowed","requested","Tx","StakeAction","onChangeMax","isApproved","setIsApproved","isMax","setIsMax","setSubmitting","setError","offerAssetItem","tokenAddress","enable","contractInfo","contract","useContractRead","refetch","allowedAmount","refetchAllowance","useApproved","maxUint256","exponentiatedBy","minus","contractsInfo","usePrepareContractWrite","useContractWrite","write","writeState","useWaitForTransaction","confirmations","waitState","combineState","useInfiniteApprove","writeApprove","approveStatus","swapFunction","overrides","prepareState","useSubmitTx","writeSubmit","submitStatus","isSuccess","balanceAfterTx","lt","isWrongNetwork","submitButton","errorDescription","UserDenied","CreateTxFailed","TxFailed","normal","break","descriptions","List","Popover","arrow","maxWidth","interactive","Tooltip","Table","SvgMedium","SvgDiscord","SvgTelegram","SvgTwitter","SvgGithub","ICON_SIZE","icons","medium","discord","telegram","twitter","github","Contacts","contacts","SvgSwap","SwapMode","TxProvider","TxContext","gasPrices","uluna","uusd","ueur","SwapProvider","SwapContext","activeDenoms","exchangeRates","_coins","pairs","terra1afdz4l9vsqddwmjqxmel99atu4rwscpfjm4yfp","dex","terra1d7028vhd9u26fqyreee38cj39fwqvcyjps8sjk","assertLimitOrder","routeswap","tnsRegistry","tnsReverseRecord","isIdle","SingleSwapProvider","SingleSwapContext","context","coins","findTokenItem","findDecimals","calcExpected","belief_price","max_spread","div","calcMinimumReceive","simulatedValue","minRatio","integerValue","ROUND_FLOOR","SwapTx","description","MintContext","Txm","scSymbol","minter","stablecoinSymbol","scAddress","useTokenInfo","usdi","usdiDeploy","scminterDeploy","oracle","oracleDeploy","tokenSymbol","scAbi","MintForm","useMinterInfo","useMintFees","MintTx","SingleMintContext","NotFound","useNav","element","routes","useRoutes","BannerText","Nav","useCloseMenuOnNavigate","geminonLogo","defaultLogo","GEMINON","isActive","useSetRecoilState","LastHeight","useBlockNumber","success","toLocaleString","community","MEDIUM","TELEGRAM_ANN","TWITTER","GITHUB","Links","links","tutorial","TUTORIAL","Aside","aside","NetworkName","isValidNetwork","HeaderIconButton","Refresh","invalidateQueries","customNetworksState","NetworkSetting","useNetworkState","setNetwork","networkOptions","useNetworkOptions","customNetworks","setCustomNetworks","updateList","newNetwork","validateName","useCustomNetworks","LanguageSetting","language","changeLanguage","CurrencySetting","lcd","useLCDClient","useQuery","queryKey","RefetchOptions","INFINITY","useActiveDenoms","setCurrency","useCurrencyState","readDenom","Preferences","condition","sandbox","Selector","unlocked","locked","SelectTheme","useAddress","info","DevTools","query","resetQueries","App","module","exports","isLocal","isMultisig","isPreconfigured","local","single","ledger","process","auth","REACT_APP_SANDBOX","userAgent","useChainID","DEFAULT","staleTime","Infinity","retry","Pagination","LAZY_LIMIT","results","result","mirror","parentKey","acc","Boolean","TerraAssets","TerraAPI","History","accountInfo","bank","balances","supply","distribution","rewards","communityPool","validatorCommission","withdrawAddress","gov","votingParams","depositParams","tallyParams","proposals","proposal","deposits","votes","tally","denomTrace","market","tendermint","nodeInfo","staking","validators","delegations","delegation","unbondings","pool","txInfo","create","wasm","contractQuery","Anchor","TotalDeposit","APY","MarketEpochState","TNS","terraNetworks","chainID","api","hive","walletconnectID","classic","mantle","testnet","localterra","useNetworks","NetworksProvider","networks","toBase64","object","Buffer","from","parsed","parseJSON","encrypt","pass","salt","CryptoJS","lib","WordArray","random","PBKDF2","keySize","iterations","iv","encrypted","AES","padding","pad","Pkcs7","CBC","networkState","getStoredNetwork","storeNetwork","walletState","getWallet","available","useAvailable","setWallet","getStoredWallets","storedWallet","getStoredWallet","storeWallet","connectLedger","bluetooth","getConnectedWallet","clearWallet","lockWallet","getKey","password","getDecryptedKey","getLedgerKey","BluetoothTransport","LEDGER_TRANSPORT_TIMEOUT","transport","LedgerKey","txOptions","createSignature","doc","SignDoc","getAccountNumber","getSequenceNumber","auth_info","createSignatureAmino","pk","PasswordError","RawKey","sign","accountNumberAndSequence","accountNumber","account_number","sequence","signMode","SignatureV2","SignMode","SIGN_MODE_LEGACY_AMINO_JSON","unsignedTx","signTx","MnemonicKey","mnemonic","createAndSignTx","post","signedTx","broadcastSync","isTxError","raw_log","encodeEncryptedWallet","encrypted_key","encode","validatePassword","testPassword","signBytes","bytes","ecdsaSign","signature","recid","public_key","publicKey","toAmino","LCDClient","TERRASWAP_COMMISSION_RATE","ctx","React","c","useContext","Provider","decrypt","transitmessage","enc","Hex","substr","substring","Utf8","user","removeItem","storeWallets","privateKey"],"mappings":"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","file":"static/js/main.cadb3144.chunk.js","sourcesContent":["import { initReactI18next } from \"react-i18next\"\r\nimport i18n from \"i18next\"\r\nimport LanguageDetector from \"i18next-browser-languagedetector\"\r\nimport { Dictionary } from \"ramda\"\r\nimport { debug } from \"utils/env\"\r\n\r\nimport cs from \"locales/cs.json\"\r\nimport de from \"locales/de.json\"\r\nimport es from \"locales/es.json\"\r\nimport fr from \"locales/fr.json\"\r\nimport it from \"locales/it.json\"\r\n// import ko from \"locales/ko.json\"\r\nimport pl from \"locales/pl.json\"\r\nimport pt from \"locales/pt.json\"\r\nimport ru from \"locales/ru.json\"\r\nimport zh from \"locales/zh.json\"\r\n\r\nconst flatten = (obj: object, initial = {}): Dictionary<string> => {\r\n  return Object.entries(obj).reduce((prev, [key, value]) => {\r\n    if (!value) return prev\r\n    const next =\r\n      typeof value === \"string\" ? { [key]: value } : flatten(value, prev)\r\n    return Object.assign({}, prev, next)\r\n  }, initial)\r\n}\r\n\r\nexport const Languages = {\r\n  cs: { value: \"cs\", label: \"Čeština\", translation: flatten(cs) },\r\n  de: { value: \"de\", label: \"Deutsch\", translation: flatten(de) },\r\n  en: { value: \"en\", label: \"English\", translation: {} },\r\n  es: { value: \"es\", label: \"Español\", translation: flatten(es) },\r\n  fr: { value: \"fr\", label: \"Français\", translation: flatten(fr) },\r\n  it: { value: \"it\", label: \"Italiano\", translation: flatten(it) },\r\n  // ko: { value: \"ko\", label: \"한국어\", translation: flatten(ko) },\r\n  pl: { value: \"pl\", label: \"Polish\", translation: flatten(pl) },\r\n  pt: { value: \"pt\", label: \"Português\", translation: flatten(pt) },\r\n  ru: { value: \"ru\", label: \"Русский\", translation: flatten(ru) },\r\n  zh: { value: \"zh\", label: \"中文\", translation: flatten(zh) },\r\n}\r\n\r\ni18n.use(LanguageDetector).use(initReactI18next).init({\r\n  resources: Languages,\r\n  debug: !!debug.translation,\r\n})\r\n","var _path, _path2, _path3, _path4, _path5;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPreview(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 220 116\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#ECEFFF\",\n    d: \"M0 0h220v116H0z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#F9FAFF\",\n    d: \"M0 0h220v18H0z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#044AAF\",\n    d: \"M0 0h50v116H0z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#F9FAFF\",\n    d: \"M102 33h65a4 4 0 0 1 4 4v59a4 4 0 0 1-4 4h-65a4 4 0 0 1-4-4V37a4 4 0 0 1 4-4Z\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#044AAF\",\n    d: \"M112 82h46a5 5 0 1 1 0 10h-46a5 5 0 1 1 0-10Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPreview);\nexport default __webpack_public_path__ + \"static/media/preview.c7c9660b.svg\";\nexport { ForwardRef as ReactComponent };","import { useEffect } from \"react\"\r\nimport { useLocation } from \"react-router-dom\"\r\n\r\nconst ScrollToTop = () => {\r\n  const { pathname } = useLocation()\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, [pathname])\r\n\r\n  return null\r\n}\r\n\r\nexport default ScrollToTop\r\n","import { PropsWithChildren } from 'react'\r\nimport {configureChains, chain, createClient, WagmiConfig } from 'wagmi'\r\nimport { CoinbaseWalletConnector } from 'wagmi/connectors/coinbaseWallet'\r\nimport { MetaMaskConnector } from 'wagmi/connectors/metaMask'\r\nimport { WalletConnectConnector } from 'wagmi/connectors/walletConnect'\r\nimport { publicProvider } from 'wagmi/providers/public'\r\n\r\n\r\n// TODO: Extraer lista de cadenas a archivo en carpeta config\r\nconst InitWeb3 = ({ children }: PropsWithChildren<{}>) => {\r\n    // https://wagmi.sh/docs/providers/configuring-chains#multiple-providers\r\n    const { chains, provider, webSocketProvider } = configureChains(\r\n        [chain.rinkeby, chain.kovan],\r\n        [publicProvider()],\r\n        )\r\n    \r\n    const client = createClient({\r\n        autoConnect: false,\r\n        connectors: [\r\n            new MetaMaskConnector({ chains }),\r\n            new CoinbaseWalletConnector({\r\n              chains,\r\n              options: {\r\n                appName: 'wagmi',\r\n              },\r\n            }),\r\n            new WalletConnectConnector({\r\n              chains,\r\n              options: {\r\n                qrcode: true,\r\n              },\r\n            }),\r\n          ],\r\n        provider,\r\n        webSocketProvider,\r\n    })\r\n\r\n    return (\r\n        <WagmiConfig client={client}>\r\n            {children}\r\n        </WagmiConfig>\r\n    )\r\n} \r\n\r\n\r\nexport default InitWeb3","import { PropsWithChildren } from \"react\"\r\nimport styles from \"./Overlay.module.scss\"\r\n\r\nconst Overlay = ({ children }: PropsWithChildren<{}>) => {\r\n  return <div className={styles.overlay}>{children}</div>\r\n}\r\n\r\nexport default Overlay\r\n","import { useEffect, useState } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport WifiOffIcon from \"@mui/icons-material/WifiOff\"\r\nimport Overlay from \"../components/Overlay\"\r\nimport styles from \"./Online.module.scss\"\r\n\r\nconst Online = () => {\r\n  const { t } = useTranslation()\r\n  const online = useOnlineStatus()\r\n  if (online) return null\r\n  return (\r\n    <Overlay>\r\n      <article>\r\n        <WifiOffIcon style={{ fontSize: 56 }} />\r\n        <h1 className={styles.title}>{t(\"No internet connection\")}</h1>\r\n        <p>{t(\"Check the internet connection and retry\")}</p>\r\n      </article>\r\n    </Overlay>\r\n  )\r\n}\r\n\r\nexport default Online\r\n\r\n/* hooks */\r\nconst getOnlineStatus = () => {\r\n  return typeof navigator !== \"undefined\" &&\r\n    typeof navigator.onLine === \"boolean\"\r\n    ? navigator.onLine\r\n    : true\r\n}\r\n\r\nconst useOnlineStatus = () => {\r\n  const [onlineStatus, setOnlineStatus] = useState(getOnlineStatus())\r\n\r\n  const goOnline = () => setOnlineStatus(true)\r\n  const goOffline = () => setOnlineStatus(false)\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"online\", goOnline)\r\n    window.addEventListener(\"offline\", goOffline)\r\n\r\n    return () => {\r\n      window.removeEventListener(\"online\", goOnline)\r\n      window.removeEventListener(\"offline\", goOffline)\r\n    }\r\n  }, [])\r\n\r\n  return onlineStatus\r\n}\r\n","import { PropsWithChildren } from \"react\"\r\n// import { useNodeInfo } from \"data/queries/tendermint\"\r\n// import Overlay from \"./components/Overlay\"\r\n// import NetworkError from \"./NetworkError\"\r\n\r\n\r\n\r\nconst WithNodeInfo = ({ children }: PropsWithChildren<{}>) => {\r\n  console.log(\"[WithNodeInfo] Componente obsoleto, eliminar\")\r\n  return <>{children}</>\r\n}\r\n\r\nexport default WithNodeInfo\r\n\r\n\r\n// useNodeInfo() llama a la url contenida en la propiedad \"lcd\" de una red\r\n// definida en networks para comprobar el estado del nodo de la red Terra.\r\n// Específico de Terra, desactivar.\r\n/* const WithNodeInfo = ({ children }: PropsWithChildren<{}>) => {\r\n  const { isLoading, isError } = useNodeInfo()\r\n\r\n  if (isError) {\r\n    return (\r\n      <Overlay>\r\n        <NetworkError />\r\n      </Overlay>\r\n    )\r\n  }\r\n\r\n  if (isLoading) return null\r\n  return <>{children}</>\r\n} */","import { PropsWithChildren, useMemo } from \"react\"\r\nimport { QueryClient, QueryClientProvider } from \"react-query\"\r\n// import { WalletStatus } from \"@terra-money/wallet-types\"\r\n// import { useWallet } from \"@terra-money/use-wallet\"\r\nimport { useNetworkName } from \"data/wallet\"\r\n// import { isWallet, useAuth } from \"auth\"\r\n// import Splash from \"auth/modules/Splash\"\r\nimport Online from \"./containers/Online\"\r\nimport WithNodeInfo from \"./WithNodeInfo\"\r\n\r\n\r\n// TODO: Reaprovechar el módulo Online. Todos los demás en principio\r\n// no sirven de nada, incluyendo el propio Init Wallet.\r\nconst InitWallet = ({ children }: PropsWithChildren<{}>) => {\r\n  const queryClient = useQueryClient()\r\n  const networkName = useNetworkName()\r\n\r\n  console.log('InitWallet OK')\r\n\r\n  return (\r\n    <QueryClientProvider client={queryClient} key={networkName}>\r\n      <WithNodeInfo>{children}</WithNodeInfo>\r\n      <Online />\r\n    </QueryClientProvider>\r\n  )\r\n}\r\n\r\nexport default InitWallet\r\n\r\n\r\n/* const InitWallet = ({ children }: PropsWithChildren<{}>) => {\r\n  useOnNetworkChange()\r\n  const { status } = useWallet()\r\n  const queryClient = useQueryClient()\r\n  const networkName = useNetworkName()\r\n\r\n  return status === WalletStatus.INITIALIZING ? (\r\n    <Splash />\r\n  ) : (\r\n    <QueryClientProvider client={queryClient} key={networkName}>\r\n      <WithNodeInfo>{children}</WithNodeInfo>\r\n      <Online />\r\n    </QueryClientProvider>\r\n  )\r\n} */\r\n\r\n\r\n/* hooks */\r\n/* const useOnNetworkChange = () => {\r\n  const { preconfigure } = useNetwork()\r\n  const { wallet, disconnect } = useAuth()\r\n  const isPreconfiguredWallet = isWallet.preconfigured(wallet)\r\n  const shouldDisconnect = !preconfigure && isPreconfiguredWallet\r\n\r\n  useEffect(() => {\r\n    if (shouldDisconnect) disconnect()\r\n  }, [disconnect, shouldDisconnect])\r\n} */\r\n\r\nconst useQueryClient = () => {\r\n  const name = useNetworkName()\r\n\r\n  return useMemo(() => {\r\n    if (!name) throw new Error()\r\n    return new QueryClient()\r\n  }, [name])\r\n}\r\n","import { PropsWithChildren } from \"react\"\r\nimport InitWeb3 from \"app/InitWeb3\"\r\nimport InitNetworks from \"app/InitNetworks\"\r\nimport InitWallet from \"app/InitWallet\"\r\n\r\n\r\nconst InitAdapter = ({ children }: PropsWithChildren<{}>) => {\r\n\r\n    return (\r\n        <InitWeb3>\r\n            <InitNetworks>\r\n                <InitWallet>\r\n                    {children} \r\n                </InitWallet>\r\n            </InitNetworks>\r\n        </InitWeb3>\r\n    )\r\n}\r\n\r\n\r\nexport default InitAdapter","export default __webpack_public_path__ + \"static/media/Broadcasting.b7305587.png\";","export default __webpack_public_path__ + \"static/media/Broadcasting.865781a1.png\";","export default __webpack_public_path__ + \"static/media/Broadcasting.511a8bed.png\";","export default __webpack_public_path__ + \"static/media/Broadcasting.51fd2e49.png\";","export default __webpack_public_path__ + \"static/media/Broadcasting.ecdc3a08.png\";","export default __webpack_public_path__ + \"static/media/Broadcasting.22713075.png\";","export default __webpack_public_path__ + \"static/media/geminon_text.0ba15e74.png\";","export default __webpack_public_path__ + \"static/media/geminon_text.2d37fa26.png\";","export default __webpack_public_path__ + \"static/media/geminon_text.0ba15e74.png\";","export default __webpack_public_path__ + \"static/media/geminon_text.a4627a85.png\";","export default __webpack_public_path__ + \"static/media/geminon_text.0ba15e74.png\";","export default __webpack_public_path__ + \"static/media/geminon_text.c6b85d97.png\";","var _path, _path2, _path3, _path4, _path5;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPreview(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 220 116\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#1C1C1C\",\n    d: \"M0 0h220v116H0z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#474747\",\n    d: \"M0 0h220v18H0z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#373737\",\n    d: \"M0 0h50v116H0z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#3C3C3C\",\n    d: \"M102 33h65a4 4 0 0 1 4 4v59a4 4 0 0 1-4 4h-65a4 4 0 0 1-4-4V37a4 4 0 0 1 4-4Z\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#4EA4FB\",\n    d: \"M112 82h46a5 5 0 1 1 0 10h-46a5 5 0 1 1 0-10Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPreview);\nexport default __webpack_public_path__ + \"static/media/preview.c310a0ac.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3, _path4, _path5;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPreview(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 220 116\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FFEBF8\",\n    d: \"M0 0h220v116H0z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FFD4D4\",\n    d: \"M0 0h220v18H0z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#DF303D\",\n    d: \"M0 0h50v116H0z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FFD4D4\",\n    d: \"M102 33h65a4 4 0 0 1 4 4v59a4 4 0 0 1-4 4h-65a4 4 0 0 1-4-4V37a4 4 0 0 1 4-4Z\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#DF303D\",\n    d: \"M112 82h46a5 5 0 1 1 0 10h-46a5 5 0 1 1 0-10Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPreview);\nexport default __webpack_public_path__ + \"static/media/preview.f3bfdc77.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3, _path4, _path5;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPreview(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 220 116\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#05040C\",\n    d: \"M0 0h220v116H0z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#211B4F\",\n    d: \"M0 0h220v18H0z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#16113B\",\n    d: \"M0 0h50v116H0z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#211B4F\",\n    d: \"M102 33h65a4 4 0 0 1 4 4v59a4 4 0 0 1-4 4h-65a4 4 0 0 1-4-4V37a4 4 0 0 1 4-4Z\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#F8D75D\",\n    d: \"M112 82h46a5 5 0 1 1 0 10h-46a5 5 0 1 1 0-10Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPreview);\nexport default __webpack_public_path__ + \"static/media/preview.343c8d21.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3, _path4;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPreview(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 220 116\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#F2F2F2\",\n    d: \"M0 0h220v116H0z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#9D9D9D\",\n    d: \"M0 0h220v18H0z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#000\",\n    d: \"M0 0h50v116H0zm102 33h65a4 4 0 0 1 4 4v59a4 4 0 0 1-4 4h-65a4 4 0 0 1-4-4V37a4 4 0 0 1 4-4Z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FBFBFB\",\n    d: \"M112 82h46a5 5 0 1 1 0 10h-46a5 5 0 1 1 0-10Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPreview);\nexport default __webpack_public_path__ + \"static/media/preview.ae8c481a.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3, _path4;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPreview(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 220 116\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#141414\",\n    d: \"M0 0h220v116H0z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#5C2EB7\",\n    d: \"M0 0h220v18H0z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#4A209D\",\n    d: \"M0 0h50v116H0zm102 33h65a4 4 0 0 1 4 4v59a4 4 0 0 1-4 4h-65a4 4 0 0 1-4-4V37a4 4 0 0 1 4-4Z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#25FF14\",\n    d: \"M112 82h46a5 5 0 1 1 0 10h-46a5 5 0 1 1 0-10Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPreview);\nexport default __webpack_public_path__ + \"static/media/preview.629ffc5a.svg\";\nexport { ForwardRef as ReactComponent };","import { DEFAULT_GAS_ADJUSTMENT } from \"config/constants\"\r\nimport themes from \"styles/themes/themes\"\r\n\r\nexport enum SettingKey {\r\n  Theme = \"Theme\",\r\n  Currency = \"Currency\",\r\n  CustomNetworks = \"CustomNetworks\",\r\n  GasAdjustment = \"GasAdjustment\", // Tx\r\n  AddressBook = \"AddressBook\", // Send\r\n  CustomTokens = \"CustomTokens\", // Wallet\r\n  MinimumValue = \"MinimumValue\", // Wallet (UST value to show on the list)\r\n  WithdrawAs = \"WithdrawAs\", // Rewards (Preferred denom to withdraw rewards)\r\n}\r\n\r\nconst isSystemDarkMode =\r\n  window.matchMedia && window.matchMedia(\"(prefers-color-scheme: dark)\").matches\r\n\r\nexport const DefaultTheme = themes[Number(isSystemDarkMode)]\r\n\r\nexport const DefaultCustomTokensItem = { ibc: [], cw20: [], cw721: [] }\r\nconst DefaultCustomTokens = { mainnet: DefaultCustomTokensItem }\r\n\r\nexport const DefaultSettings = {\r\n  [SettingKey.Theme]: DefaultTheme,\r\n  [SettingKey.Currency]: \"uusd\",\r\n  [SettingKey.CustomNetworks]: [] as CustomNetwork[],\r\n  [SettingKey.GasAdjustment]: DEFAULT_GAS_ADJUSTMENT,\r\n  [SettingKey.AddressBook]: [] as AddressBook[],\r\n  [SettingKey.CustomTokens]: DefaultCustomTokens as CustomTokens,\r\n  [SettingKey.MinimumValue]: 0,\r\n  [SettingKey.WithdrawAs]: \"\",\r\n}\r\n\r\nexport const getLocalSetting = <T>(key: SettingKey): T => {\r\n  const localItem = localStorage.getItem(key)\r\n\r\n  if (!localItem) return DefaultSettings[key] as unknown as T\r\n\r\n  try {\r\n    return JSON.parse(localItem)\r\n  } catch {\r\n    return localItem as unknown as T\r\n  }\r\n}\r\n\r\nexport const setLocalSetting = <T>(key: SettingKey, value: T) => {\r\n  const item = typeof value === \"string\" ? value : JSON.stringify(value)\r\n  localStorage.setItem(key, item)\r\n}\r\n","import { ReactNode } from \"react\"\r\nimport { toAmount } from \"@terra.kitchen/utils\"\r\n\r\n/* animation */\r\nimport AnimationLight from \"./Light/Broadcasting.png\"\r\nimport AnimationDark from \"./Dark/Broadcasting.png\"\r\nimport AnimationBlossom from \"./Blossom/Broadcasting.png\"\r\nimport AnimationMoon from \"./Moon/Broadcasting.png\"\r\nimport AnimationWhale from \"./Whale/Broadcasting.png\"\r\nimport AnimationMadness from \"./Madness/Broadcasting.png\"\r\n\r\n/* favicon */\r\nimport FaviconLight from \"./Light/favicon.png\"\r\nimport FaviconDark from \"./Dark/favicon.png\"\r\nimport FaviconBlossom from \"./Blossom/favicon.png\"\r\nimport FaviconMoon from \"./Moon/favicon.png\"\r\nimport FaviconWhale from \"./Whale/favicon.png\"\r\nimport FaviconMadness from \"./Madness/favicon.png\"\r\n\r\n/* geminon logo */\r\nimport GeminonLight from \"./Light/geminon_text.png\"\r\nimport GeminonDark from \"./Dark/geminon_text.png\"\r\nimport GeminonBlossom from \"./Blossom/geminon_text.png\"\r\nimport GeminonMoon from \"./Moon/geminon_text.png\"\r\nimport GeminonWhale from \"./Whale/geminon_text.png\"\r\nimport GeminonMadness from \"./Madness/geminon_text.png\"\r\n\r\n/* preview */\r\nimport { ReactComponent as PreviewLight } from \"./Light/preview.svg\"\r\nimport { ReactComponent as PreviewDark } from \"./Dark/preview.svg\"\r\nimport { ReactComponent as PreviewBlossom } from \"./Blossom/preview.svg\"\r\nimport { ReactComponent as PreviewMoon } from \"./Moon/preview.svg\"\r\nimport { ReactComponent as PreviewWhale } from \"./Whale/preview.svg\"\r\nimport { ReactComponent as PreviewMadness } from \"./Madness/preview.svg\"\r\n\r\nexport interface Theme {\r\n  name: string\r\n  unlock: Amount\r\n  animation: string\r\n  favicon: string\r\n  preview: ReactNode\r\n  logo: string\r\n}\r\n\r\nexport const themes: Theme[] = [\r\n  {\r\n    name: \"light\",\r\n    unlock: toAmount(\"0\"),\r\n    animation: AnimationLight,\r\n    favicon: FaviconLight,\r\n    preview: <PreviewLight />,\r\n    logo: GeminonLight\r\n  },\r\n  {\r\n    name: \"dark\",\r\n    unlock: toAmount(\"0\"),\r\n    animation: AnimationDark,\r\n    favicon: FaviconDark,\r\n    preview: <PreviewDark />,\r\n    logo: GeminonDark\r\n  },\r\n  {\r\n    name: \"blossom\",\r\n    unlock: toAmount(\"0\"),\r\n    animation: AnimationBlossom,\r\n    favicon: FaviconBlossom,\r\n    preview: <PreviewBlossom />,\r\n    logo: GeminonBlossom\r\n  },\r\n  {\r\n    name: \"moon\",\r\n    unlock: toAmount(\"0\"),\r\n    animation: AnimationMoon,\r\n    favicon: FaviconMoon,\r\n    preview: <PreviewMoon />,\r\n    logo: GeminonMoon\r\n  },\r\n  {\r\n    name: \"whale\",\r\n    unlock: toAmount(\"0\"),\r\n    animation: AnimationWhale,\r\n    favicon: FaviconWhale,\r\n    preview: <PreviewWhale />,\r\n    logo: GeminonWhale\r\n  },\r\n  {\r\n    name: \"madness\",\r\n    unlock: toAmount(\"0\"),\r\n    animation: AnimationMadness,\r\n    favicon: FaviconMadness,\r\n    preview: <PreviewMadness />,\r\n    logo: GeminonMadness\r\n  },\r\n]\r\n\r\nexport default themes\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAA63SURBVHhe7V0/6C5HFd33no1pTGcppBHBQhttI6axUUxhZRADIaIxau8f0EYSiNgYk6AINiYEQRDs9IGVWuSJqGAVrATB2ESb8D7vuXPP7NnZ2e/73u7b+d7v5xwy99x75u7sN3t3Z+f372Xo6Ojo6Ojo6Ojo6Ojo6Ojo6Ojo6Ojo6Ojo6Ojo6LiOuBG8L3752/eZfXw4DO8ZzDjuwpgf4XCgH+zNhcThZl+1u6XGWDX4aBG7Rn+Bc/+xviMMlFqNYTQ+HN4xfmF4/on/oHdPtLoBfmoT+mwKZLIRjhoaddFyv2ia5zdT+OzzbsbaYIIZO7tYaMKA5pY5MBovMYzGi3nDS3YDfMG9HXEzeF8chg/S8WJhkhFOJ65+rV80AE8+x5vlkbXBBDN2rmnHuKadwTAaH+XDR83bHW1uAEdMLplEmGj2o8Go7yRaPoYa4/BnGhs1Y8bOLsKIVjCMxhMfpohrDKPxSbbWAI1uAJtN7clX38PgiS8aj9EnH2Cfh9Qi9lZqZBcLTdhR6urDFHGNYTQ+mR9+A7S5AfwdHRPiREsfgcfqi8Y8bvgI9rkW7LFtb+gDeSyyi4UmDNSOoZ/MGC8xjMYn8wt/Z7RbAUiY3Mw39tiD8EUr89TPGmO0BsXXeIlhNF7Mg0+WvgZotwfQSU18Y489CF80zfOVJHz2eTdjbTDBjJ1dLDRhQHNzCw1G4yWG0XgxL3wy+zjXndHmBvD5cZJo9I099iB80ZjHdz6Q+4NhPNYGE8zY2cVCEwY0t8yB0bjGjopeY6DWp/ubndHoBuDk1BcNptR4ASb56itrgwlm7OxioR3jmnafefINrGgsPvQGaP8K8IkFT3zR4AP/L7t916xp8cEN0HAFiInBgCe+aJy4Ph0AfQ+DPd55w7eYUzCMxifzxQeXxQc3QMM9AMAJqi8afKC8AOxzLdjbNfhSD1wrPrgB2t0AeWIhlBonDMYFoc8+72asDSaYsbOLhSYMaG5uocFovMQwGi/mwSdL3wWLDzTaA3Bi6ovGCV/33T6ZfceKj58INkDDFSAcTpIaJzzbEdNX1gYTzNi5ph3jmnaf+dRuf87/NH7ZvN3R5sfBr/36DZvVh6aTDB8A84J4HL6Hh9vDk5/4GLyO+4+GXwUohw+c+lIv5I590GgPYKgVPxc6wD7Xgt3v2AuNV4DwAfC5G76O3dB2E7im+K517IWGN0BUUt/5ZfEzS0umYye0ewWQvbCMw59pbGZC7tgH7TaBp3b7ThF7E61jN7S5AfQbIQB9D4M9XvjefsduaLcHIFhg14K9HfnBTsduaLcH0IJ6TRlrgwlmHFLHPmi3B5gUNHjSYIIZh9SxH9q9AsrCThpMMGPn8Dt2Q8NXgDseVgucNbKLwR17oeEmMIrpBb7H3+Tp2A1tfhz8o1+9YTZ+HMwWhT1V/MNwe/jKJ9f/OPjbrz1s9jM21kMyZmIAX6ICs8/hP5P/+fD8E//1/jV46pXlcy+x4cbdw1s3DsNrd199Zv25z0S7G+CgN0Ca6PwCuFhoh9vDVz+15Qb4oY3x9GTM+TnqPAwv2g3wRffW4KlX5ueenaOIjW/etaX5cHj5nde+/DQy9kTDTSAbTDBjZxcLLXgLDof3T8cKnp2/YOBw+EB461Cee3aOIjaO4g+3DsNHkLE3Gt8AMMGMnWtacDLrUY6l8THmdy+3gGOdySj+LWMrvrcWaPtloPvGjJ1dhBGt4C3IYwQvnaNkAP4WHDsHIDGf/JsW4ya4mT/Evmj3ZSA5JpzYxUITBshr4YfLmOcwoP5a6JjKgMR88t9l8fVcAQCZcGIXC00YYLwFtbGPMaDaFtTOAUgs7/wJo7VAuxUgJpzYxUITBia5G1E7hzKQWfqsOJvAccA8gYyvT/6k+NZtXwY2Qds9gHMIE00Y0Fxqa1E7hzLAc2gfik99LfI5gmV83fCl9/60+Nd0BfAg/AoDmkt/C3SckoFaH4uPeAv8+BhHxi+Ljw0fi++x+ddwBQjH/XM4/GTW49g59BdV2LT44C3QcYL5zmeh0W7Z5xgLn4oPvwXa3QAwYEysZEeph4+CbMFkzIIBPV9ZfPAW6DjG+s4fd/umWzdWARSexb9mK4DNBhOqMTDTxU9mPWZjBwOq1YoP3gIZh08+3/X6zsfTXxYfK0ELtLkBAEwIc1IGZrr4MM4boOPlccUH71F8wsY5Xfxx2WfxobfA5VYAIMfaQoNhvAV5PPjk0MDHik9eCzu+tuyz+Cx2vfhudkejGwDNDBnIsfrBMJN4A3j87LxmThU/3LVg8VPR2cbis+jKLD7iFrjcCpC5phW8BTj+nN2+suZvgG/wbIhUWNwI01iLz5UA52ROC7RdARzGjJ3VhynikFaDx+v5jhUfDDDeADz5LLqzabXdfl72I8dvBnzGBmi3ApBjookLDZjlhL4WPo6MdS/FZ7wSKHC+CSJeKr6z5bD44BZodAOgmZmw+MmMcclbwbGWig8oUw9pLea7/dRmT76dCL+apcVHfwu0uQFwJTEhm1hi8Wd9Fd4CH8famuJTXwk++Sz2UvG5Amjxr9cNgMlMmhkwjMY13goU/lTxS115A1hIFv3eiu9mdzS6AWwy3ujfI2+BjyNjKU++OljgDfDl31p5E3jxg2/YZ5gW34y3NMbeaLwCxMTAgMY1hnHeAB8PLcZSBmq68gak9/pYfBYZY6dXw1RPxceR4TfAZVaArB1hGMZb4OPJWGSgpisnsxooohafy30u/uzJH4/zG6UB2q8AACe7xDCTeAN8HLQYCwyU56wx9g4bkAqeVgAu+7XdvhcbjX2uhbAz2t0AnCEmBneJYTQGb4GOoUz9GCezGiykF9jGqj/5qQ/Q4id9fzR8BZzBMBpnfQMwRslwTzGM83rkJ98G4vJfLT77hP1zNECbGwDAhDixkh0V3Rl9GzAZ60yGYbwBLLAXf7bbT33471LFBx6sFaDKcDbg6Nhn8AagoPnJL5jjl32qt0C7PUBMbH6Bi7jGW1COdYqBMl6JXNjJkx9je/+8+B5bgscNcNkVAEbjxbwNODW2MiAxfp6/BWuKj4Skw98fl1sBYDRe4vuBk+dwM9H5a1xboAX2gsZwZxV/47nPxWVWABiNlxiAvwUnz1HExvqbPFswKX46mWhj8ROmxcfK0QLtVwAYjZcYUH8tDsOby+coYmM++f6j3GH4I7LWIhc0zrNU/MmNAt+Ln/r2Rpt/IeRbP0v/QkhcCL3gRxnAvxDywue2/R9DPv/S0zbQu+vnop+KcCuefiv+W3Yj/OLt15/9t2WswiOPPfcbG/9R+NXiIzZDHd95zH3DcOcvv/v6h+HsiTY3wDftBpj9L2NOMJD828P3Nt4AF8IjH7cbYBgePV180/B9AvYZLPfOn3//jd1vgMvsAU4xoNoVRSr4vPge2+SSbtq8+GnuDdDmBgA4qVMMqNZoM7QXUpGnxcfkkm7uQvFT3v54MFYAILP0ofjgK4pUZCmwT6VS/Jj8tPhJ2xuNbgC0NLkZA/DJ7GPxo+sqYlJ8xDaZXHz2YYKukZOWeH9cdgUAan1afPAVBQudfCl+/GDIJ+gaOWl63N647ApgF2LUopXFB19VxOefFR8sfSOPfc4N8ACtANZqxQdfUXjRbRLOmMaRDV/KTX2aszcutwIAql2z4gOLT370YY6u8YJEfp5/A1xmBQBUO1Z88hXFOcVn36T43rc/2q0AE+YkzZwqfrhXEZP3ekzk3OJ7XgM0XAFiQnmSZs4pPuOrCJvfObv9avHhN0DDPQAaJhZtqfjgyVcHxlcUWtix+OBziu9md7S5AQCZ5NHig4EyvoqIzz558sEQTVssPvsaoP0m8F6LH9JVxbT4VliI4IjTPDWPOTD7o82Pg7/2k/T7AEvFB7DsA/P+28OPn1794+CHH//+p22SL948DO/1i2tj4hc+wIhP/t6++cCoJYbubMfm3JW7/TEPQtKs/86dv37nuvw42Nqx4itTV94Au9hfsrau+HHyUUucP6/151z2yTFwqU1yoi/1J98ZcN3yUrQ72twAp4pf6iVvwM3hcItFv+fis0+Yn2eSCx9zlGMSJy3nBKNP88KEbnlG3tcA7fcAyuVuf4k3gEXSm8CLH3zs7/NVA9d0X/blBk/Hk8fj9HjNm/aN47rWAO1eATLhzEBNV05mNXAx9cnnxcbEGSvzdGUfP8/0e/vB6DPw+MwQi+O13/s8hzqOYT469sflVgCgppfsS+t6pCU+XXQu97n4syc/HaNaKkbElpB0045t+MAQ5fg0H82zPs8Z8ybFR14DXGYFADQ+xsmsBi6oLvt8v87e+XGaUWMxgi0h557a7TtJjrPmQUha/kw4zuOkOTdAuxWgZLinGMZ5Pbj8Y6D6k5/6gFFjMcZjcy6LL8fA1bx8XPSl/uQ7A65bntF4vqRN8nZG2xXA/TTBkwzDeANYGC7/1eKzT3g8r+SyT45JPOblnOjTvDxm+JcuPtBuBZAJnmSYSbweuJj13T560/ijxmJ4p+gWcLcvxyROGo/LxzuPeTDp1YCW/PF8Scv5QNDeaHMDALwQa3gDcIHHQo7M8cu+mj5551PLPPZpjuaNfaPP8alN80NrgAdvBQAkvsSfaE92+5lhUi61lJv6co6z5lmf54x5tQ0f8x3q74y2e4BTDEh8//9EO8Z2fdRSMYItIenmctnHcQYezzyHHJ8+t+ZBSBrzHqTiAw/GCsAZi65/pbsFLHC+6BNtLJ6zJeRcXfYNLJLm5eOiL/Un3xlw3fKMFotPhAZM9B3RagX423iRCobR2Jh/n+//R83tf6L9JouW4lQEsp/XQR1u9MkxcKlNcqIv9Sc/F891yzMaz5e0Wp6zIcb5U4r2hb+edseTLz1kE3rGJgk2mMHSCkbMyRuj+LgAUfx/2Crw6tuvP/sWstfgkceee8jIzj08xCLEBc4FGHULoOEzxGdjrvtmmJNz2Uc/56T+VcUfhncs/sEf/v7df7nY0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dFxLxiG/wGDsURlR8fKegAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,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\"","import { useCallback } from \"react\"\r\nimport { atom, useRecoilState, useRecoilValue } from \"recoil\"\r\n// import BigNumber from \"bignumber.js\"\r\nimport { always } from \"ramda\"\r\nimport themes, { Theme } from \"styles/themes/themes\"\r\nimport { DefaultTheme, SettingKey } from \"utils/localStorage\"\r\nimport { getLocalSetting, setLocalSetting } from \"utils/localStorage\"\r\n// import { debug } from \"utils/env\"\r\n// import { useAddress, useNetworkName } from \"data/wallet\"\r\n// import { calcDelegationsTotal, useDelegations } from \"../queries/staking\"\r\n\r\nexport const themeNameState = atom({\r\n  key: \"themeName\",\r\n  // default: getLocalSetting<Theme[\"name\"]>(SettingKey.Theme),\r\n  default: themes[1][\"name\"]\r\n})\r\n\r\nexport const useFindTheme = () => {\r\n  return (name: string) => {\r\n    const item = themes.find((theme) => theme.name === name)\r\n    if (!item) return DefaultTheme\r\n    return item\r\n  }\r\n}\r\n\r\nexport const useTheme = () => {\r\n  const name = useRecoilValue(themeNameState)\r\n  const find = useFindTheme()\r\n  return find(name)\r\n}\r\n\r\nexport const useThemeFavicon = () => {\r\n  const { favicon } = useTheme()\r\n  return favicon\r\n}\r\n\r\nexport const useThemeAnimation = () => {\r\n  const { animation } = useTheme()\r\n  return animation\r\n}\r\n\r\nexport const useThemeLogo = () => {\r\n  const { logo } = useTheme()\r\n  return logo\r\n}\r\n\r\nexport const useThemeState = () => {\r\n  const [prevName, setThemeName] = useRecoilState(themeNameState)\r\n  const findTheme = useFindTheme()\r\n  const prevTheme = findTheme(prevName)\r\n  const validate = useValidateTheme()\r\n\r\n  const set = useCallback(\r\n    (nextTheme: Theme) => {\r\n      if (!validate(nextTheme)) set(DefaultTheme)\r\n      if (prevTheme.name) document.body.classList.remove(prevTheme.name)\r\n      if (nextTheme.name) document.body.classList.add(nextTheme.name)\r\n      setFavicon(nextTheme.favicon)\r\n      setThemeName(nextTheme.name)\r\n      setLocalSetting<Theme[\"name\"]>(SettingKey.Theme, nextTheme.name)\r\n    },\r\n    [prevTheme, setThemeName, validate]\r\n  )\r\n\r\n  return [prevTheme, set] as const\r\n}\r\n\r\n/* validate */\r\n\r\n// Devuelve una función que a su vez devuelve true siempre\r\nexport const useValidateTheme = () => {return always(true)}\r\n\r\n\r\n/* export const validateTheme = (staked: string, theme?: Theme) => {\r\n  const item = themes.find((item) => item.name === theme?.name)\r\n  if (!item) return false\r\n  return new BigNumber(staked).gte(item.unlock)\r\n} */\r\n\r\n/* export const useValidateTheme = () => {\r\n  const networkName = useNetworkName()\r\n  \r\n  if (debug.theme || networkName !== \"mainnet\") \r\n    return always(true)\r\n  \r\n  const address = useAddress()\r\n  const { data: delegations } = useDelegations()\r\n  if (!address || !delegations)\r\n    return always(true)\r\n  \r\n  const staked = calcDelegationsTotal(delegations)\r\n  \r\n  return (theme: Theme) => validateTheme(staked, theme)\r\n} */\r\n\r\n\r\n/* favicon */\r\nconst setFavicon = (href: string) => {\r\n  const favicon = document.getElementById(\"favicon\") as HTMLLinkElement\r\n  favicon.href = href\r\n}\r\n","import { useEffect } from \"react\"\r\nimport { DefaultTheme } from \"utils/localStorage\"\r\nimport { useThemeState, useValidateTheme } from \"data/settings/Theme\"\r\n\r\nconst InitTheme = () => {\r\n  const [theme, setTheme] = useThemeState()\r\n  const validate = useValidateTheme()\r\n  const valid = validate(theme)\r\n\r\n  useEffect(() => {\r\n    setTheme(valid ? theme : DefaultTheme)\r\n  }, [valid, theme, setTheme])\r\n\r\n  console.log('InitTheme OK')\r\n\r\n  return null\r\n}\r\n\r\nexport default InitTheme\r\n","import axios, { AxiosError } from \"axios\"\r\n\r\nexport const getErrorMessage = (\r\n  error?: Error | AxiosError | unknown\r\n): string | undefined => {\r\n  if (!error) return\r\n\r\n  if (axios.isAxiosError(error))\r\n    return (error as AxiosError<any>).response?.data.message ?? error.message\r\n\r\n  if (error instanceof Error) return error.message\r\n}\r\n","import { PropsWithChildren } from \"react\"\r\nimport classNames from \"classnames\"\r\nimport styles from \"./Container.module.scss\"\r\n\r\ninterface Props {\r\n  className?: string\r\n}\r\n\r\nconst Container = ({ className, children }: PropsWithChildren<Props>) => {\r\n  return (\r\n    <div className={classNames(styles.container, className)}>{children}</div>\r\n  )\r\n}\r\n\r\nexport default Container\r\n","import { PropsWithChildren } from \"react\"\r\nimport { atom, useRecoilValue } from \"recoil\"\r\nimport classNames from \"classnames/bind\"\r\nimport Container from \"./Container\"\r\nimport styles from \"./Layout.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\nexport const mobileIsMenuOpenState = atom({\r\n  key: \"mobileIsMenuOpen\",\r\n  default: false,\r\n})\r\n\r\n/* components */\r\nexport const Banner = ({ children }: PropsWithChildren<{}>) => {\r\n  return <div className={styles.banner}>{children}</div>\r\n}\r\n\r\nexport const Sidebar = ({ children }: PropsWithChildren<{}>) => {\r\n  return <div className={styles.sidebar}>{children}</div>\r\n}\r\n\r\nexport const Header = ({ children }: PropsWithChildren<{}>) => {\r\n  return (\r\n    <header className={styles.header}>\r\n      <Container className={styles.container}>\r\n        <div className={styles.wrapper}>{children}</div>\r\n      </Container>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport const Actions = ({ children }: PropsWithChildren<{}>) => {\r\n  return <div className={styles.actions}>{children}</div>\r\n}\r\n\r\nexport const Content = ({ children }: PropsWithChildren<{}>) => {\r\n  return <main className={styles.main}>{children}</main>\r\n}\r\n\r\nconst Layout = ({ children }: PropsWithChildren<{}>) => {\r\n  const isMenuOpen = useRecoilValue(mobileIsMenuOpenState)\r\n\r\n  return (\r\n    <div className={cx(styles.layout, { menu: isMenuOpen })}>{children}</div>\r\n  )\r\n}\r\n\r\nexport default Layout\r\n","import { PropsWithChildren, ReactNode } from \"react\"\r\nimport classNames from \"classnames/bind\"\r\nimport styles from \"./Grid.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\nexport const Row = (props: PropsWithChildren<{ align?: \"start\" }>) => {\r\n  const { align, children } = props\r\n  return <div className={cx(styles.row, align)}>{children}</div>\r\n}\r\n\r\ninterface ColProps {\r\n  span?: number\r\n}\r\n\r\nexport const Col = ({ span = 1, children }: PropsWithChildren<ColProps>) => {\r\n  return (\r\n    <div className={styles.col} style={{ flex: span }}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\ninterface Props {\r\n  gap?: number\r\n  className?: string\r\n  columns?: number\r\n  rows?: number\r\n}\r\n\r\nconst Grid = (props: PropsWithChildren<Props>) => {\r\n  const { gap, className, columns, rows, children } = props\r\n\r\n  const style = {\r\n    gap,\r\n    gridTemplateColumns: columns && `repeat(${columns}, 1fr)`,\r\n    gridTemplateRows: rows && `repeat(${rows}, 1fr)`,\r\n  }\r\n\r\n  return (\r\n    <div className={classNames(styles.grid, className)} style={style}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Grid\r\n\r\n/* derive */\r\nexport const Auto = ({ columns }: { columns: [ReactNode, ReactNode] }) => {\r\n  const [component0, component1] = columns\r\n\r\n  return (\r\n    <Row align=\"start\">\r\n      <Col span={3}>{component0}</Col>\r\n      <Col span={2}>{component1}</Col>\r\n    </Row>\r\n  )\r\n}\r\n","import { PropsWithChildren } from \"react\"\r\nimport classNames from \"classnames/bind\"\r\nimport styles from \"./Flex.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\ninterface Props {\r\n  gap?: number\r\n  className?: string\r\n  start?: boolean\r\n  wrap?: boolean\r\n}\r\n\r\nexport const InlineFlex = (props: PropsWithChildren<Props>) => {\r\n  const { gap, start, wrap, className, children } = props\r\n  return (\r\n    <span\r\n      className={cx(styles.inline, { start, wrap }, className)}\r\n      style={{ gap }}\r\n    >\r\n      {children}\r\n    </span>\r\n  )\r\n}\r\n\r\nexport const FlexColumn = (props: PropsWithChildren<Props>) => {\r\n  const { gap, start, wrap, className, children } = props\r\n  return (\r\n    <div\r\n      className={cx(styles.column, { start, wrap }, className)}\r\n      style={{ gap }}\r\n    >\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Flex = (props: PropsWithChildren<Props>) => {\r\n  const { gap, start, wrap, className, children } = props\r\n  return (\r\n    <div\r\n      className={cx(styles.flex, { start, wrap }, className)}\r\n      style={{ gap }}\r\n    >\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Flex\r\n","import { PropsWithChildren, ReactNode } from \"react\"\r\nimport { Flex, Grid } from \"../layout\"\r\nimport styles from \"./State.module.scss\"\r\n\r\ninterface Props {\r\n  icon?: ReactNode\r\n}\r\n\r\nconst State = ({ icon, children }: PropsWithChildren<Props>) => {\r\n  return (\r\n    <Grid gap={8} className={styles.component}>\r\n      <Flex className={styles.icon}>{icon}</Flex>\r\n      <section className={styles.content}>{children}</section>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default State\r\n","import { PropsWithChildren, ReactNode } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport InboxOutlinedIcon from \"@mui/icons-material/InboxOutlined\"\r\nimport State from \"./State\"\r\n\r\nconst Empty = ({ icon, children }: PropsWithChildren<{ icon?: ReactNode }>) => {\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <State icon={icon ?? <InboxOutlinedIcon fontSize=\"inherit\" />}>\r\n      {children ?? t(\"No results found\")}\r\n    </State>\r\n  )\r\n}\r\n\r\nexport default Empty\r\n","import { PropsWithChildren } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport State from \"./State\"\r\n\r\nconst Wrong = ({ children }: PropsWithChildren<{}>) => {\r\n  const { t } = useTranslation()\r\n  return <State>{children ?? t(\"Something went wrong\")}</State>\r\n}\r\n\r\nexport default Wrong\r\n","import { useTranslation } from \"react-i18next\"\r\nimport Wrong from \"./Wrong\"\r\n\r\nconst Forbidden = () => {\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <Wrong>\r\n      {t(\r\n        \"This IP has been flagged for potential security violations. Change your network configuration.\"\r\n      )}\r\n    </Wrong>\r\n  )\r\n}\r\n\r\nexport default Forbidden\r\n","import { Component, PropsWithChildren, ReactNode } from \"react\"\r\nimport { AxiosError } from \"axios\"\r\nimport { getErrorMessage } from \"utils/error\"\r\nimport Wrong from \"./Wrong\"\r\nimport Forbidden from \"./Forbidden\"\r\n\r\ninterface Props {\r\n  fallback?: (error: Error) => ReactNode\r\n}\r\n\r\nexport interface State {\r\n  error: AxiosError | Error | null\r\n}\r\n\r\nconst initialState = { error: null } as State\r\n\r\nclass ErrorBoundary extends Component<PropsWithChildren<Props>, State> {\r\n  state = initialState\r\n\r\n  static getDerivedStateFromError(error: Error) {\r\n    return { error }\r\n  }\r\n\r\n  render() {\r\n    const { fallback, children } = this.props\r\n    const { error } = this.state\r\n\r\n    return !error ? (\r\n      children\r\n    ) : getIsForbidden(error) ? (\r\n      <Forbidden />\r\n    ) : (\r\n      fallback?.(error) ?? <Wrong>{getErrorMessage(error)}</Wrong>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary\r\n\r\n/* helpers */\r\nconst getIsForbidden = (error: AxiosError | Error) => {\r\n  if (\"response\" in error) return error.response?.status === 403\r\n}\r\n","import { useEffect, useRef } from \"react\"\r\n\r\nconst useTimeout = (callback: () => void, delay: number | null) => {\r\n  const savedCallback = useRef(callback)\r\n\r\n  useEffect(() => {\r\n    savedCallback.current = callback\r\n  }, [callback])\r\n\r\n  useEffect(() => {\r\n    if (!delay && delay !== 0) return\r\n    const id = setTimeout(() => savedCallback.current(), delay)\r\n    return () => clearTimeout(id)\r\n  }, [delay])\r\n}\r\n\r\nexport default useTimeout\r\n","import { PropsWithChildren, ReactNode, useState } from \"react\"\r\nimport LinearProgress from \"@mui/material/LinearProgress\"\r\nimport { getErrorMessage } from \"utils/error\"\r\nimport useTimeout from \"utils/hooks/useTimeout\"\r\nimport { Card } from \"../layout\"\r\nimport Wrong from \"./Wrong\"\r\nimport styles from \"./Fetching.module.scss\"\r\n\r\ninterface Props extends QueryState {\r\n  height?: number\r\n}\r\n\r\n// Use the component below to build layout on a page or a card\r\n// Use the preset component at the bottom of this file for use elsewhere\r\n\r\ninterface WithFetchingProps extends Props {\r\n  children: (progress?: ReactNode, wrong?: ReactNode) => ReactNode\r\n}\r\n\r\nexport const WithFetching = (props: WithFetchingProps) => {\r\n  const { isFetching, error, height = 4, children } = props\r\n  /* Do not indicate for responses within 100 ms */\r\n  const [showFetching, setShowFetching] = useState(false)\r\n  useTimeout(() => setShowFetching(!!isFetching), isFetching ? 100 : 0)\r\n  const progress = showFetching && isFetching\r\n\r\n  return (\r\n    <>\r\n      {children(\r\n        /* Strategy: Since progress is displayed even during refetching,\r\n           do not block the contents rendered with previous data */\r\n        progress ? (\r\n          <LinearProgress\r\n            color=\"inherit\"\r\n            className={styles.progress}\r\n            style={{ height }}\r\n            sx={{ position: \"absolute\" /* to overwrite */ }}\r\n          />\r\n        ) : undefined,\r\n        error ? <Wrong>{getErrorMessage(error)}</Wrong> : undefined\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nconst Fetching = ({ children, ...state }: PropsWithChildren<Props>) => {\r\n  return (\r\n    <WithFetching {...state}>\r\n      {(progress, wrong) => (\r\n        <>\r\n          {progress}\r\n          {wrong ? (\r\n            <Card>\r\n              <Wrong>{getErrorMessage(state.error)}</Wrong>\r\n            </Card>\r\n          ) : (\r\n            children\r\n          )}\r\n        </>\r\n      )}\r\n    </WithFetching>\r\n  )\r\n}\r\n\r\nexport default Fetching\r\n","import CircularProgress from \"@mui/material/CircularProgress\"\r\nimport { CircularProgressProps } from \"@mui/material/CircularProgress\"\r\n\r\nconst LoadingCircular = (props: CircularProgressProps) => {\r\n  return <CircularProgress color=\"inherit\" {...props} />\r\n}\r\n\r\nexport default LoadingCircular\r\n","export const getMaxHeightStyle = (\r\n  maxHeight: number | boolean | undefined,\r\n  initial?: number\r\n) => {\r\n  if (!maxHeight) return\r\n\r\n  return {\r\n    maxHeight: typeof maxHeight === \"number\" ? maxHeight : initial,\r\n    overflowY: \"auto\" as const,\r\n  }\r\n}\r\n","import { PropsWithChildren, ReactNode, useEffect, useState } from \"react\"\r\nimport { useLocation } from \"react-router-dom\"\r\nimport ReactModal from \"react-modal\"\r\nimport classNames from \"classnames/bind\"\r\nimport CloseIcon from \"@mui/icons-material/Close\"\r\nimport { RenderButton } from \"types/components\"\r\nimport createContext from \"utils/createContext\"\r\nimport { getMaxHeightStyle } from \"utils/style\"\r\nimport styles from \"./Modal.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\nReactModal.setAppElement(\"#root\")\r\n\r\ninterface ModalProps {\r\n  closeIcon?: ReactNode\r\n  icon?: ReactNode\r\n\r\n  /* content */\r\n  title?: ReactNode\r\n  footer?: (close: ReactModal.Props[\"onRequestClose\"]) => ReactNode\r\n\r\n  /* style */\r\n  confirm?: boolean\r\n  maxHeight?: boolean | number\r\n}\r\n\r\nexport interface Props extends ModalProps, ReactModal.Props {}\r\n\r\nconst Modal = (props: PropsWithChildren<Props>) => {\r\n  const { title, children, footer } = props\r\n  const { icon, closeIcon, onRequestClose, confirm, maxHeight } = props\r\n\r\n  return (\r\n    <ReactModal\r\n      {...props}\r\n      className={styles.modal}\r\n      overlayClassName={styles.overlay}\r\n    >\r\n      {onRequestClose && (\r\n        <button type=\"button\" className={styles.close} onClick={onRequestClose}>\r\n          {closeIcon ?? <CloseIcon fontSize=\"inherit\" />}\r\n        </button>\r\n      )}\r\n\r\n      {(title || icon) && (\r\n        <header className={styles.header}>\r\n          <section className={styles.icon}>{icon}</section>\r\n          <h1 className={cx(styles.title, { confirm })}>{title}</h1>\r\n        </header>\r\n      )}\r\n\r\n      {children && (\r\n        <section\r\n          className={styles.main}\r\n          style={getMaxHeightStyle(maxHeight, 320)}\r\n        >\r\n          {children}\r\n        </section>\r\n      )}\r\n\r\n      {footer && (\r\n        <footer className={styles.footer}>{footer(onRequestClose)}</footer>\r\n      )}\r\n    </ReactModal>\r\n  )\r\n}\r\n\r\nexport default Modal\r\n\r\n/* helper */\r\nexport const [useModal, ModalProvider] = createContext<() => void>(\"useModal\")\r\n\r\ninterface ModalButtonProps extends ModalProps {\r\n  renderButton: RenderButton\r\n  modalKey?: string\r\n}\r\n\r\nexport const ModalButton = (props: PropsWithChildren<ModalButtonProps>) => {\r\n  const { pathname } = useLocation()\r\n  const { renderButton, modalKey = pathname, ...rest } = props\r\n\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n  const open = () => setIsModalOpen(true)\r\n  const close = () => setIsModalOpen(false)\r\n\r\n  useEffect(() => {\r\n    close()\r\n  }, [modalKey])\r\n\r\n  return (\r\n    <ModalProvider value={close}>\r\n      {renderButton(open)}\r\n      <Modal {...rest} isOpen={isModalOpen} onRequestClose={close} />\r\n    </ModalProvider>\r\n  )\r\n}\r\n","import { PropsWithChildren, ReactNode } from \"react\"\r\nimport { Link, To } from \"react-router-dom\"\r\nimport classNames from \"classnames/bind\"\r\nimport { Flex } from \"../layout\"\r\nimport { ErrorBoundary, WithFetching } from \"../feedback\"\r\nimport styles from \"./Card.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\nexport interface Props extends QueryState {\r\n  title?: ReactNode\r\n  extra?: ReactNode\r\n\r\n  /* customize */\r\n  size?: \"small\"\r\n  bordered?: boolean\r\n  bg?: boolean\r\n\r\n  className?: string\r\n  mainClassName?: string\r\n\r\n  /* button */\r\n  onClick?: () => void\r\n  disabled?: boolean\r\n\r\n  /* link */\r\n  to?: To\r\n}\r\n\r\nconst Card = (props: PropsWithChildren<Props>) => {\r\n  const { title, extra, children, onClick, to } = props\r\n  const { size, bordered, bg, disabled, className, mainClassName } = props\r\n\r\n  return (\r\n    <WithFetching {...props} height={2}>\r\n      {(progress, wrong) => {\r\n        const style = {\r\n          bordered,\r\n          bg,\r\n          default: !bordered,\r\n          grid: (title || extra) && (children || wrong),\r\n          link: to,\r\n          button: onClick,\r\n          error: wrong,\r\n        }\r\n\r\n        const cardClassName = cx(styles.card, size, style, className)\r\n\r\n        const content = (\r\n          <>\r\n            {progress}\r\n\r\n            {(title || extra) && (\r\n              <header className={styles.header}>\r\n                <h1 className={styles.title}>{title}</h1>\r\n                <Flex className={styles.extra}>{extra}</Flex>\r\n              </header>\r\n            )}\r\n\r\n            <section className={classNames(styles.main, mainClassName)}>\r\n              {wrong ?? (children && <ErrorBoundary>{children}</ErrorBoundary>)}\r\n            </section>\r\n          </>\r\n        )\r\n\r\n        return to ? (\r\n          <Link to={to} className={cardClassName}>\r\n            {content}\r\n          </Link>\r\n        ) : onClick ? (\r\n          <button\r\n            className={cardClassName}\r\n            onClick={onClick}\r\n            disabled={disabled}\r\n          >\r\n            {content}\r\n          </button>\r\n        ) : (\r\n          <article className={cardClassName}>{content}</article>\r\n        )\r\n      }}\r\n    </WithFetching>\r\n  )\r\n}\r\n\r\nexport default Card\r\n","import { PropsWithChildren, ReactNode } from \"react\"\r\nimport classNames from \"classnames/bind\"\r\nimport { ErrorBoundary, WithFetching } from \"../feedback\"\r\nimport Container from \"./Container\"\r\nimport Card from \"./Card\"\r\nimport styles from \"./Page.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\ninterface Props extends QueryState {\r\n  title?: string\r\n  extra?: ReactNode\r\n  mainClassName?: string\r\n  small?: boolean\r\n  sub?: boolean // used as a page in a page\r\n}\r\n\r\nconst Page = (props: PropsWithChildren<Props>) => {\r\n  const { title, extra, children, small, sub, mainClassName } = props\r\n\r\n  return (\r\n    <WithFetching {...props}>\r\n      {(progress, wrong) => (\r\n        <>\r\n          {progress}\r\n\r\n          <article className={cx(styles.page, { sub, small })}>\r\n            <Container className={styles.grid}>\r\n              {title && (\r\n                <header className={styles.header}>\r\n                  <h1 className={styles.title}>{title}</h1>\r\n                  {extra}\r\n                </header>\r\n              )}\r\n\r\n              <section className={classNames(styles.main, mainClassName)}>\r\n                {wrong ? (\r\n                  <Card>{wrong}</Card>\r\n                ) : (\r\n                  <ErrorBoundary>{children}</ErrorBoundary>\r\n                )}\r\n              </section>\r\n            </Container>\r\n          </article>\r\n        </>\r\n      )}\r\n    </WithFetching>\r\n  )\r\n}\r\n\r\nexport default Page\r\n","import { PropsWithChildren } from \"react\"\r\nimport classNames from \"classnames/bind\"\r\nimport styles from \"./ExtraActions.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\ninterface Props {\r\n  align?: \"stretch\" | \"end\" | \"center\"\r\n}\r\n\r\nconst ExtraActions = ({ children, ...props }: PropsWithChildren<Props>) => {\r\n  const { align = \"end\" } = props\r\n  return <div className={cx(styles.actions, align)}>{children}</div>\r\n}\r\n\r\nexport default ExtraActions\r\n","import { ReactNode, useEffect, useState } from \"react\"\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\"\r\nimport classNames from \"classnames/bind\"\r\nimport { capitalize } from \"@mui/material\"\r\nimport styles from \"./Tabs.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\ninterface Props {\r\n  tabs: { key: string; tab: string; children: ReactNode; disabled?: boolean }[]\r\n  defaultActiveKey?: string\r\n  type: \"line\" | \"card\"\r\n  reversed?: boolean\r\n  state?: boolean\r\n}\r\n\r\nconst Tabs = ({ tabs, defaultActiveKey, type, reversed, state }: Props) => {\r\n  const initial = defaultActiveKey ?? tabs[0].key\r\n  const navigate = useNavigate()\r\n  const location = useLocation()\r\n  const hash = location.hash.replace(\"#\", \"\")\r\n\r\n  useEffect(() => {\r\n    if (!state && !hash) navigate({ hash: initial }, { replace: true })\r\n  }, [hash, initial, navigate, state])\r\n\r\n  /* state */\r\n  const [activeKey, setActiveKey] = useState(initial)\r\n\r\n  return (\r\n    <>\r\n      <section className={cx(styles.tabs, type, { reversed })}>\r\n        {tabs.map(({ key, tab, disabled }) =>\r\n          state ? (\r\n            <button\r\n              type=\"button\"\r\n              className={cx(styles.tab, {\r\n                active: key === activeKey,\r\n                disabled,\r\n              })}\r\n              onClick={() => !disabled && setActiveKey(key)}\r\n              disabled={disabled}\r\n              key={key}\r\n            >\r\n              {capitalize(tab)}\r\n            </button>\r\n          ) : disabled ? (\r\n            <span className={classNames(styles.tab, styles.disabled)} key={key}>\r\n              {capitalize(tab)}\r\n            </span>\r\n          ) : (\r\n            <Link\r\n              className={cx(styles.tab, { active: key === hash })}\r\n              to={{ hash: key }}\r\n              key={key}\r\n            >\r\n              {capitalize(tab)}\r\n            </Link>\r\n          )\r\n        )}\r\n      </section>\r\n\r\n      {tabs.find((tab) => tab.key === (state ? activeKey : hash))?.children}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Tabs\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDropUp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 6 3\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 3 3 0 0 3h6z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDropUp);\nexport default __webpack_public_path__ + \"static/media/DropUp.277b7288.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDropDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 6 3\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 .1 3 3l3-3H0v.1z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDropDown);\nexport default __webpack_public_path__ + \"static/media/DropDown.e35fbbc8.svg\";\nexport { ForwardRef as ReactComponent };","import { ButtonHTMLAttributes, ForwardedRef, ReactNode } from \"react\"\r\nimport { forwardRef } from \"react\"\r\nimport classNames from \"classnames/bind\"\r\nimport { LoadingCircular } from \"../feedback\"\r\nimport styles from \"./Button.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\nexport interface ButtonConfig {\r\n  icon?: ReactNode\r\n  size?: \"small\"\r\n  color?: \"default\" | \"primary\" | \"danger\"\r\n  outline?: boolean\r\n  block?: boolean\r\n  loading?: boolean\r\n  disabled?: boolean\r\n}\r\n\r\ntype Props = ButtonConfig & ButtonHTMLAttributes<HTMLButtonElement>\r\n\r\nconst Button = forwardRef(\r\n  ({ children, ...props }: Props, ref?: ForwardedRef<HTMLButtonElement>) => {\r\n    const { icon, size, color, outline, block, loading, ...attrs } = props\r\n    const className = classNames(getClassName(props), props.className)\r\n\r\n    return (\r\n      <button type=\"button\" {...attrs} className={className} ref={ref}>\r\n        {loading ? <LoadingCircular size={16} /> : icon}\r\n        {children}\r\n      </button>\r\n    )\r\n  }\r\n)\r\n\r\nexport default Button\r\n\r\n/* helpers */\r\nexport const getClassName = (props: ButtonConfig) => {\r\n  const { size, outline, block, disabled, loading } = props\r\n  const color = props.color ?? (!outline && \"default\")\r\n  return cx(styles.button, size, color, { outline, block, disabled, loading })\r\n}\r\n","import { useState } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\"\r\nimport ContentCopyIcon from \"@mui/icons-material/ContentCopy\"\r\nimport useTimeout from \"utils/hooks/useTimeout\"\r\nimport styles from \"./Copy.module.scss\"\r\n\r\nconst Copy = (props: CopyToClipboard.Props) => {\r\n  const { t } = useTranslation()\r\n  const [copied, setCopied] = useState(false)\r\n\r\n  useTimeout(() => setCopied(false), copied ? 1000 : 0)\r\n\r\n  return (\r\n    <CopyToClipboard {...props} onCopy={() => setCopied(true)}>\r\n      <button type=\"button\" className={styles.button}>\r\n        <ContentCopyIcon fontSize=\"inherit\" />\r\n        {copied ? t(\"Copied\") : t(\"Copy\")}\r\n      </button>\r\n    </CopyToClipboard>\r\n  )\r\n}\r\n\r\nexport default Copy\r\n","import { ForwardedRef, forwardRef, HTMLProps } from \"react\"\r\nimport CallMadeIcon from \"@mui/icons-material/CallMade\"\r\n\r\ninterface Props extends HTMLProps<HTMLAnchorElement> {\r\n  icon?: boolean\r\n}\r\n\r\nconst ExternalLink = forwardRef(\r\n  (\r\n    { icon, children, href, ...attrs }: Props,\r\n    ref: ForwardedRef<HTMLAnchorElement>\r\n  ) => {\r\n    if (!validateLink(href)) return null\r\n\r\n    return (\r\n      <a\r\n        {...attrs}\r\n        href={href}\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        onClick={(e) => e.stopPropagation()}\r\n        ref={ref}\r\n      >\r\n        {children}\r\n        {icon && <CallMadeIcon fontSize=\"inherit\" />}\r\n      </a>\r\n    )\r\n  }\r\n)\r\n\r\nexport default ExternalLink\r\n\r\nexport const validateLink = (href?: string) => {\r\n  if (!href) return false\r\n\r\n  try {\r\n    const url = new URL(href)\r\n    return [\"https:\", \"mailto:\"].includes(url.protocol)\r\n  } catch {\r\n    return false\r\n  }\r\n}\r\n","import { ForwardedRef, HTMLAttributes, PropsWithChildren } from \"react\"\r\nimport { forwardRef } from \"react\"\r\nimport classNames from \"classnames\"\r\nimport { truncate } from \"@terra.kitchen/utils\"\r\nimport { FINDER } from \"config/constants\"\r\nimport { useNetworkName } from \"data/wallet\"\r\nimport ExternalLink from \"./ExternalLink\"\r\nimport styles from \"./FinderLink.module.scss\"\r\n\r\ninterface Props extends HTMLAttributes<HTMLAnchorElement> {\r\n  value?: string\r\n\r\n  /* path (default: address) */\r\n  block?: boolean\r\n  tx?: boolean\r\n  validator?: boolean\r\n\r\n  /* customize */\r\n  short?: boolean\r\n}\r\n\r\nconst FinderLink = forwardRef(\r\n  (\r\n    { children, short, ...rest }: PropsWithChildren<Props>,\r\n    ref: ForwardedRef<HTMLAnchorElement>\r\n  ) => {\r\n    const { block, tx, validator, ...attrs } = rest\r\n    const networkName = useNetworkName()\r\n    const path = tx\r\n      ? \"tx\"\r\n      : block\r\n        ? \"block\"\r\n        : validator\r\n          ? \"validator\"\r\n          : \"address\"\r\n\r\n    const value = rest.value ?? children\r\n    const link = [FINDER, networkName, path, value].join(\"/\")\r\n    const className = classNames(attrs.className, styles.link)\r\n\r\n    return (\r\n      <ExternalLink {...attrs} href={link} className={className} ref={ref} icon>\r\n        {short && typeof children === \"string\" ? truncate(children) : children}\r\n      </ExternalLink>\r\n    )\r\n  }\r\n)\r\n\r\nexport default FinderLink\r\n","import { HTMLAttributes, ReactNode } from \"react\"\r\nimport { Link, LinkProps } from \"react-router-dom\"\r\nimport classNames from \"classnames/bind\"\r\nimport ChevronRightIcon from \"@mui/icons-material/ChevronRight\"\r\nimport styles from \"./Internal.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\ninterface Props {\r\n  icon?: ReactNode\r\n  chevron?: boolean\r\n  disabled?: boolean\r\n}\r\n\r\ninterface InternalButtonProps\r\n  extends Props,\r\n    HTMLAttributes<HTMLButtonElement> {}\r\n\r\nexport const InternalButton = (props: InternalButtonProps) => {\r\n  return <button {...render(props)} type=\"button\" />\r\n}\r\n\r\ninterface InternalLinkProps extends Props, LinkProps {}\r\n\r\nexport const InternalLink = (props: InternalLinkProps) => {\r\n  return props.disabled ? (\r\n    <span {...render(props)} />\r\n  ) : (\r\n    <Link {...render(props)} />\r\n  )\r\n}\r\n\r\n/* helpers */\r\nfunction render<T extends InternalLinkProps | InternalButtonProps>(props: T) {\r\n  const { icon, chevron, className, children, disabled, ...attrs } = props\r\n\r\n  return {\r\n    ...attrs,\r\n    className: cx(styles.item, { disabled }, className),\r\n    children: (\r\n      <>\r\n        <span className={styles.icon}>{icon}</span>\r\n        {children}\r\n        {chevron && (\r\n          <span className={styles.chevron}>\r\n            <ChevronRightIcon style={{ fontSize: 16 }} />\r\n          </span>\r\n        )}\r\n      </>\r\n    ),\r\n  }\r\n}\r\n","import classNames from \"classnames/bind\"\r\nimport { Grid } from \"../layout\"\r\nimport Copy from \"./Copy\"\r\nimport styles from \"./Pre.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\ninterface Props {\r\n  title?: string\r\n  children: any\r\n  copy?: boolean\r\n\r\n  /* style */\r\n  height?: number\r\n\r\n  /* white-space */\r\n  normal?: boolean\r\n  break?: boolean\r\n}\r\n\r\nconst Pre = ({ height, title, children, copy, ...props }: Props) => {\r\n  const text =\r\n    typeof children === \"object\" ? JSON.stringify(children, null, 2) : children\r\n\r\n  return (\r\n    <Grid gap={4}>\r\n      {(title || copy) && (\r\n        <header className={styles.header}>\r\n          <h1>{title}</h1>\r\n          {copy && <Copy text={text} />}\r\n        </header>\r\n      )}\r\n\r\n      <pre style={{ height }} className={cx(styles.pre, props)}>\r\n        {text}\r\n      </pre>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default Pre\r\n","import BigNumber from \"bignumber.js\"\r\n\r\nexport const has = (value?: BigNumber.Value) =>\r\n  !!value && new BigNumber(value).gte(1)\r\n\r\nexport const toPrice = (n: BigNumber.Value) =>\r\n  new BigNumber(n).dp(18, BigNumber.ROUND_DOWN).toNumber()\r\n","import { Coins } from \"@terra-money/terra.js\"\r\nimport { isDenom, isDenomIBC } from \"@terra.kitchen/utils\"\r\n\r\n/* coin */\r\nexport const getAmount = (coins: Coins, denom: Denom, fallback = \"0\") => {\r\n  return coins.get(denom)?.amount.toString() ?? fallback\r\n}\r\n\r\n/* coins */\r\nexport const sortCoins = (\r\n  coins: Coins,\r\n  currency?: string,\r\n  sorter?: (a: CoinData, b: CoinData) => number\r\n) => {\r\n  return sortByDenom(coins.toData(), currency, sorter)\r\n}\r\n\r\nexport const sortByDenom = <T extends { denom: Denom }>(\r\n  coins: T[],\r\n  currency = \"\",\r\n  sorter?: (a: T, b: T) => number\r\n) =>\r\n  coins.sort(\r\n    (a, b) =>\r\n      compareIs(\"uluna\")(a.denom, b.denom) ||\r\n      compareIs(\"uusd\")(a.denom, b.denom) ||\r\n      compareIs(currency)(a.denom, b.denom) ||\r\n      compareIsDenomIBC(a.denom, b.denom) ||\r\n      (sorter?.(a, b) ?? 0)\r\n  )\r\n\r\nexport const sortDenoms = (denoms: Denom[], currency = \"\") =>\r\n  denoms.sort(\r\n    (a, b) =>\r\n      compareIs(\"uluna\")(a, b) ||\r\n      compareIs(\"uusd\")(a, b) ||\r\n      compareIs(currency)(a, b) ||\r\n      compareIsDenomIBC(a, b)\r\n  )\r\n\r\nexport const compareIsDenomIBC = (a: string, b: string) =>\r\n  Number(isDenomIBC(a)) - Number(isDenomIBC(b))\r\n\r\nexport const compareIs = (k: string) => (a: string, b: string) =>\r\n  Number(b === k) - Number(a === k)\r\n\r\n/* cw20 */\r\nexport const toAssetInfo = (token: string) => {\r\n  return isDenom(token)\r\n    ? { native_token: { denom: token } }\r\n    : { token: { contract_addr: token } }\r\n}\r\n\r\nexport const toAsset = (token: Token, amount: Amount) => {\r\n  return { amount, info: toAssetInfo(token) }\r\n}\r\n\r\nconst toToken = (info: AssetInfo) => {\r\n  return \"native_token\" in info\r\n    ? info.native_token.denom\r\n    : info.token.contract_addr\r\n}\r\n\r\nexport const toTokenItem = ({ amount, info }: Asset) => {\r\n  return { amount, token: toToken(info) }\r\n}\r\n","import { useQuery } from \"react-query\"\r\nimport axios from \"axios\"\r\nimport { isDenomTerraNative } from \"@terra.kitchen/utils\"\r\nimport { Coins } from \"@terra-money/terra.js\"\r\nimport createContext from \"utils/createContext\"\r\nimport { queryKey, RefetchOptions, useIsClassic } from \"../query\"\r\nimport { useAddress, useNetwork } from \"../wallet\"\r\nimport { useLCDClient } from \"./lcdClient\"\r\n\r\nexport const useSupply = () => {\r\n  const { lcd } = useNetwork()\r\n\r\n  return useQuery(\r\n    [queryKey.bank.supply],\r\n    async () => {\r\n      // TODO: Pagination\r\n      // Required when the number of results exceed 100\r\n      const { data } = await axios.get<{ supply: CoinData[] }>(\r\n        \"cosmos/bank/v1beta1/supply\", // FIXME: Import from terra.js\r\n        { baseURL: lcd }\r\n      )\r\n\r\n      return data.supply\r\n    },\r\n    { ...RefetchOptions.INFINITY }\r\n  )\r\n}\r\n\r\n// As a wallet app, native token balance is always required from the beginning.\r\nexport const [useBankBalance, BankBalanceProvider] =\r\n  createContext<Coins>(\"useBankBalance\")\r\n\r\nexport const useInitialBankBalance = () => {\r\n  const address = useAddress()\r\n  const lcd = useLCDClient()\r\n  const isClassic = useIsClassic()\r\n\r\n  return useQuery(\r\n    [queryKey.bank.balance, address],\r\n    async () => {\r\n      if (!address) return new Coins()\r\n      // TODO: Pagination\r\n      // Required when the number of results exceed 100\r\n      if (isClassic) {\r\n        const [coins] = await lcd.bank.balance(address)\r\n        return coins\r\n      }\r\n\r\n      const [coins] = await lcd.bank.spendableBalances(address)\r\n      return coins\r\n    },\r\n    { ...RefetchOptions.DEFAULT }\r\n  )\r\n}\r\n\r\nexport const useBalances = () => {\r\n  const address = useAddress()\r\n  const lcd = useLCDClient()\r\n\r\n  return useQuery(\r\n    [queryKey.bank.balances, address],\r\n    async () => {\r\n      if (!address) return new Coins()\r\n      const [coins] = await lcd.bank.balance(address)\r\n      return coins\r\n    },\r\n    { ...RefetchOptions.DEFAULT }\r\n  )\r\n}\r\n\r\nexport const useTerraNativeLength = () => {\r\n  const bankBalance = useBankBalance()\r\n  return bankBalance?.toArray().filter(({ denom }) => isDenomTerraNative(denom))\r\n    .length\r\n}\r\n\r\nexport const useIsWalletEmpty = () => {\r\n  const length = useTerraNativeLength()\r\n  return !length\r\n}\r\n","import { HTMLAttributes, PropsWithChildren, ReactNode } from \"react\"\r\nimport ArrowDownwardIcon from \"@mui/icons-material/ArrowDownward\"\r\nimport { Grid } from \"../layout\"\r\nimport styles from \"./Form.module.scss\"\r\n\r\nconst Form = (attrs: HTMLAttributes<HTMLFormElement>) => {\r\n  return <form {...attrs} className={styles.form} />\r\n}\r\n\r\nexport default Form\r\n\r\n/* arrow */\r\nexport const FormArrow = ({ onClick }: { onClick?: () => void }) => {\r\n  return (\r\n    <div className=\"center\">\r\n      {onClick ? (\r\n        <button type=\"button\" onClick={onClick}>\r\n          <ArrowDownwardIcon />\r\n        </button>\r\n      ) : (\r\n        <ArrowDownwardIcon />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\n/* group */\r\ninterface FormGroupProps {\r\n  button?: { onClick: () => void; children: ReactNode }\r\n}\r\n\r\nexport const FormGroup = (props: PropsWithChildren<FormGroupProps>) => {\r\n  const { children, button } = props\r\n\r\n  return (\r\n    <div className={styles.group}>\r\n      {children}\r\n      {button && <button type=\"button\" className={styles.button} {...button} />}\r\n    </div>\r\n  )\r\n}\r\n\r\ninterface FormItemProps {\r\n  label?: string\r\n  extra?: ReactNode\r\n  error?: string\r\n}\r\n\r\n/* item */\r\nexport const FormItem = (props: PropsWithChildren<FormItemProps>) => {\r\n  const { label, extra, error, children } = props\r\n\r\n  return (\r\n    <Grid gap={4}>\r\n      <header className={styles.header}>\r\n        {label && <label className={styles.label}>{label}</label>}\r\n        <aside className={styles.extra}>{extra}</aside>\r\n      </header>\r\n\r\n      {children}\r\n\r\n      {error && <p className={styles.error}>{error}</p>}\r\n    </Grid>\r\n  )\r\n}\r\n","import { PropsWithChildren } from \"react\"\r\nimport classNames from \"classnames/bind\"\r\nimport InfoIcon from \"@mui/icons-material/Info\"\r\nimport { Flex } from \"../layout\"\r\nimport styles from \"./FormHelp.module.scss\"\r\n\r\nconst Component = (props: PropsWithChildren<{ className: string }>) => {\r\n  const { children, className } = props\r\n  return (\r\n    <div className={classNames(styles.component, className)}>\r\n      <Flex>\r\n        <InfoIcon fontSize=\"inherit\" style={{ fontSize: 18 }} />\r\n      </Flex>\r\n      <span>{children}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const FormHelp = (props: PropsWithChildren<{}>) => {\r\n  return <Component {...props} className={styles.info} />\r\n}\r\n\r\nexport const FormWarning = (props: PropsWithChildren<{}>) => {\r\n  return <Component {...props} className={styles.warning} />\r\n}\r\n\r\nexport const FormError = (props: PropsWithChildren<{}>) => {\r\n  return <Component {...props} className={styles.error} />\r\n}\r\n","import { ReactNode } from \"react\"\r\nimport { isDenomIBC, isDenomTerra } from \"@terra.kitchen/utils\"\r\nimport { readDenom, truncate } from \"@terra.kitchen/utils\"\r\nimport { AccAddress } from \"@terra-money/terra.js\"\r\nimport { ASSETS } from \"config/constants\"\r\nimport { useIsClassic } from \"./query\"\r\nimport { useIBCBaseDenom } from \"./queries/ibc\"\r\nimport { useTokenInfoCW20 } from \"./queries/wasm\"\r\nimport { useCustomTokensCW20 } from \"./settings/CustomTokens\"\r\nimport { useCW20Whitelist, useIBCWhitelist } from \"./Terra/TerraAssets\"\r\n\r\nexport const useTokenItem = (token: Token): TokenItem | undefined => {\r\n  const isClassic = useIsClassic()\r\n\r\n  /* CW20 */\r\n  const matchToken = (item: TokenItem) => item.token === token\r\n\r\n  // 1. Local storage\r\n  const { list } = useCustomTokensCW20()\r\n  const customTokenItem = list.find(matchToken)\r\n\r\n  // 2. Whitelist\r\n  const cw20WhitelistResult = useCW20Whitelist(!!customTokenItem)\r\n  const { data: cw20Whitelist = {} } = cw20WhitelistResult\r\n  const listedCW20TokenItem = Object.values(cw20Whitelist).find(matchToken)\r\n\r\n  // 3. Contract query - token info\r\n  const shouldQueryCW20 = cw20WhitelistResult.isSuccess && !listedCW20TokenItem\r\n  const tokenInfoResult = useTokenInfoCW20(token, shouldQueryCW20)\r\n  const { data: tokenInfo } = tokenInfoResult\r\n  const tokenInfoItem = tokenInfo ? { token, ...tokenInfo } : undefined\r\n\r\n  /* IBC */\r\n  // 1. Whitelist\r\n  const { data: ibcWhitelist = {}, ...ibcWhitelistState } = useIBCWhitelist()\r\n  const listedIBCTokenItem = ibcWhitelist[token.replace(\"ibc/\", \"\")]\r\n\r\n  // 2. Query denom trace\r\n  const shouldQueryIBC = ibcWhitelistState.isSuccess && !listedIBCTokenItem\r\n  const { data: base_denom } = useIBCBaseDenom(token, shouldQueryIBC)\r\n\r\n  if (AccAddress.validate(token)) {\r\n    return customTokenItem ?? listedCW20TokenItem ?? tokenInfoItem\r\n  }\r\n\r\n  if (isDenomIBC(token)) {\r\n    const item = {\r\n      ...listedIBCTokenItem,\r\n      denom: token,\r\n      base_denom: listedIBCTokenItem?.base_denom ?? base_denom,\r\n    }\r\n\r\n    return readIBCDenom(item)\r\n  }\r\n\r\n  return readNativeDenom(token, isClassic)\r\n}\r\n\r\ninterface Props {\r\n  token: Token\r\n  children: (token: TokenItem) => ReactNode\r\n}\r\n\r\nexport const WithTokenItem = ({ token, children }: Props) => {\r\n  const tokenItem = useTokenItem(token)\r\n  if (!tokenItem) return null\r\n  return <>{children(tokenItem)}</>\r\n}\r\n\r\n/* helpers */\r\nexport const getIcon = (path: string) => `${ASSETS}/icon/svg/${path}`\r\n\r\nexport const readNativeDenom = (\r\n  denom: Denom,\r\n  isClassic?: boolean\r\n): TokenItem => {\r\n  const symbol = readDenom(denom)\r\n  const symbolClassic = denom === \"uluna\" ? \"LUNC\" : symbol + \"C\"\r\n\r\n  const path = isDenomTerra(denom)\r\n    ? `Terra/${symbol}.svg`\r\n    : isClassic\r\n    ? \"LUNC.svg\"\r\n    : \"LUNA.png\"\r\n\r\n  return {\r\n    token: denom,\r\n    symbol: isClassic ? symbolClassic : symbol,\r\n    name: isDenomTerra(denom)\r\n      ? `Terra ${denom.slice(1).toUpperCase()}`\r\n      : undefined,\r\n    icon: getIcon(path),\r\n    decimals: 6,\r\n  }\r\n}\r\n\r\nexport const readIBCDenom = (item: IBCTokenItem): TokenItem => {\r\n  const { denom, base_denom } = item\r\n  const symbol =\r\n    item.symbol ?? ((base_denom && readDenom(base_denom)) || base_denom)\r\n  const path = symbol ? `ibc/${symbol}.svg` : \"IBC.svg\"\r\n\r\n  return {\r\n    token: denom,\r\n    symbol: symbol ?? truncate(denom),\r\n    icon: getIcon(path),\r\n    decimals: item.decimals ?? 6,\r\n  }\r\n}\r\n","import { atom, useRecoilState } from \"recoil\"\r\nimport update from \"immutability-helper\"\r\nimport { DefaultCustomTokensItem } from \"utils/localStorage\"\r\nimport { getLocalSetting, setLocalSetting } from \"utils/localStorage\"\r\nimport { SettingKey } from \"utils/localStorage\"\r\nimport { useNetworkName } from \"../wallet\"\r\n\r\nconst customTokensState = atom({\r\n  key: \"customTokens\",\r\n  default: getLocalSetting<CustomTokens>(SettingKey.CustomTokens),\r\n})\r\n\r\ninterface Params<T> {\r\n  type: \"ibc\" | \"cw20\" | \"cw721\"\r\n  key: keyof T\r\n}\r\n\r\nconst useCustomTokens = <T extends CustomToken>({ type, key }: Params<T>) => {\r\n  const [customTokens, setCustomTokens] = useRecoilState(customTokensState)\r\n  const networkName = useNetworkName()\r\n  const list = (customTokens[networkName]?.[type] ?? []) as T[]\r\n\r\n  const getIsAdded = (param: T) =>\r\n    !!list.find((item) => item[key] === param[key])\r\n\r\n  const updateList = (list: T[]) => {\r\n    const prev = { [networkName]: DefaultCustomTokensItem, ...customTokens }\r\n    const next = update(prev, { [networkName]: { [type]: { $set: list } } })\r\n    setCustomTokens(next)\r\n    setLocalSetting(SettingKey.CustomTokens, next)\r\n  }\r\n\r\n  const add = (newItem: T) => {\r\n    if (getIsAdded(newItem)) return\r\n    updateList([...list, newItem])\r\n  }\r\n\r\n  const remove = (oldItem: T) =>\r\n    updateList(list.filter((item) => item[key] !== oldItem[key]))\r\n\r\n  return { list, getIsAdded, update: updateList, add, remove }\r\n}\r\n\r\nexport const useCustomTokensIBC = () => {\r\n  return useCustomTokens<CustomTokenIBC>({ type: \"ibc\", key: \"denom\" })\r\n}\r\n\r\nexport const useCustomTokensCW20 = () => {\r\n  return useCustomTokens<CustomTokenCW20>({ type: \"cw20\", key: \"token\" })\r\n}\r\n\r\nexport const useCustomTokensCW721 = () => {\r\n  return useCustomTokens<CustomTokenCW721>({ type: \"cw721\", key: \"contract\" })\r\n}\r\n","import { useQuery } from \"react-query\"\r\nimport axios, { AxiosError } from \"axios\"\r\nimport { fromPairs, toPairs } from \"ramda\"\r\nimport { flatten, groupBy, map, mergeAll, values } from \"ramda\"\r\nimport { AccAddress } from \"@terra-money/terra.js\"\r\nimport { ASSETS } from \"config/constants\"\r\nimport shuffle from \"utils/shuffle\"\r\nimport { queryKey, RefetchOptions } from \"../query\"\r\nimport { useNetworkName } from \"../wallet\"\r\n\r\nconst config = { baseURL: ASSETS }\r\n\r\nexport const useTerraAssets = <T>(path: string, callback?: (data: T) => T) => {\r\n  return useQuery<T, AxiosError>(\r\n    [queryKey.TerraAssets, path],\r\n    async () => {\r\n      const { data } = await axios.get<T>(path, config)\r\n      return callback?.(data) ?? data\r\n    },\r\n    { ...RefetchOptions.INFINITY }\r\n  )\r\n}\r\n\r\nexport const useTerraAssetsByNetwork = <T>(\r\n  path: string,\r\n  disabled = false,\r\n  callback?: (data: T) => T\r\n) => {\r\n  const networkName = useNetworkName()\r\n\r\n  return useQuery<T | undefined, AxiosError>(\r\n    [queryKey.TerraAssets, path, networkName],\r\n    async () => {\r\n      const { data } = await axios.get<Record<NetworkName, T>>(path, config)\r\n      if (!data[networkName]) return {} as T\r\n      return callback?.(data[networkName]) ?? data[networkName]\r\n    },\r\n    { ...RefetchOptions.INFINITY, enabled: !disabled }\r\n  )\r\n}\r\n\r\nexport const useIBCWhitelist = () => {\r\n  return useTerraAssetsByNetwork<IBCWhitelist>(\"ibc/tokens.json\")\r\n}\r\n\r\nexport const useCW20Contracts = () => {\r\n  return useTerraAssetsByNetwork<CW20Contracts>(\"cw20/contracts.json\")\r\n}\r\n\r\nexport const useCW20Whitelist = (disabled = false) => {\r\n  return useTerraAssetsByNetwork<CW20Whitelist>(\r\n    \"cw20/tokens.json\",\r\n    disabled,\r\n    (data) => sortWhitelistCW20(shuffleByProtocol(data))\r\n  )\r\n}\r\n\r\nexport const useCW20Pairs = () => {\r\n  return useTerraAssetsByNetwork<CW20Pairs>(\"cw20/pairs.dex.json\")\r\n}\r\n\r\nexport type ContractNames =\r\n  | \"assertLimitOrder\"\r\n  | \"routeswap\"\r\n  | \"tnsRegistry\"\r\n  | \"tnsReverseRecord\"\r\n\r\nexport type TerraContracts = Record<ContractNames, AccAddress>\r\nexport const useTerraContracts = () => {\r\n  return useTerraAssetsByNetwork<TerraContracts>(\"contracts.json\")\r\n}\r\n\r\nexport const useCW721Whitelist = () => {\r\n  return useTerraAssetsByNetwork<CW721Whitelist>(\r\n    \"cw721/contracts.json\",\r\n    undefined,\r\n    shuffleByProtocol\r\n  )\r\n}\r\n\r\ninterface CW721MarketplaceItem {\r\n  name: string\r\n  link: string\r\n}\r\n\r\nexport const useCW721Marketplace = () => {\r\n  return useTerraAssets<CW721MarketplaceItem[]>(\"cw721/marketplace.json\")\r\n}\r\n\r\n/* helpers */\r\nconst sortWhitelistCW20 = (data: CW20Whitelist) => {\r\n  const sorted = toPairs(data).sort(\r\n    ([, a], [, b]) =>\r\n      Number(b.symbol === \"ANC\") - Number(a.symbol === \"ANC\") ||\r\n      Number(b.protocol === \"Anchor\") - Number(a.protocol === \"Anchor\") ||\r\n      Number(b.symbol === \"MIR\") - Number(a.symbol === \"MIR\") ||\r\n      Number(b.protocol === \"Mirror\") - Number(a.protocol === \"Mirror\")\r\n  )\r\n\r\n  return fromPairs(\r\n    sorted.map(([t, { decimals, ...item }]) => {\r\n      return [t, { ...item, decimals: decimals ?? 6 }]\r\n    })\r\n  )\r\n}\r\n\r\nexport const shuffleByProtocol = <T extends CW20Whitelist | CW721Whitelist>(\r\n  array: T\r\n) => {\r\n  const shuffledPair = shuffle(\r\n    toPairs(\r\n      groupBy(([, { protocol, name }]) => protocol ?? name, toPairs(array))\r\n    )\r\n  )\r\n\r\n  return mergeAll(flatten(map(fromPairs, values(fromPairs(shuffledPair)))))\r\n}\r\n","import { ForwardedRef, forwardRef, InputHTMLAttributes, ReactNode } from \"react\"\r\nimport classNames from \"classnames/bind\"\r\nimport SearchIcon from \"@mui/icons-material/Search\"\r\nimport { WithTokenItem } from \"data/token\"\r\nimport { Flex } from \"../layout\"\r\nimport styles from \"./Input.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\ninterface Props extends InputHTMLAttributes<HTMLInputElement> {\r\n  token?: Token\r\n  selectBefore?: ReactNode\r\n}\r\n\r\nconst Input = forwardRef(\r\n  (\r\n    { selectBefore, token, ...attrs }: Props,\r\n    ref: ForwardedRef<HTMLInputElement>\r\n  ) => {\r\n    return (\r\n      <div className={styles.wrapper}>\r\n        {selectBefore}\r\n\r\n        <input\r\n          {...attrs}\r\n          className={cx(styles.input, { before: token, after: selectBefore })}\r\n          autoComplete=\"off\"\r\n          ref={ref}\r\n        />\r\n\r\n        {token && (\r\n          <WithTokenItem token={token}>\r\n            {({ symbol }) => (\r\n              <Flex className={classNames(styles.symbol, styles.after)}>\r\n                {symbol}\r\n              </Flex>\r\n            )}\r\n          </WithTokenItem>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n)\r\n\r\nexport default Input\r\n\r\n/* search */\r\nexport const SearchInput = forwardRef(\r\n  (\r\n    attrs: InputHTMLAttributes<HTMLInputElement>,\r\n    ref: ForwardedRef<HTMLInputElement>\r\n  ) => {\r\n    return (\r\n      <div className={classNames(styles.wrapper, styles.search)}>\r\n        <input\r\n          {...attrs}\r\n          className={styles.input}\r\n          inputMode=\"search\"\r\n          autoComplete=\"off\"\r\n          ref={ref}\r\n        />\r\n\r\n        <SearchIcon className={styles.icon} />\r\n      </div>\r\n    )\r\n  }\r\n)\r\n","import { ForwardedRef, forwardRef, SelectHTMLAttributes } from \"react\"\r\nimport classNames from \"classnames/bind\"\r\nimport ArrowDropDownIcon from \"@mui/icons-material/ArrowDropDown\"\r\nimport styles from \"./Select.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\ninterface Props extends SelectHTMLAttributes<HTMLSelectElement> {\r\n  small?: boolean\r\n  before?: boolean\r\n}\r\n\r\nconst Select = forwardRef(\r\n  (\r\n    { small, before, ...attrs }: Props,\r\n    ref: ForwardedRef<HTMLSelectElement>\r\n  ) => {\r\n    const className = cx(styles.select, { small, before })\r\n\r\n    return (\r\n      <div className={classNames(styles.wrapper, attrs.className)}>\r\n        <select {...attrs} className={className} ref={ref} />\r\n        <ArrowDropDownIcon style={{ fontSize: 18 }} className={styles.caret} />\r\n      </div>\r\n    )\r\n  }\r\n)\r\n\r\nexport default Select\r\n","import { PropsWithChildren, ReactNode } from \"react\"\r\nimport classNames from \"classnames/bind\"\r\nimport { Flex, Grid } from \"../layout\"\r\nimport styles from \"./Radio.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\ninterface Props {\r\n  label: ReactNode\r\n  className?: string\r\n  checked: boolean\r\n  disabled?: boolean\r\n  onClick?: () => void\r\n  reversed?: boolean\r\n}\r\n\r\nconst Radio = (props: PropsWithChildren<Props>) => {\r\n  const { label, children, checked, disabled, onClick, reversed } = props\r\n  const className = cx(styles.component, { checked, disabled }, props.className)\r\n\r\n  const input = (\r\n    <Flex className={styles.track}>\r\n      <span className={styles.indicator} />\r\n    </Flex>\r\n  )\r\n\r\n  return (\r\n    <button type=\"button\" className={className} onClick={onClick}>\r\n      <Grid gap={4}>\r\n        <Flex gap={8} start className={cx({ reversed })}>\r\n          {reversed ? (\r\n            <>\r\n              {label}\r\n              {input}\r\n            </>\r\n          ) : (\r\n            <>\r\n              {input}\r\n              {label}\r\n            </>\r\n          )}\r\n        </Flex>\r\n\r\n        {children}\r\n      </Grid>\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default Radio\r\n","import { ForwardedRef, forwardRef, InputHTMLAttributes } from \"react\"\r\nimport classNames from \"classnames/bind\"\r\nimport styles from \"./RadioButton.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\ninterface Props extends InputHTMLAttributes<HTMLInputElement> {\r\n  value: string\r\n  checked: boolean\r\n}\r\n\r\nconst RadioButton = forwardRef(\r\n  (\r\n    { value, checked, children, ...attrs }: Props,\r\n    ref: ForwardedRef<HTMLInputElement>\r\n  ) => {\r\n    return (\r\n      <label className={cx(styles.radio, { checked })}>\r\n        <input {...attrs} value={value} type=\"radio\" ref={ref} hidden />\r\n        <span>{children}</span>\r\n      </label>\r\n    )\r\n  }\r\n)\r\n\r\nexport default RadioButton\r\n","import { ForwardedRef, forwardRef, InputHTMLAttributes } from \"react\"\r\nimport classNames from \"classnames/bind\"\r\nimport styles from \"./Checkbox.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\ninterface Props extends InputHTMLAttributes<HTMLInputElement> {\r\n  disabled?: boolean\r\n}\r\n\r\nconst Checkbox = forwardRef(\r\n  (\r\n    { className, children, ...attrs }: Props,\r\n    ref: ForwardedRef<HTMLInputElement>\r\n  ) => {\r\n    const { checked, disabled } = attrs\r\n    return (\r\n      <label className={cx(styles.checkbox, { checked, disabled }, className)}>\r\n        <input {...attrs} type=\"checkbox\" hidden ref={ref} />\r\n        <span className={styles.track}>\r\n          <span className={styles.indicator} />\r\n        </span>\r\n        <span className={styles.text}>{children}</span>\r\n      </label>\r\n    )\r\n  }\r\n)\r\n\r\nexport default Checkbox\r\n","import { PropsWithChildren } from \"react\"\r\nimport classNames from \"classnames/bind\"\r\nimport styles from \"./Toggle.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\ninterface Props {\r\n  checked: boolean\r\n  onChange: () => void\r\n}\r\n\r\nconst Toggle = (props: PropsWithChildren<Props>) => {\r\n  const { checked, onChange, children } = props\r\n\r\n  return (\r\n    <button className={cx(styles.toggle, { checked })} onClick={onChange}>\r\n      <span className={styles.track}>\r\n        <span className={styles.indicator} />\r\n      </span>\r\n      <span className={styles.text}>{children}</span>\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default Toggle\r\n","import { Key } from \"react\"\r\nimport Radio from \"./Radio\"\r\nimport styles from \"./RadioGroup.module.scss\"\r\n\r\ninterface Props<T> {\r\n  options: { value: T; label: string; disabled?: boolean }[]\r\n  value: T\r\n  onChange: (value: T) => void\r\n  reversed?: boolean\r\n}\r\n\r\nfunction RadioGroup<T extends Key>(props: Props<T>) {\r\n  const { options, value, onChange, reversed } = props\r\n\r\n  return (\r\n    <section className={styles.list}>\r\n      {options.map(({ label, disabled, ...option }) => {\r\n        const checked = option.value === value\r\n        return (\r\n          <Radio\r\n            label={label}\r\n            className={styles.item}\r\n            checked={checked}\r\n            onClick={() => !disabled && onChange(option.value)}\r\n            disabled={disabled}\r\n            key={option.value}\r\n            reversed={reversed}\r\n          />\r\n        )\r\n      })}\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default RadioGroup\r\n","import { ButtonHTMLAttributes } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { Button } from \"../general\"\r\nimport { LoadingCircular } from \"../feedback\"\r\nimport styles from \"./Form.module.scss\"\r\n\r\ninterface Props extends ButtonHTMLAttributes<HTMLButtonElement> {\r\n  submitting?: boolean\r\n}\r\n\r\nconst Submit = ({ submitting, ...attrs }: Props) => {\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <Button\r\n      {...attrs}\r\n      icon={submitting && <LoadingCircular size={18} />}\r\n      disabled={attrs.disabled || submitting}\r\n      type={attrs.type ?? \"submit\"}\r\n      className={styles.submit}\r\n      color=\"primary\"\r\n      block\r\n    >\r\n      {attrs.children || t(\"Submit\")}\r\n    </Button>\r\n  )\r\n}\r\n\r\nexport default Submit\r\n","import BigNumber from \"bignumber.js\"\r\nimport { readAmount, toAmount } from \"@terra.kitchen/utils\"\r\nimport { Coin, Coins } from \"@terra-money/terra.js\"\r\nimport { has } from \"utils/num\"\r\n\r\nexport const getPlaceholder = (decimals = 6) => \"0.\".padEnd(decimals + 2, \"0\")\r\n\r\nexport const toInput = (amount: BigNumber.Value, decimals = 6) =>\r\n  new BigNumber(readAmount(amount, { decimals })).toNumber()\r\n\r\n/* field array (coins) */\r\nexport interface CoinInput {\r\n  input?: number\r\n  denom: CoinDenom\r\n}\r\n\r\nexport const getCoins = (coins: CoinInput[]) => {\r\n  return new Coins(\r\n    coins\r\n      .map(({ input, denom }) => ({ amount: toAmount(input), denom }))\r\n      .filter(({ amount }) => has(amount))\r\n      .map(({ amount, denom }) => new Coin(denom, amount))\r\n  )\r\n}\r\n","import { always } from \"ramda\"\r\nimport BigNumber from \"bignumber.js\"\r\nimport { AccAddress } from \"@terra-money/terra.js\"\r\nimport { validateMsg } from \"utils/data\"\r\n\r\nconst lessThan = (max: number, label = \"Amount\", optional = false) => {\r\n  return (value = 0) => {\r\n    if (optional)\r\n      return !value || value <= max || `${label} must be less than ${max}`\r\n\r\n    return (\r\n      (value > 0 && value <= max) || `${label} must be between 0 and ${max}`\r\n    )\r\n  }\r\n}\r\n\r\nconst decimal = (decimals = 6, label = \"Amount\", optional = false) => {\r\n  return (value = 0) => {\r\n    return (\r\n      (optional && !value) ||\r\n      new BigNumber(value).times(new BigNumber(10).pow(decimals)).isInteger() ||\r\n      `${label} must be within ${decimals} decimal points`\r\n    )\r\n  }\r\n}\r\n\r\nconst input = (\r\n  max: number,\r\n  decimals = 6,\r\n  label = \"Amount\",\r\n  optional = false\r\n) => {\r\n  if (max <= 0) return always(\"Insufficient balance\")\r\n  return {\r\n    required: (value = 0) => optional || !!value || `${label} is required`,\r\n    lessThan: lessThan(max, label, optional),\r\n    decimal: decimal(decimals, label, optional),\r\n  }\r\n}\r\n\r\nconst recipient = () => {\r\n  return {\r\n    required: (recipient = \"\") => !!recipient || \"Recipient is required\",\r\n    validate: (recipient = \"\") =>\r\n      validateRecipient(recipient) || \"Invalid recipient\",\r\n  }\r\n}\r\n\r\nconst address = (label = \"Recipient\", optional = false) => {\r\n  return (address?: string) => {\r\n    if (!address) return optional || `${label} is required`\r\n    return (address && AccAddress.validate(address)) || \"Invalid address\"\r\n  }\r\n}\r\n\r\nconst size = (length: number, label = \"Memo\") => {\r\n  return (value?: string) => {\r\n    if (!value) return\r\n    return new Blob([value]).size <= length || `${label} is too long`\r\n  }\r\n}\r\n\r\nconst memo = () => (value?: string) => {\r\n  if (!value) return\r\n  return (\r\n    [\"<\", \">\"].every((char) => !value.includes(char)) ||\r\n    \"Memo cannot include `<` or `>`\"\r\n  )\r\n}\r\n\r\nconst msg = () => {\r\n  return (value?: string) => {\r\n    if (!value) return `Msg is required`\r\n    return !!validateMsg(value) || `Msg is invalid`\r\n  }\r\n}\r\n\r\nconst validate = {\r\n  input,\r\n  decimal,\r\n  lessThan,\r\n  recipient,\r\n  address,\r\n  size,\r\n  memo,\r\n  msg,\r\n}\r\n\r\nexport default validate\r\n\r\n/* tns */\r\nexport const validateRecipient = (address: string) =>\r\n  AccAddress.validate(address) || address.endsWith(\".ust\")\r\n","import { QueryKey, useQuery, useQueryClient } from \"react-query\"\r\nimport { atom, useSetRecoilState } from \"recoil\"\r\nimport { queryKey } from \"../query\"\r\nimport { useLCDClient } from \"./lcdClient\"\r\n\r\ninterface LatestTx {\r\n  txhash: string\r\n  redirectAfterTx?: { label: string; path: string }\r\n  queryKeys?: QueryKey[]\r\n}\r\n\r\nexport const latestTxState = atom<LatestTx>({\r\n  key: \"latestTx\",\r\n  default: { txhash: \"\" },\r\n})\r\n\r\nexport const isBroadcastingState = atom({\r\n  key: \"isBroadcasting\",\r\n  default: false,\r\n})\r\n\r\nexport const useTxInfo = ({ txhash, queryKeys }: LatestTx) => {\r\n  const setIsBroadcasting = useSetRecoilState(isBroadcastingState)\r\n  const queryClient = useQueryClient()\r\n  const lcd = useLCDClient()\r\n\r\n  return useQuery([queryKey.tx.txInfo, txhash], () => lcd.tx.txInfo(txhash), {\r\n    enabled: !!txhash,\r\n    retry: true,\r\n    retryDelay: 1000,\r\n    onSettled: () => setIsBroadcasting(false),\r\n    onSuccess: () => {\r\n      queryKeys?.forEach((queryKey) => {\r\n        queryClient.invalidateQueries(queryKey)\r\n      })\r\n\r\n      queryClient.invalidateQueries(queryKey.History)\r\n      queryClient.invalidateQueries(queryKey.bank.balance)\r\n      queryClient.invalidateQueries(queryKey.tx.create)\r\n    },\r\n  })\r\n}\r\n","import { ButtonHTMLAttributes } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { Button } from \"../general\"\r\nimport { LoadingCircular } from \"../feedback\"\r\nimport styles from \"./Form.module.scss\"\r\n\r\ninterface Props extends ButtonHTMLAttributes<HTMLButtonElement> {\r\n  submitting?: boolean\r\n}\r\n\r\nconst Approve = ({ submitting, ...attrs }: Props) => {\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <Button\r\n      {...attrs}\r\n      icon={submitting && <LoadingCircular size={18} />}\r\n      disabled={attrs.disabled || submitting}\r\n      type={attrs.type ?? \"submit\"}\r\n      className={styles.submit}\r\n      color=\"primary\"\r\n      block\r\n    >\r\n      {attrs.children || t(\"Approve\")}\r\n    </Button>\r\n  )\r\n}\r\n\r\nexport default Approve\r\n","import { ForwardedRef, forwardRef, Fragment } from \"react\"\r\nimport classNames from \"classnames/bind\"\r\nimport { FormatConfig } from \"@terra.kitchen/utils\"\r\nimport { formatPercent, readAmount, truncate } from \"@terra.kitchen/utils\"\r\n// import { WithTokenItem } from \"data/token\"\r\nimport styles from \"./Read.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\ninterface Props extends Partial<FormatConfig> {\r\n  amount?: Amount | Value\r\n  denom?: Denom\r\n  token?: string\r\n\r\n  approx?: boolean\r\n  block?: boolean\r\n  className?: string\r\n\r\n  auto?: boolean\r\n}\r\n\r\nconst Read = forwardRef(\r\n  (\r\n    { amount, denom, approx, block, auto, ...props }: Props,\r\n    ref: ForwardedRef<HTMLSpanElement>\r\n  ) => {\r\n    if (!(amount || Number.isFinite(amount))) return null\r\n\r\n    const comma = !(typeof props.comma === \"boolean\" && props.comma === false)\r\n\r\n    const fixed = !auto\r\n      ? props.fixed\r\n      : Number(amount) >= Math.pow(10, (props.decimals ?? 6) + 3)\r\n      ? 0\r\n      : Number(amount) < Math.pow(10, props.decimals ?? 6)\r\n      ? props.decimals\r\n      : 2\r\n\r\n    const config = { ...props, comma, fixed }\r\n    const [integer, decimal] = readAmount(amount, config).split(\".\")\r\n\r\n    const renderDecimal = () => {\r\n      if (!decimal) return null\r\n\r\n      const optimDecimals = integer.length > 3 ? 2 : 7 - integer.length\r\n      const limitDecimal = decimal.length > 6 ? decimal.slice(0, optimDecimals) : decimal\r\n\r\n      return (\r\n        <span className={cx({ small: !props.prefix })}>\r\n          {limitDecimal && `.${limitDecimal}`}\r\n        </span>\r\n      )\r\n    }\r\n    // const renderDecimal = () => {\r\n    //   if (!decimal) return null\r\n\r\n    //   return (\r\n    //     <span className={cx({ small: !props.prefix })}>\r\n    //       {decimal && `.${decimal}`}\r\n    //     </span>\r\n    //   )\r\n    // }\r\n\r\n    const renderSymbol = () => {\r\n      const token = props.token ?? denom\r\n\r\n      return (\r\n        <span className={styles.small}>\r\n          {\" \"}{token}\r\n        </span>\r\n      )\r\n    }\r\n    // const renderSymbol = () => {\r\n    //   const token = props.token ?? denom\r\n\r\n    //   if (!token) return null\r\n\r\n    //   return (\r\n    //     <span className={styles.small}>\r\n    //       {\" \"}\r\n    //       <WithTokenItem token={token}>\r\n    //         {({ symbol }) => symbol ?? truncate(token)}\r\n    //       </WithTokenItem>\r\n    //     </span>\r\n    //   )\r\n    // }\r\n\r\n    const className = cx(styles.component, { block }, props.className)\r\n\r\n    return (\r\n      <span className={className} ref={ref}>\r\n        {approx && \"≈ \"}\r\n        {integer}\r\n        {renderDecimal()}\r\n        {renderSymbol()}\r\n      </span>\r\n    )\r\n  }\r\n)\r\n\r\nexport default Read\r\n\r\n/* percent */\r\ninterface PercentProps extends Partial<FormatConfig> {\r\n  children?: string | number\r\n}\r\n\r\nexport const ReadPercent = forwardRef(\r\n  (\r\n    { children: value, ...config }: PercentProps,\r\n    ref: ForwardedRef<HTMLSpanElement>\r\n  ) => {\r\n    const [integer, decimal] = value\r\n      ? formatPercent(value, config).split(\".\")\r\n      : []\r\n\r\n    return (\r\n      <span className={styles.component} ref={ref}>\r\n        {integer}\r\n        {decimal && (\r\n          <>\r\n            <span className={cx({ small: Number(integer) })}>\r\n              {decimal && `.${decimal}`}\r\n            </span>\r\n            <span className={styles.small}>%</span>\r\n          </>\r\n        )}\r\n      </span>\r\n    )\r\n  }\r\n)\r\n\r\n/* helpers */\r\nexport const ReadMultiple = ({ list }: { list: Props[] }) => {\r\n  return (\r\n    <>\r\n      {list.map((item, index) => (\r\n        <Fragment key={index}>\r\n          {!!index && \" + \"}\r\n          <Read {...item} />\r\n        </Fragment>\r\n      ))}\r\n    </>\r\n  )\r\n}\r\n","import { HTMLAttributes, useState } from \"react\"\r\nimport classNames from \"classnames/bind\"\r\nimport { AccAddress } from \"@terra-money/terra.js\"\r\nimport { isDenomIBC } from \"@terra.kitchen/utils\"\r\nimport { getIcon } from \"data/token\"\r\nimport styles from \"./TokenIcon.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\ninterface Props extends HTMLAttributes<HTMLImageElement> {\r\n  token: Token\r\n  icon?: string\r\n  size?: number | \"inherit\"\r\n}\r\n\r\nconst TokenIcon = ({ token, icon, size, ...rest }: Props) => {\r\n  const [isError, setIsError] = useState(false)\r\n\r\n  const defaultIcon = AccAddress.validate(token)\r\n    ? getIcon(\"CW.svg\")\r\n    : isDenomIBC(token)\r\n    ? getIcon(\"IBC.svg\")\r\n    : getIcon(\"Terra.svg\")\r\n\r\n  const src = !icon || isError ? defaultIcon : icon\r\n  const sizes =\r\n    size === \"inherit\" ? undefined : { width: size ?? 24, height: size ?? 24 }\r\n\r\n  const attrs = { ...rest, ...sizes, src, className: cx(styles.icon, size) }\r\n  return <img {...attrs} onError={() => setIsError(true)} alt=\"\" />\r\n}\r\n\r\nexport default TokenIcon\r\n","import { useIsClassic } from \"data/query\"\r\nimport { atom, useRecoilState, useRecoilValue } from \"recoil\"\r\nimport { SettingKey } from \"utils/localStorage\"\r\nimport { getLocalSetting, setLocalSetting } from \"utils/localStorage\"\r\n\r\nexport const currencyState = atom({\r\n  key: \"currency\",\r\n  default: getLocalSetting<string>(SettingKey.Currency),\r\n})\r\n\r\nexport const useCurrency = () => {\r\n  const isClassic = useIsClassic()\r\n  const currency = useRecoilValue(currencyState)\r\n  if (!isClassic) return \"uluna\"\r\n  return currency\r\n}\r\n\r\nexport const useCurrencyState = () => {\r\n  const [currency, setCurrency] = useRecoilState(currencyState)\r\n\r\n  const set = (currency: string) => {\r\n    setLocalSetting(SettingKey.Currency, currency)\r\n    setCurrency(currency)\r\n  }\r\n\r\n  return [currency, set] as const\r\n}\r\n","import { PropsWithChildren } from \"react\"\r\nimport classNames from \"classnames/bind\"\r\nimport AccountBalanceWalletIcon from \"@mui/icons-material/AccountBalanceWallet\"\r\nimport { FormatConfig } from \"@terra.kitchen/utils\"\r\nimport { getMaxHeightStyle } from \"utils/style\"\r\nimport { useCurrency } from \"data/settings/Currency\"\r\nimport { Flex } from \"../layout\"\r\nimport TokenIcon from \"./TokenIcon\"\r\nimport Read from \"./Read\"\r\nimport styles from \"./TokenCard.module.scss\"\r\n\r\ninterface Props extends Partial<TokenItem>, Partial<FormatConfig> {\r\n  // customizable\r\n  token: Token\r\n  amount?: Amount\r\n  balance?: Amount\r\n  className?: string\r\n  value?: Value\r\n  valueCurrency?: Token\r\n  valueConfig?: Partial<FormatConfig>\r\n}\r\n\r\n// Where to use:\r\n// 1. Swap form\r\n// 2. Withdraw rewards\r\n// 3. others - if too many tokens to display on the screen\r\nconst TokenCard = ({ token, icon, symbol, name, balance, ...props }: Props) => {\r\n  const { amount = balance, value, className, ...rest } = props\r\n  const { valueCurrency, valueConfig, ...config } = rest\r\n  const currency = useCurrency()\r\n\r\n  return (\r\n    <article className={classNames(styles.item, className)}>\r\n      <Flex start gap={10} className={styles.main}>\r\n        <div className={styles.wrapper}>\r\n          <TokenIcon token={token} icon={icon} />\r\n        </div>\r\n\r\n        <header className={styles.detail}>\r\n          <h1 className={styles.title}>{symbol}</h1>\r\n          {name && <h2 className={styles.name}>{name}</h2>}\r\n        </header>\r\n      </Flex>\r\n\r\n      {amount && (\r\n        <footer className={styles.footer}>\r\n          <p className={styles.balance}>\r\n            {balance && <AccountBalanceWalletIcon fontSize=\"inherit\" />}\r\n            <Read amount={amount} {...config} />\r\n          </p>\r\n\r\n          {value && (\r\n            <Read\r\n              amount={value}\r\n              denom={valueCurrency ?? currency}\r\n              className=\"muted\"\r\n              auto\r\n              approx\r\n              block\r\n              {...valueConfig}\r\n            />\r\n          )}\r\n        </footer>\r\n      )}\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default TokenCard\r\n\r\n/* layout */\r\ninterface GridProps {\r\n  maxHeight?: number | true\r\n}\r\n\r\nexport const TokenCardGrid = (props: PropsWithChildren<GridProps>) => {\r\n  const { children, maxHeight } = props\r\n\r\n  return (\r\n    <section className={styles.grid} style={getMaxHeightStyle(maxHeight, 320)}>\r\n      {children}\r\n    </section>\r\n  )\r\n}\r\n","import { ButtonHTMLAttributes } from \"react\"\r\nimport { Link, LinkProps } from \"react-router-dom\"\r\nimport classNames from \"classnames/bind\"\r\nimport styles from \"./AuthButton.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\ninterface ButtonAttrs extends ButtonHTMLAttributes<HTMLButtonElement> {\r\n  active: boolean\r\n}\r\n\r\ninterface LinkAttrs extends LinkProps {\r\n  active: boolean\r\n}\r\n\r\ntype Props = ButtonAttrs | LinkAttrs\r\n\r\nconst AuthButton = ({ active, ...attrs }: Props) => {\r\n  const className = cx(styles.button, { active }, attrs.className)\r\n  if (active) return <span {...attrs} className={className} />\r\n  if (\"to\" in attrs) return <Link {...attrs} className={className} />\r\n  return <button {...attrs} type=\"button\" className={className} />\r\n}\r\n\r\nexport default AuthButton\r\n","import GroupsIcon from \"@mui/icons-material/Groups\"\r\n\r\nconst MultisigBadge = () => {\r\n  return <GroupsIcon fontSize=\"small\" />\r\n}\r\n\r\nexport default MultisigBadge\r\n","import preconfigured from \"config/preconfigured.json\"\r\n\r\nconst usePreconfigured = () => {\r\n  return preconfigured as PreconfiguredWallet[]\r\n}\r\n\r\nexport default usePreconfigured\r\n","import { useTranslation } from \"react-i18next\"\r\nimport usePreconfigured from \"auth/hooks/usePreconfigured\"\r\nimport { useNetwork } from \"data/wallet\"\r\nimport { Select } from \"components/form\"\r\nimport useAuth from \"../../hooks/useAuth\"\r\n\r\nconst SelectPreconfigured = () => {\r\n  const { t } = useTranslation()\r\n  const { connectedWallet, connectPreconfigured } = useAuth()\r\n  const preconfigured = usePreconfigured()\r\n  const { preconfigure } = useNetwork()\r\n\r\n  if (!preconfigure) return null\r\n\r\n  const selected = preconfigured.find(\r\n    ({ name }) => name === connectedWallet?.name\r\n  )\r\n\r\n  return (\r\n    <Select\r\n      value={selected?.name ?? \"\"}\r\n      onChange={(e) => {\r\n        const wallet = preconfigured.find(({ name }) => name === e.target.value)\r\n        if (wallet) connectPreconfigured(wallet)\r\n      }}\r\n    >\r\n      <option value=\"\" disabled>\r\n        {t(\"Preconfigured wallets...\")}\r\n      </option>\r\n\r\n      {preconfigured.map(({ name }) => {\r\n        return (\r\n          <option value={name} key={name}>\r\n            {name}\r\n          </option>\r\n        )\r\n      })}\r\n    </Select>\r\n  )\r\n}\r\n\r\nexport default SelectPreconfigured\r\n","import LockOutlinedIcon from \"@mui/icons-material/LockOutlined\"\r\nimport { truncate } from \"@terra.kitchen/utils\"\r\nimport classNames from \"classnames/bind\"\r\nimport { Flex } from \"components/layout\"\r\nimport AuthButton from \"../../components/AuthButton\"\r\nimport MultisigBadge from \"../../components/MultisigBadge\"\r\nimport useAuth from \"../../hooks/useAuth\"\r\nimport is from \"../../scripts/is\"\r\nimport SelectPreconfigured from \"./SelectPreconfigured\"\r\nimport styles from \"./SwitchWallet.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\nconst SwitchWallet = () => {\r\n  const { connectedWallet, wallets, connect } = useAuth()\r\n\r\n  const localWallets = !!wallets.length && (\r\n    <ul className={styles.list}>\r\n      {wallets.map((wallet) => {\r\n        const { name, address, lock } = wallet\r\n        const active = name === connectedWallet?.name\r\n        const children = (\r\n          <>\r\n            <Flex gap={4}>\r\n              {is.multisig(wallet) && <MultisigBadge />}\r\n              <strong>{name}</strong>\r\n            </Flex>\r\n\r\n            {lock ? (\r\n              <LockOutlinedIcon fontSize=\"inherit\" className=\"muted\" />\r\n            ) : (\r\n              truncate(address)\r\n            )}\r\n          </>\r\n        )\r\n\r\n        const attrs = { className: cx(styles.wallet), active, children }\r\n\r\n        return (\r\n          <li key={name}>\r\n            {lock ? (\r\n              <AuthButton {...attrs} to={`/auth/unlock/${name}`} />\r\n            ) : (\r\n              <AuthButton {...attrs} onClick={() => connect(name)} />\r\n            )}\r\n          </li>\r\n        )\r\n      })}\r\n    </ul>\r\n  )\r\n\r\n  return (\r\n    <>\r\n      <SelectPreconfigured />\r\n      {localWallets}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SwitchWallet\r\n","import { PropsWithChildren, ReactNode } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport classNames from \"classnames\"\r\nimport styles from \"./PopoverNone.module.scss\"\r\n\r\ninterface Props {\r\n  className?: string\r\n  footer?: { children: ReactNode; onClick: () => void; to?: string }\r\n}\r\n\r\nconst PopoverNone = (props: PropsWithChildren<Props>) => {\r\n  const { className, children, footer } = props\r\n\r\n  const renderFooter = () => {\r\n    if (!footer) return null\r\n    const { to } = footer\r\n    if (to) return <Link {...footer} to={to} className={styles.footer} />\r\n    return <button type=\"button\" {...footer} className={styles.footer} />\r\n  }\r\n\r\n  return (\r\n    <div className={classNames(styles.component, className)}>\r\n      <div className={styles.inner}>{children}</div>\r\n      {renderFooter()}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopoverNone\r\n","const variable = (key: string) =>\r\n  getComputedStyle(document.body).getPropertyValue(key)\r\n\r\nexport default variable\r\n","import QRCodeReact from \"qrcode.react\"\r\nimport variable from \"styles/variable\"\r\nimport { Flex } from \"components/layout\"\r\n\r\nconst QRCode = ({ value }: { value: string }) => {\r\n  return (\r\n    <Flex>\r\n      <QRCodeReact\r\n        value={value}\r\n        size={320}\r\n        bgColor={variable(\"--card-bg\")}\r\n        fgColor={variable(\"--text\")}\r\n        renderAs=\"svg\"\r\n      />\r\n    </Flex>\r\n  )\r\n}\r\n\r\nexport default QRCode\r\n","import { useTranslation } from \"react-i18next\"\r\nimport { useAccount } from 'wagmi'\r\nimport { RenderButton } from \"types/components\"\r\n// import { useAddress } from \"data/wallet\"\r\nimport { Grid } from \"components/layout\"\r\nimport { ModalButton } from \"components/feedback\"\r\nimport QRCode from \"auth/components/QRCode\"\r\n\r\n\r\nconst WalletQR = ({ renderButton }: { renderButton: RenderButton }) => {\r\n  const { t } = useTranslation()\r\n  const { address } = useAccount()\r\n\r\n  if (!address) return null\r\n\r\n  return (\r\n    <ModalButton title={t(\"Wallet address\")} renderButton={renderButton}>\r\n      <Grid gap={20}>\r\n        <QRCode value={address} />\r\n        <p className=\"small center\">{address}</p>\r\n      </Grid>\r\n    </ModalButton>\r\n  )\r\n}\r\n\r\nexport default WalletQR\r\n\r\n\r\n// const WalletQR = ({ renderButton }: { renderButton: RenderButton }) => {\r\n//   const { t } = useTranslation()\r\n//   const address = useAddress()\r\n\r\n//   if (!address) return null\r\n\r\n//   return (\r\n//     <ModalButton title={t(\"Wallet address\")} renderButton={renderButton}>\r\n//       <Grid gap={20}>\r\n//         <QRCode value={address} />\r\n//         <p className=\"small center\">{address}</p>\r\n//       </Grid>\r\n//     </ModalButton>\r\n//   )\r\n// }","// import { useState } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { useAccount, useDisconnect } from 'wagmi'\r\nimport AccountBalanceWalletIcon from \"@mui/icons-material/AccountBalanceWallet\"\r\nimport GroupsIcon from \"@mui/icons-material/Groups\"\r\nimport QrCodeIcon from \"@mui/icons-material/QrCode\"\r\n// import UsbIcon from \"@mui/icons-material/Usb\"\r\nimport { truncate } from \"@terra.kitchen/utils\"\r\n// import { useWallet } from \"@terra-money/wallet-provider\"\r\n// import { useAddress } from \"data/wallet\"\r\n// import { useTnsName } from \"data/external/tns\"\r\nimport { Button, Copy, FinderLink } from \"components/general\"\r\nimport CopyStyles from \"components/general/Copy.module.scss\"\r\nimport { Flex, Grid } from \"components/layout\"\r\nimport { Tooltip, Popover } from \"components/display\"\r\n// import { isWallet, useAuth } from \"auth\"\r\nimport SwitchWallet from \"auth/modules/select/SwitchWallet\"\r\nimport PopoverNone from \"../components/PopoverNone\"\r\nimport WalletQR from \"./WalletQR\"\r\nimport styles from \"./Connected.module.scss\"\r\n\r\n\r\nconst Connected = () => {\r\n  const { t } = useTranslation()\r\n  const { address, isConnected } = useAccount()\r\n  const { disconnect } = useDisconnect()\r\n  \r\n  if (!isConnected) return null\r\n\r\n  const footer = { onClick: disconnect, children: t(\"Disconnect\") }\r\n\r\n  return (\r\n    <Popover\r\n      content={\r\n        <PopoverNone className={styles.popover} footer={footer}>\r\n          <Grid gap={16}>\r\n            <Grid gap={4}>\r\n              <section>\r\n                <Tooltip content={t(\"View on Terra Finder\")}>\r\n                  <FinderLink className={styles.link} short>\r\n                    {address}\r\n                  </FinderLink>\r\n                </Tooltip>\r\n              </section>\r\n\r\n              <Flex gap={4} start>\r\n                <Copy text={address ?? \"\"} />\r\n                <WalletQR\r\n                  renderButton={(open) => (\r\n                    <Tooltip content={t(\"Show address as QR code\")}>\r\n                      <button className={CopyStyles.button} onClick={open}>\r\n                        <QrCodeIcon fontSize=\"inherit\" />\r\n                      </button>\r\n                    </Tooltip>\r\n                  )}\r\n                />\r\n              </Flex>\r\n            </Grid>\r\n\r\n            <SwitchWallet />\r\n          </Grid>\r\n        </PopoverNone>\r\n      }\r\n      placement=\"bottom-end\"\r\n      theme=\"none\"\r\n    >\r\n      <Button\r\n        icon={\r\n          false ? (\r\n            <GroupsIcon style={{ fontSize: 16 }} />\r\n          ) : (\r\n            <AccountBalanceWalletIcon style={{ fontSize: 16 }} />\r\n          )\r\n        }\r\n        size=\"small\"\r\n        outline\r\n      >\r\n        {truncate(address)}\r\n      </Button>\r\n    </Popover>\r\n  )\r\n}\r\n\r\nexport default Connected\r\n\r\n\r\n\r\n// const Connected = () => {\r\n//   const { t } = useTranslation()\r\n//   const { disconnect } = useWallet()\r\n//   const address = useAddress()\r\n//   const { wallet, getLedgerKey } = useAuth()\r\n//   const { data: name } = useTnsName(address ?? \"\")\r\n\r\n//   /* hack to close popover */\r\n//   const [key, setKey] = useState(0)\r\n//   const closePopover = () => setKey((key) => key + 1)\r\n\r\n//   if (!address) return null\r\n\r\n//   const footer = wallet\r\n//     ? { to: \"/auth\", onClick: closePopover, children: t(\"Manage wallets\") }\r\n//     : { onClick: disconnect, children: t(\"Disconnect\") }\r\n\r\n//   return (\r\n//     <Popover\r\n//       key={key}\r\n//       content={\r\n//         <PopoverNone className={styles.popover} footer={footer}>\r\n//           <Grid gap={16}>\r\n//             <Grid gap={4}>\r\n//               <section>\r\n//                 <Tooltip content={t(\"View on Terra Finder\")}>\r\n//                   <FinderLink className={styles.link} short>\r\n//                     {address}\r\n//                   </FinderLink>\r\n//                 </Tooltip>\r\n//               </section>\r\n\r\n//               <Flex gap={4} start>\r\n//                 <Copy text={address} />\r\n//                 <WalletQR\r\n//                   renderButton={(open) => (\r\n//                     <Tooltip content={t(\"Show address as QR code\")}>\r\n//                       <button className={CopyStyles.button} onClick={open}>\r\n//                         <QrCodeIcon fontSize=\"inherit\" />\r\n//                       </button>\r\n//                     </Tooltip>\r\n//                   )}\r\n//                 />\r\n\r\n//                 {isWallet.ledger(wallet) && (\r\n//                   <Tooltip content={t(\"Show address in Ledger device\")}>\r\n//                     <button\r\n//                       className={CopyStyles.button}\r\n//                       onClick={async () => {\r\n//                         const lk = await getLedgerKey()\r\n//                         lk.showAddressAndPubKey()\r\n//                       }}\r\n//                     >\r\n//                       <UsbIcon fontSize=\"inherit\" />\r\n//                     </button>\r\n//                   </Tooltip>\r\n//                 )}\r\n//               </Flex>\r\n//             </Grid>\r\n\r\n//             <SwitchWallet />\r\n//           </Grid>\r\n//         </PopoverNone>\r\n//       }\r\n//       placement=\"bottom-end\"\r\n//       theme=\"none\"\r\n//     >\r\n//       <Button\r\n//         icon={\r\n//           isWallet.multisig(wallet) ? (\r\n//             <GroupsIcon style={{ fontSize: 16 }} />\r\n//           ) : (\r\n//             <AccountBalanceWalletIcon style={{ fontSize: 16 }} />\r\n//           )\r\n//         }\r\n//         size=\"small\"\r\n//         outline\r\n//       >\r\n//         {isWallet.local(wallet) ? wallet.name : truncate(name ?? address)}\r\n//       </Button>\r\n//     </Popover>\r\n//   )\r\n// }","import { useTranslation } from \"react-i18next\"\r\nimport { useConnect, useAccount } from 'wagmi'\r\n// import UsbIcon from \"@mui/icons-material/Usb\"\r\n// import { useWallet } from \"@terra-money/wallet-provider\"\r\n// import { STATION } from \"config/constants\"\r\nimport { RenderButton } from \"types/components\"\r\n// import { useAddress } from \"data/wallet\"\r\n// import { Button, ExternalLink } from \"components/general\"\r\nimport { Button } from \"components/general\"\r\nimport { Grid } from \"components/layout\"\r\nimport { List } from \"components/display\"\r\nimport { ModalButton } from \"components/feedback\"\r\n// import { FormHelp } from \"components/form\"\r\n// import { useAuth } from \"auth\"\r\n// import SwitchWallet from \"auth/modules/select/SwitchWallet\"\r\nimport Connected from \"./Connected\"\r\nimport metamaskLogo from \"../../styles/images/wallets/MetamaskWallet.png\"\r\nimport coinbaseLogo from \"../../styles/images/wallets/CoinbaseWallet.png\"\r\nimport walletconnectLogo from \"../../styles/images/wallets/WalletConnect.svg\"\r\n\r\ninterface Props {\r\n  renderButton?: RenderButton\r\n}\r\n\r\nconst walletLogosMap: {[key: string]: string} = {\r\n  metaMask: metamaskLogo,\r\n  coinbaseWallet: coinbaseLogo,\r\n  walletConnect: walletconnectLogo\r\n}\r\n\r\n\r\n\r\nconst ConnectWallet = ({ renderButton }: Props) => {\r\n  const { t } = useTranslation()\r\n  const { connect, connectors } = useConnect()\r\n  const { isConnected } = useAccount()\r\n\r\n  const defaultRenderButton: Props[\"renderButton\"] = (open) => (\r\n    <Button onClick={open} size=\"small\" outline>\r\n      {t(\"Connect\")}\r\n    </Button>\r\n  )\r\n\r\n  const list = [\r\n    ...connectors.map((connector) => ({\r\n      src: walletLogosMap[connector.id], // Icono\r\n      children: connector.name,\r\n      onClick: () => connect({ connector }),\r\n    }))\r\n  ]\r\n  \r\n  console.log(\"[CONNECTWALLET] Wallet connectors:\")\r\n  console.log(connectors)\r\n  console.log(list)\r\n\r\n  if (isConnected) return <Connected />\r\n\r\n  return (\r\n    <ModalButton\r\n      title={t(\"Connect wallet\")}\r\n      renderButton={renderButton ?? defaultRenderButton}\r\n      maxHeight\r\n    >\r\n      <Grid gap={20}>\r\n        <List list={list} />\r\n      </Grid>\r\n    </ModalButton>\r\n  )\r\n}\r\n\r\n\r\n\r\n/*const ConnectWallet = ({ renderButton }: Props) => {\r\n  const { t } = useTranslation()\r\n\r\n  const { connect, availableConnections, availableInstallations } = useWallet()\r\n  const { available } = useAuth()\r\n\r\n  const address = useAddress()\r\n  if (address) return <Connected />\r\n\r\n  const defaultRenderButton: Props[\"renderButton\"] = (open) => (\r\n    <Button onClick={open} size=\"small\" outline>\r\n      {t(\"Connect\")}\r\n    </Button>\r\n  )\r\n\r\n  const list = [\r\n    ...availableConnections.map(({ type, identifier, name, icon }) => ({\r\n      src: icon,\r\n      children: name,\r\n      onClick: () => connect(type, identifier),\r\n    })),\r\n    {\r\n      icon: <UsbIcon />,\r\n      to: \"/auth/ledger\",\r\n      children: t(\"Access with ledger\"),\r\n    },\r\n    ...availableInstallations.map(({ name, icon, url }) => ({\r\n      src: icon,\r\n      children: t(`Install ${name}`),\r\n      href: url,\r\n    })),\r\n  ]\r\n\r\n  return (\r\n    <ModalButton\r\n      title={t(\"Connect wallet\")}\r\n      renderButton={renderButton ?? defaultRenderButton}\r\n      maxHeight\r\n    >\r\n      <Grid gap={20}>\r\n        <SwitchWallet />\r\n        <List list={available.length ? available : list} />\r\n        {!!available.length && (\r\n          <FormHelp>\r\n            Use <ExternalLink href={STATION}>Terra Station</ExternalLink> on the\r\n            browser to access with Ledger device\r\n          </FormHelp>\r\n        )}\r\n      </Grid>\r\n    </ModalButton>\r\n  )\r\n} */\r\n\r\nexport default ConnectWallet\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAA7CAYAAADLjIzcAAAAAXNSR0IArs4c6QAAGMdJREFUaEPVm3u0nUWV4H+7qr7zuif3kQQDgdASEiKvoF5aBxCI8lIExEfS7bQ6dk9PXKtn6T/jW5ce23Z8r5nWme6GaVuXrYsxme5psRURNGlaRxu5AgEEYqAxkAQISe7rPL5H1Z4/6pxzzz25N7B6jbNm9lrnfN+pqm+/966q/dUBoNHAAHzo2vVn7fjDjVcxAPdsn0x0K5b//0B0K/aemyaTwcbb37t5ZPC3Azj4HSwQXNF++9Fp89G73nP6j889tfxXf/VgdceFN081AXQHll9uEWnsLvh/HO7ZPplMHpsKshPPzin/vXe/rrzljMeuve2BzvvufvBwCry6N1YUREABPnHNyfdbYbMzcOmGhPUn2aezYL766JHyV6/+0sO/AlCQqe2TbnLtlJcGYRke/m+D7NiKWT8xaS68eSrvNd75719y1jkn5+8Iwb/jwQN+3f0HCjKveNwFje8/tWfrVqzs2IrdthPfuHrdZc4W/xBUgwb17Vw5/1SXXHdeidSTz6b8fadwN533H/fd3iOgDRznoLINvzRfv3m4Z/tkMnnlVOjzsHWrffCse6+tWf/vxirh2uCx334gY99hX1QTk1dLUp3Pzcf++PYDn7xpkkS2T5LcPEXeuPqUPx0p8Z5WFnIRSYxAM9MwURV/zTkuOe8Ux3QHZjPuTwt3057mSd/a9p9+ehQWwoOP7/Yi0Zt+k6ANzNTBSTto7Z9/8Pz1K5Pm25zxb19Vkw01Bz99IueHe4u8U2Bqidig6hMrNvXyi8bthyYBBODdr9tQXuXnf5lY1hdBA4gBxYiQewUhXHyGC5OnW6k4sSAcbeuRXM0tz3bKN1/82Uce6DN302TCod9MeGhji+Oc3Ys87qEPn/W6kaTY7ox//aqqJKrKXCcUu/d57j/oTcmKsQaCAooiUeYC+9JP3n7gfgH42NVrr686vTX3wSti6RlRQbomTXNl0xrL5Rutr1ckeE+yomI41lba3ny/5c1Nm//k7bdCIwDcs51k8krCzp0R1dZz/+WeMWztn71/82mry83fLRv/b8cqvMQZZT5VSk7yp2eCuWNvYQ/OBKqJACwiLKp5tWSSuW4YCEDjmpO/WnPyznYeCiTODN3h/Tsj0M6VVSPCFZsSTl8pvpURjOBGyyJehWMdHu0E+5VHZ6pff8OfPvgM/4fhgQ9vvKqe+D8oib9h9YjU0kJpZsEbQUtWzJ6Dwdz1WEFaKGUn0epAVIHEq1KUnXGdwD2N7x/6bfnQFaeuqjj/iBVWB1WvYAcFHwQjkBWKNXDResfL11kKD4WSW1FTTYwtO+G5ps5nwdwy75Ovh5HkqMl8USsnRVro0oiBhDw4KQqqVQAkVylLGo62TamUhxuqSbF9rMTZFQfzWaAI5EExZYtNC7jrsYI9Bz0lC9YIMXIX2Z6uIhRUBCG3brM0XnvqO6s2fLVTBA+9BU9vcO+e/m8RQRXSQjn7ZMvlGyzVktDJwRj1BgnWkNRLhlYBpaqqEQIQBEFVRUS0dwVQVQGCCJ7F2tdWCzdiJfFBaeXBg4SgWMBUEzgwo9z5aMHTs4FqKU7oqrqEDfsKQFTzSskkrUI+4VTZaGJfQKSrgKWFJwoACNVEePiQ5/B84MpNCaeOC+1cbAAbAjrdCYWqukpZpFLCqmKRHp7h62JqvR/BAx7mCs0VDCo2KNYaSCzc+5Tnrsc8uVdqpZ7L94RfEHgYVBBVIOgrnIrc4+M4E8UTWXh4EMHgVQkK1ZJwrKn8z/szLlnvuOC0GBI+IGJIFNFWh+DcgvMtx1Svp3djDLRTKDyIIUFjJi876BTww70FDx6KLr8Q74MKHaSzuF0UFQEVecBpwb5UFQGrEKAXp4NKGISF30GVxAkhwI/2Fjwzp1y2wVFJiCEhSF4ghQfnIHrmsmlgoUfi2DxbuEehVoID08odj+Y8MxetrqoE7Qm7KHqGMGv/XkWly8uUmU4qv1Y4aI10n+ohGkQ6oMk+3timGpNjNREeOuj5m/tynplVaqU4NCikWXf0sC6XAAUQKArwPuK3AuUEpp70/I/7M440ey6vAygHjbXcFSTGsEsLBZFHzJdv2zcrIv9s5UQsDiDvK7mnIO0LWi0Jz80H/ua+nPuf8lRcZL6TQQgsbDqGMA+DAFkOPkAlgczD935Z8MO9BapEr1MdGD1s/cH2QUMCQnAxKz99RCpPGICg8qgxINoz8aDmhllcilAcF0KMR9WYme94pCAATmI8y/CjQ9h6rPoAWdZz+cDOezMeOuSpJoIR+ol4kWcOGGShbZCC9r7VGgHl0S/ftm/WAahy36Kxix4a1OICouPHxEtQMCJUEthzwHN4LvCaTQnrVsbpsweDGBeBgBZRaVNPen78eIEP9F1+6aeWazveeKKqRgBj9gCxEIKRXxYBtL8IGtToILJBzQ97hy66U41MPzuv/N39OffuDzGjywmE77ZPN5XbHi740d5Yeig5wetStHSZ+6WFBx2cAh+ErgLSovyr3GsqiJH+KmIYyQtpW8ykD0rFCXlQvvdQzuPPBkqW4zyhdxVAA9z2UMF9T3lGyoJItPyCwpaiNQyDiljUrKLYPADIggI+e+fj+xV5zFlABndxw8INszs4bjAk4jhrurtJ4LVnO9aNGbKCJXNBD4LC5Wc61q82NFMlTk6DnjhIazlYaoyCoMaIFEGfbYfKQ9BVwEeuPnMdqhXV7rDjtPtCrb4ARoSsUBIrXH9uwstOs/iwgGFJkJgAV9aEG89POPMkQysbVMKgEQYeWmTxpbx04dpV/myv1wAk0v7ERNWsL4IWsW0pYsPIl7eCEaGTK2NV4c0v7QqSL3b9HgxjEYG0gMTBDeclXHCqpZ3r89j9RL394ALEFF7zsbLZULGdb0Bc/cmrH5v79itevMKWrbw6qIYFJ10Oca9tEXIgCt/KlHUThhvPT5ioSW9ViBgolZdn1Uhc/BR5DAVVOOtFBhCeOBqwRhAkdiwZR4Ntw54QHSyx4lqF/L2U+P3de+daRkDfe/WZLxJlYwiDDyxl7UGFDOQBlW5PFP6cky1v3JxQKwlpEdf1QH9JC8OsDYAuVmtawKvWW67a5PBB8aoYI0PuNMjTAF/LGFBVp+fT1W3ohkBV843OhN/tboOW4G0Q6WB3dE1jYmunUP7Viy3XnuMQgdxHq3YTSxRuCPswsUEl9Si2MrjgNMv15yU4I2Resba3qxgWsKe6YQUJClIEZaIqbyubYzcAmMYW3Cfv2P+TWVM5pQgcNiIWNCzBWh+ZEF3diOCD0srilHfVJsdlZzpy310QmSEMXesO8jzMfp+qLFyMQDuDDasNb9ycsKIszHcU3w1WIyDSDY+lsRGLDmIU8qNtbvjU95+8ZcdWrGMLgd1Q8fnVQK1bPJS+IiX+6IVcCEoe4jbVGBitCmeMCuefbFm/ytAuBhxvKV8K9MsuS8IysWEEWjmsHRPeuDnhn/Z7Ds0EZlpKEcBZcEawBkC6yh6Ipz5IrmrGALbuJLhzHup1h5W1REZaeShExCJRu6pQBCXv1mErTlgzJqxbKZyx2nDaKqGM0G7HffqQ0ReBDvCzjJwLIbLEACuRxlhFuP48hzrl4LTyz88F9h9RDs8GWlkcm1hwhm59G6I0pPWS1OZyfynwjW1buzPs1q3YnTvxjWtO+ZN6iY80s+Bzj/VdK49VhbUTwm+tNpy+0nDSCqFaAgTabZjuzqpm2AOHQBVG6lAuxRAZHK50rdyGTpsTLpaUuLusVWF8NLalOTw3r+w/EnjiucCBY8pMWyl8zzso6mXj5jP5buP2g9d1UfXJSNcy+tErT/5WLWHbxIj4davEnrHasHZCGK0IxkTCvRgPCvNzoEPCLAeqUBuBSvkECmhBpxMtt6ybdCEoVKtQqcQwTSx9Huc60TueeC6w/0jwR+ax7ULuHzv5pEve99d7mj2j90rgevP2yYSbp/KtF43+l1PqnW2jFZVySZSA5D5OR73pVwBroNOkXxDp89q7WcLPlQEXXwZOFALAIq0ZgbQDpUSwLvLYg1pJeMkpwtmnGvKc0M7FPvS0/dLFn9/T/N67N5Sv/fK+FAZCdvtkvK4b91tPiosP306Rdg6+K6Q13axroNVSWi1FNc4A2vt043yRImQhWy9KzCyG/iPd8QvZdGCMEueooITuZ2Ym4AvFmAU6PsSyXDuFoCqjE8K5a/UGgNdduq+vKtclLPKuqXzLloaz8rXraAVU1ZqlAlEBAyEIM9M5sZgcx0n/ayG4+n0SXXNszFCrxZdPi7BrdPtm0zM/H+LaoqsR7Wp10Mu0S8oHpVx2jI4tpF9lwVPj85iiGRA1r/nZh89bI9sefKb3Ujg+1dhiAb52zS2XjVY4I/PqRcQox1upJ0i9DhMry6gKwUdL+KD4In6KXCkKDXnm8zwLIcsCaer7G6KlXFyIik07niwLZFnwWebzPFctCsX7hU8ISuEDzjlWry6RJPRz0bDZxIj4oH7FCCtOHU2vAFh/5aSBfgjsBqCW5G+iBKoSegwt4QMAKMqKFTA+XsXYnpUFEVQMBYaibDHjVZuUnBgjBGsFa7uVoaWcS8E5g7GCEUKtJHaiapPEIiLkgBdATCy7lcuOiYkKlUpAgy7LK4qABIxSS/ybACYnpgKAaTQw0qBobJ+slW24niwAeqLpPIIKznmqFcPYaBVjhBAUEZGqEzdaMq5Z2Olfzycfms7dD0YSMSIUkfkl5JeoAGsMxlDUEjGHU/fN/XPJZ9Ngs/GqSaourk9CCNHtV1QplwPGBk4gPgAKNqRKyYQrdjUmV8s2vCpiLmeLAXjn+rnLRyucnhXqETmhAoRuKjBCqVzgnGV8vIozokWhOpOavU813XsfTle+5FV/sf8zR7LKx1uF4KwYujUnWBwFCzhNcNa46ZTiYLriI5fctP+DB9LR859s2s/NZvLr4KFcchqVDqXS8Nu0pUHAFIG8PsL4WbXZqwCmbp50ZsvluwFYkRRvxnXd//nUSZdhhVJJsc7jrA0vWl2TUK9998fZWVdc8hdPfvFf/2V8Q3ztX+772Wxuvruybo3FFj0FHBergBjxq0YcmTffevNXHv41wOv/2yN7L/qzpz7wuDn5LdRre09aWRWFUCp7nNMXvA4JQQVRKs6/BWDy0FR8C7Tjj86tv25jc99IKazJYiX7+UOArsUEskyYn3NxbzBe+EKZa2fmkY43d8xnpX8852O/vPMzrz/zvBvPzfesHitRG8nVmP7iaxCfdpqJPHO06HztnurZZ2zZ+Owl8qsrxsr5FVUXXlN1YQNByrOz1hhRVowW/Z3oC1EAEBKLaRVy7J+eWbPxyk/ffUQADnxmw/Vrx4tbs9QXigycDzgeliQmMD/ryHNhbDynUgJxAlYIKcynPNMszE+LprlsxOnKSj1XaxZelS7g05C1SmY6lQOluk5Vjb98tMIYJaBQQhFodQxzswnVWkGt5gl6opdtQ/wKimooV6x9etb9zinv27fDAVRKPrp/2udpWRgmFgko5aonLxyqQuZVNQ9eRBRRN1qWNaOjemPTBObmrVaX0GGcu8V0CtWVI+HUkfFwqnaULNegucSEZbGqIsYo5XJAlz9u0IdFI/qzAbZs/ZuBHW5X49x6SeavJlVi9n+eU06DZtPYoCokLpAkgRDAoYJ0PUlF0wJPEVSMsQKiGvlgwHrSRS4gHtWsFXwIYiSupBLp0gsBSuWAtUoIvacG4AQ66XYZskAiZsv3Gq8cdesr6avrVTklTUPM/oMJRRZd4r0ZaNCFXhGhVgsDqzd6q0Gh+8LFWsVYPcF+QBAD1qgAbpBwxCe4RLFWESPYYWGFWG8YAu1/AWCzQot6jRedlx3Z4lYk4XdwQCoBxQ6u5XXg0ysXdtqBPF+g0uuH3grRMlKX/lK2F4MKGNFFWfs4PSgYoxij/Ymo73Am8tBqeubnfX9B1d83EK/VmiVx0v8tZmGMdNsQUYxST8JbXdrR326HQDPDLBK6S73PZJdYmsH0UX+8q3Uldc7GgwzluO83Qu+IWrc/lrK8dq01hEckHtHoEe7dZyl00lh/mJ0NfaF7oEEplQ3OuXiuoI9wgcTAJsvUU0izcJZrp/LzcWfO8kUIxDL5YpfvMdNtrFYMxaijNb8wBUXfU4wVrBOCh1YzMl2pQFKKzwZiVW7Egeue5xkGp0qBYIkvRAofhc6zaE3rBLfUPGWFsfEEYwfCYMjNBrw1GMS2MvOPLkfuQPg9ERVdakoZYjIo1GqWtOPxRddaRLc2Q9ouCphvQpJBpWoo2YJKBR551tDJddGOT7rCrh6B01d6Opmlkwqdtg7mk/5bot5yUiQuwet1h+ueVunLsISCo0eo5AGyYO90rVD6X8darSKx4ry+gEWQxnpAve6Yns4X5UNjYxLrWaAbb+SFIT8yT318lC/+PPCfdzePW20LMSzqpcDn3jDOa09r0WwGbFKif3hMo8C9/b509x9JItRGLDoo/HKgBGfFzaTM7O9U7zYv+5OHf1UgD1WcIEvm0ONBA5QrhkrFxPjumscOp2WJJpZ0GrNmM49teB9/fk+VTlbQe+sbNFrYq5I4y1PPtfjKY5tobX4PYi3i26hZ8PleYutygkg0xvMK3gURfDURiiD3XvOFPc8agBDkrpITkOdfCMFCgqzXXdeN42OmWxVVAGORog0a6Gx6K+mrGkzbVUg6TaXkAMVKdGkj3RegqoyUHe2ZZ5g75TI6l/wxvr4Ok82CsSCxPN+jEwJUq5ZS2ZxgauU4t7BG8EF2QdfdWz7ZFcveL2BpRcQXFJwTRkZcP0ajB8SFgqQz+LH1tC/6OJ2zfw9n4Mizh2imOc4liBjEWIyxC1cRXJJwbK5Ja/ppdNVZNC/6BPnaS5F0JiYMMXHrPUT/hNDrFxTUzWcwX7hd0C2JPde0PxtLdL5spV7AwiR8AhC6pemaJU0DWRrUOCf4FAlKtuFNpJu2oUkV2tPYyjjPHpnm2PQMo/U6Phx3KBQRoSg8h545zGwzZWxFh44r077wPxDGzqD06H9HEKyzAS2kXk9kUdZ/PlC05MTM5zz9hD/pPtiL0wZGGg8f2t84495qEi6dS9UDS000x0E3/P3IiAu+yJzNjnm/8kyTnvsHUqx5OeQtJG+BsSjCc0ePMbn5XE5aOUFeHP/PG1WlWikzMzfPc0eP8eJ1a9F0HkOgs2kbfvS3GHngzwszd9hVqhXKFZOFgJPnS9wQda0aKokxM5n52Rs+95M53YF1UwcnLUyFLJjdzuqliA4evhtCAEAADSKigiY1Z+xE1VpUKZ19nZ3buA2frMglnU0Qg4rBGqXVbnPxhS/lmssvolRKutWjxSRU40Kq1WpjrCPLcsTEYys2nwl+7Ss9azYmYfcX/IrZR+zKmiu10oJOoQHEg4oiUdsL/C6IIKKCkAb5IQDHJo2ZWzulAJ3C7WrlIKhlcD8kxNhRLUTIjWBWlI0bq5qkUMPRjrnviVn3qaNZZfKxde/40FzqKWs7UWyBmMKIIMagqqxZvZLCe1rtDp00pd1Z/EnTlLlmCwXGVtQJqthY6869GlMzafLUnLn7qZd9ZPORpr9k/4z5r9OpedxZa8arJqklxgkI3frhYvFRlGS6o8x7dxfAzjungsQQIOz4wOTYxbUjj464sCb1+JgHYnRZI26kFN8GH2lpyNXc3fH27450ku9e8oWHHxyk8p2vfOmCiTUn3TQxuuKViXOkWY5zLk8SZ2fn5k2adjBxz7U8qDI6OqrW2iLLMlcpl2R6do5mu/P5LTe+7f2Lxm5puLtf+a2LJ8r5tSXxr6+4cN54JR7PaeVBQQqIZ+RrTpKZTPaua7zz7O4fO0QUhAYiDcITHz/jO6sq4bpmpp3EUqkm8ZTWkRZpruYnaZBvHy1qP7j40w88MsCrTL1r0k0emwpTH7jJXHjhu3KAH+z42g2VcvJHibPXjK2ok2YZeVHkITx/xhJEjbWlkWqFmbl58qK4JU3zT1+17fcfANi1q+G2/FlDp4b+JQbwi49surBuixtLEq6vWN08UYXCK80sFPWycc+27Vde3Hj8D7WBkwaFE1A9ZdLBVMiD3VWvy3VhPlTmU2bnCvOTTm5vPdCp33bFF+/99SAhvWkyYWJ9ENnpocvEznf5XY2Ge3WjUVy97Z23Arf+6G//+gIf5t4lyFsnxurjUcLlqzgKGBGOzcxybHrulnaWfebKt/ybPQC7du1yW7Zs8SLSzaBTHhBtbLFTB3fLhTeTv/xTj94D3AN89OcfPOdls1l6bcmE60uWl1erjnRW/gFg6uCkwFTkQ3dstbJtp7/3w+e+dIXtfCr15ptP5KUfvf7zDz3dZ2wrdmpi0jx+bCps3UmQ41LMAqiq7N692245fFhl2zYP8Ldf//qLVo3bd4jyKiPytIikCkYWLb4CgkiAPE2Lb1zx5rf/AqLghw8f1m1dXMuBKsJOzNSdx3vG1Ps3nl1L9A1zVL75ik89+GQv9P83aYSWeBAKBv0AAAAASUVORK5CYII=\"","export default __webpack_public_path__ + \"static/media/CoinbaseWallet.d690a1fe.png\";","export default __webpack_public_path__ + \"static/media/WalletConnect.0b85d0e6.svg\";","import { InputHTMLAttributes, PropsWithChildren, ReactNode } from \"react\"\r\nimport { ForwardedRef, forwardRef } from \"react\"\r\nimport { Grid } from \"components/layout\"\r\nimport styles from \"./AssetFormItem.module.scss\"\r\n\r\ninterface Props {\r\n  label: string\r\n  extra?: ReactNode\r\n  error?: string\r\n}\r\n\r\nconst AssetFormItem = (props: PropsWithChildren<Props>) => {\r\n  const { label, extra, error, children } = props\r\n\r\n  return (\r\n    <Grid gap={3}>\r\n      <Grid gap={5} className={styles.border}>\r\n        <header className={styles.header}>\r\n          <label className={styles.label}>{label}</label>\r\n          {extra && <aside className={styles.extra}>{extra}</aside>}\r\n        </header>\r\n\r\n        {children}\r\n      </Grid>\r\n      <p className={styles.error}>{error}</p>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default AssetFormItem\r\n\r\n/* input */\r\nexport const AssetInput = forwardRef(\r\n  (\r\n    attrs: InputHTMLAttributes<HTMLInputElement>,\r\n    ref: ForwardedRef<HTMLInputElement>\r\n  ) => {\r\n    return (\r\n      <input {...attrs} className={styles.input} autoComplete=\"off\" ref={ref} />\r\n    )\r\n  }\r\n)\r\n\r\n/* read only */\r\nexport const AssetReadOnly = ({ children }: PropsWithChildren<{}>) => {\r\n  return <span className={styles.input}>{children}</span>\r\n}\r\n","import { ReactNode, useState } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { flatten } from \"ramda\"\r\nimport classNames from \"classnames/bind\"\r\nimport ArrowDropDownIcon from \"@mui/icons-material/ArrowDropDown\"\r\nimport SearchIcon from \"@mui/icons-material/Search\"\r\nimport createContext from \"utils/createContext\"\r\nimport { Flex, Grid } from \"components/layout\"\r\nimport { Empty } from \"components/feedback\"\r\nimport { TokenCard, TokenCardGrid, TokenIcon } from \"components/token\"\r\nimport styles from \"./SelectToken.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\n\r\ninterface GroupProps {\r\n  title: string\r\n  children: ItemProps[]\r\n}\r\n\r\nconst SelectTokenGroup = ({ title, children }: GroupProps) => {\r\n  return !children.filter(({ hidden }) => !hidden).length ? null : (\r\n    <article>\r\n      <h1 className={styles.title}>{title}</h1>\r\n      <TokenCardGrid>\r\n        {children.map((item) => (\r\n          <SelectTokenItem {...item} key={item.value} />\r\n        ))}\r\n      </TokenCardGrid>\r\n    </article>\r\n  )\r\n}\r\n\r\n\r\ninterface ItemProps extends TokenItem {\r\n  balance?: string\r\n  value: string\r\n  muted?: boolean\r\n  hidden?: boolean\r\n}\r\n\r\nconst SelectTokenItem = (props: ItemProps) => {\r\n  const { value, balance, muted, hidden } = props\r\n  const { hideBalance, selectToken } = useSelectToken()\r\n\r\n  return hidden ? null : (\r\n    <button\r\n      type=\"button\"\r\n      className={cx(styles.button, { muted })}\r\n      onClick={() => selectToken(value)}\r\n    >\r\n      <TokenCard\r\n        {...props}\r\n        className={styles.item}\r\n        balance={hideBalance ? undefined : balance}\r\n        name={undefined /* Hide name */}\r\n        value={undefined /* To avoid put the `option` value */}\r\n      />\r\n    </button>\r\n  )\r\n}\r\n\r\n\r\ninterface Props {\r\n  value?: string\r\n  onChange: (value: string) => void\r\n  options: GroupProps[]\r\n  addonAfter: ReactNode // input\r\n  checkbox?: ReactNode\r\n}\r\n\r\ninterface Value {\r\n  hideBalance: boolean\r\n  selectToken: Props[\"onChange\"]\r\n}\r\n\r\nconst [useSelectToken, SelectTokenProvider] =\r\n  createContext<Value>(\"useSelectToken\")\r\n\r\nconst SelectToken = ({ value: selected, onChange, ...props }: Props) => {\r\n  const { options, addonAfter, checkbox } = props\r\n  const { t } = useTranslation()\r\n\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const toggle = () => setIsOpen(!isOpen)\r\n  const selectToken = (value: string) => {\r\n    if (value !== selected) onChange(value)\r\n    toggle()\r\n  }\r\n\r\n  const [keyword, setKeyword] = useState(\"\")\r\n\r\n  const items = flatten(Object.values(options.map(({ children }) => children)))\r\n  const current = items.find((item) => item.value === selected)\r\n  const byKeyword = items.filter((item) =>\r\n    [item.value, item.symbol].some((k) =>\r\n      k.toLowerCase().includes(keyword.toLowerCase())\r\n    )\r\n  )\r\n\r\n  const empty = !byKeyword.length\r\n\r\n  return (\r\n    <SelectTokenProvider value={{ hideBalance: !checkbox, selectToken }}>\r\n      <div className={styles.component}>\r\n        <Flex>\r\n          <button type=\"button\" className={styles.toggle} onClick={toggle}>\r\n            {current ? (\r\n              <>\r\n                <TokenIcon token={current.token} icon={current.icon} />\r\n                {current.symbol}\r\n              </>\r\n            ) : (\r\n              t(\"Select a coin\")\r\n            )}\r\n\r\n            <ArrowDropDownIcon style={{ fontSize: 18 }} />\r\n          </button>\r\n\r\n          {addonAfter}\r\n        </Flex>\r\n\r\n        {isOpen && (\r\n          <section>\r\n            <Flex className={styles.search}>\r\n              <SearchIcon />\r\n              <input\r\n                value={keyword}\r\n                onChange={(e) => setKeyword(e.target.value)}\r\n                placeholder=\"\"\r\n                autoComplete=\"off\"\r\n                autoFocus\r\n              />\r\n            </Flex>\r\n\r\n            <Grid gap={20} className={cx(styles.list, { empty })}>\r\n              {keyword ? (\r\n                empty ? (\r\n                  <Empty />\r\n                ) : (\r\n                  <TokenCardGrid>\r\n                    {byKeyword.map((item) => (\r\n                      <SelectTokenItem {...item} key={item.value} />\r\n                    ))}\r\n                  </TokenCardGrid>\r\n                )\r\n              ) : (\r\n                <>\r\n                  {checkbox && (\r\n                    <section className={cx(styles.checkbox)}>\r\n                      {checkbox}\r\n                    </section>\r\n                  )}\r\n\r\n                  {options.map((option) => (\r\n                    <SelectTokenGroup {...option} key={option.title} />\r\n                  ))}\r\n                </>\r\n              )}\r\n            </Grid>\r\n          </section>\r\n        )}\r\n      </div>\r\n    </SelectTokenProvider>\r\n  )\r\n}\r\n\r\nexport default SelectToken\r\n","import { ForwardedRef, forwardRef, InputHTMLAttributes } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport classNames from \"classnames/bind\"\r\nimport { Flex, Grid } from \"components/layout\"\r\nimport styles from \"./SlippageControl.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\ninterface Props extends InputHTMLAttributes<HTMLInputElement> {\r\n  input?: number\r\n  error?: string\r\n}\r\n\r\nconst SlippageControl = forwardRef(\r\n  ({ input, error, ...attrs }: Props, ref: ForwardedRef<HTMLInputElement>) => {\r\n    const { t } = useTranslation()\r\n\r\n    const warn = (n?: number) => {\r\n      if (!n) return\r\n      if (n > 5) return t(\"Transaction may be frontrun\")\r\n      if (n < 0.5) return t(\"Transaction may fail\")\r\n      return\r\n    }\r\n\r\n    const warning = warn(input)\r\n    const className = cx(\r\n      styles.wrapper,\r\n      error ? \"feedback-error\" : warning ? \"feedback-warning\" : undefined\r\n    )\r\n\r\n    return (\r\n      <Grid gap={2}>\r\n        <section className={styles.main}>\r\n          <label className={styles.label}>{t(\"Slippage tolerance\")}</label>\r\n          <Flex gap={2} className={className}>\r\n            <input {...attrs} autoComplete=\"off\" ref={ref} />\r\n            <span>%</span>\r\n          </Flex>\r\n        </section>\r\n\r\n        {error ? (\r\n          <p className={styles.error}>{error}</p>\r\n        ) : warning ? (\r\n          <p className={styles.warning}>{warning}</p>\r\n        ) : null}\r\n      </Grid>\r\n    )\r\n  }\r\n)\r\n\r\nexport default SlippageControl\r\n","import BigNumber from \"bignumber.js\"\r\nimport { Read } from \"components/token\"\r\n// import { SwapAssets } from \"../useSwapUtils\"\r\n\r\n\r\ninterface Props {\r\n  offerAsset?: string\r\n  askAsset?: string\r\n  price?: string // expected in wei units\r\n  priceDecimals?: number\r\n  className?: string\r\n}\r\n\r\nconst Price = ({ price, priceDecimals=18, offerAsset, askAsset, className }: Props) => {\r\n  if (!price || !offerAsset || !askAsset || price==\"0\") return null\r\n\r\n  const smallNumPrice =  new BigNumber(price).shiftedBy(-priceDecimals).toNumber()\r\n  \r\n  return smallNumPrice > 1 ? (\r\n    <span className={className}>\r\n      <Read amount={String(1)} token={askAsset} decimals={0} /> ={\" \"}\r\n      <Read amount={String(smallNumPrice)} token={offerAsset} decimals={0} auto />\r\n    </span>\r\n  ) : (\r\n    <span className={className}>\r\n      <Read amount={String(1)} token={offerAsset} decimals={0} /> ={\" \"}\r\n      <Read amount={String(1 / smallNumPrice)} token={askAsset} decimals={0} auto />\r\n    </span>\r\n  )\r\n}\r\n\r\nexport default Price\r\n\r\n\r\n\r\n// interface Props extends SwapAssets {\r\n//   price?: Price\r\n//   className?: string\r\n// }\r\n\r\n// const Price = ({ price, offerAsset, askAsset, className }: Props) => {\r\n//   if (!price) return null\r\n\r\n//   return price > 1 ? (\r\n//     <span className={className}>\r\n//       <Read amount={String(1)} token={askAsset} decimals={0} /> ={\" \"}\r\n//       <Read amount={String(price)} token={offerAsset} decimals={0} auto />\r\n//     </span>\r\n//   ) : (\r\n//     <span className={className}>\r\n//       <Read amount={String(1)} token={offerAsset} decimals={0} /> ={\" \"}\r\n//       <Read amount={String(1 / price)} token={askAsset} decimals={0} auto />\r\n//     </span>\r\n//   )\r\n// }","import { useTranslation } from \"react-i18next\"\r\n// import { isDenomLuna, isDenomTerra } from \"@terra.kitchen/utils\"\r\n// import { readPercent } from \"@terra.kitchen/utils\"\r\n// import { toPrice } from \"utils/num\"\r\nimport { useMarketParams } from \"data/queries/market\"\r\n// import { useOracleParams } from \"data/queries/oracle\"\r\nimport { Read } from \"components/token\"\r\n// import { TooltipIcon } from \"components/display\"\r\n// import { PayloadOnchain, PayloadTerraswap } from \"../useSwapUtils\"\r\n// import { PayloadRouteswap } from \"../useSwapUtils\"\r\n// import { SwapMode } from \"../useSwapUtils\"\r\n// import { SlippageParams, SwapSpread, useSingleSwap } from \"../SingleSwapContext\"\r\nimport Price from \"./Price\"\r\n\r\n\r\nexport interface ExpectedPriceProps  {\r\n  offerAsset: string\r\n  offerDecimals: number\r\n  askAsset: string\r\n  askDecimals: number\r\n  offerAssetPrice: string\r\n  askAssetPrice: string\r\n  askAssetRatio?: string\r\n  feeAmount: string\r\n  minimum_receive?: string\r\n  isLoading: boolean\r\n  mode?: string\r\n}\r\n\r\nconst ExpectedPrice = ({ ...props }: ExpectedPriceProps) => {\r\n  const { offerAsset, offerDecimals, askAsset, askDecimals } = props\r\n  const { offerAssetPrice, askAssetPrice, askAssetRatio, feeAmount } = props\r\n  const { minimum_receive, isLoading, mode } = props\r\n  const { t } = useTranslation()\r\n  \r\n  \r\n  // RENDER COMPONENTS\r\n  const renderPrice = (price?: string, priceDecimals?:number) => {\r\n    return <Price {...props} price={price} priceDecimals={priceDecimals}/>\r\n  }\r\n\r\n  const renderUsdAskPrice = () => {\r\n      return (\r\n        <Price {...props} \r\n          price={askAssetPrice} \r\n          priceDecimals={askDecimals} \r\n          offerAsset={\"USD\"}\r\n        />\r\n      )\r\n    }\r\n\r\n  const renderUsdOfferPrice = () => {\r\n      return (\r\n        <Price {...props} \r\n          price={offerAssetPrice} \r\n          priceDecimals={offerDecimals}\r\n          offerAsset={\"USD\"}\r\n          askAsset={offerAsset}\r\n        />\r\n      )\r\n    }\r\n\r\n  const renderExpectedPrice = () => {\r\n    return (\r\n      <>\r\n        <dt>{t(\"Expected price\")}</dt>\r\n        <dd>{!isLoading && renderPrice(askAssetRatio)}</dd>\r\n      </>\r\n    )\r\n  }\r\n\r\n  const renderUsdPrices = () => {\r\n    return (\r\n      <>\r\n        <dt>{offerAsset}{\" \"}{t(\"Oracle price\")}</dt>\r\n        <dd>{!isLoading && renderUsdOfferPrice()}</dd>\r\n        <dt>{askAsset}{\" \"}{t(\"Oracle price\")}</dt>\r\n        <dd>{!isLoading && renderUsdAskPrice()}</dd>\r\n      </>\r\n    )\r\n  }\r\n\r\n  // (10) CANTIDAD MÍNIMA RECIBIDA EN EL SWAP\r\n  // const renderMinimumReceived = () => {\r\n    \r\n  //   return (\r\n  //     <>\r\n  //       <dt>{t(\"Minimum received\")}</dt>\r\n  //       {/* COMPONENTE READ MATEMÁTICAS INSEGURAS */}\r\n  //       <dd>\r\n  //         {!isLoading && (\r\n  //           <Read\r\n  //             amount={minimum_receive}\r\n  //             token={askAsset}\r\n  //             decimals={askDecimals}\r\n  //           />\r\n  //         )}\r\n  //       </dd>\r\n  //     </>\r\n  //   )\r\n  // }\r\n\r\n\r\n  // (7-9) INFORMACIÓN DEL SWAP DEPENDIENDO DEL MODO DE SWAP ELEGIDO\r\n  // RENDER OPTIONS\r\n  const renderGLPswap = () => {\r\n    return (\r\n      <>\r\n        {renderUsdPrices()}\r\n\r\n        {!!askAssetRatio && (\r\n          <>\r\n            <dt>{t(\"Pair price\")}</dt>\r\n            <dd>{renderPrice(askAssetRatio)}</dd>\r\n          </>\r\n        )}\r\n\r\n        {/* COMPONENTE READ MATEMÁTICAS INSEGURAS */}\r\n        <dt>{t(\"Trading fee\")}</dt>\r\n        <dd>\r\n          {!isLoading && (\r\n            <Read amount={feeAmount} token={\"GEX\"} decimals={askDecimals} />\r\n          )}\r\n        </dd>\r\n\r\n        {/* {renderMinimumReceived()} */}\r\n      </>\r\n    )\r\n  }\r\n\r\n  const renderSCMint = () => {\r\n    return (\r\n      <>\r\n        {renderUsdPrices()}\r\n\r\n        {/* COMPONENTE READ MATEMÁTICAS INSEGURAS */}\r\n        <dt>{t(\"Trading fee\")}</dt>\r\n        <dd>\r\n          {!isLoading && (\r\n            <Read amount={feeAmount} token={\"GEX\"} decimals={askDecimals} />\r\n          )}\r\n        </dd>\r\n\r\n        {/* {renderMinimumReceived()} */}\r\n      </>\r\n    )\r\n  }\r\n  \r\n  \r\n\r\n  // (7-10) VALORES ESPERADOS DEL SWAP\r\n  return (\r\n    <dl>\r\n      {mode == \"SCMint\" ? \r\n       renderSCMint() : \r\n       renderGLPswap()\r\n      }\r\n    </dl>\r\n  )\r\n}\r\n\r\n\r\n\r\nexport default ExpectedPrice\r\n\r\n\r\n\r\n/* hooks */\r\nconst useSwapSpread = () => {\r\n  const { data: marketParams } = useMarketParams()\r\n  const minSpread = marketParams?.min_stability_spread\r\n  return minSpread?.toString()\r\n}\r\n\r\n// const useTobinTax = (askAsset?: CoinDenom) => {\r\n//   const { data: oracleParams } = useOracleParams()\r\n//   const tobinTax = oracleParams?.whitelist.find(\r\n//     ({ name }) => name === askAsset\r\n//   )?.tobin_tax\r\n\r\n//   return tobinTax?.toString()\r\n// }\r\n\r\n\r\n// interface Props extends SlippageParams, SwapSpread {\r\n//   mode: SwapMode\r\n//   isLoading: boolean\r\n//   rate?: Price\r\n//   payload?: PayloadOnchain | PayloadTerraswap | PayloadRouteswap\r\n// }\r\n\r\n// const ExpectedPrice = ({ mode, input, ...props }: Props) => {\r\n//   const { offerAsset, askAsset } = props\r\n//   const { price, rate, minimum_receive, payload, isLoading } = props\r\n//   const { t } = useTranslation()\r\n\r\n//   /* decimals */\r\n//   const { findDecimals } = useSingleSwap()\r\n//   const offerDecimals = findDecimals(offerAsset)\r\n//   const askDecimals = findDecimals(askAsset)\r\n\r\n//   /* query: native */\r\n//   const minSpread = useSwapSpread()\r\n//   const tobinTax = useTobinTax(askAsset)\r\n\r\n\r\n\r\n//   // (7-9) INFORMACIÓN DEL SWAP DEPENDIENDO DEL MODO DE SWAP ELEGIDO\r\n//   /* render: expected price */\r\n//   const renderPrice = (price?: Price) => <Price {...props} price={price} />\r\n\r\n//   const renderExpectedPrice = () => {\r\n//     return (\r\n//       <>\r\n//         <dt>{t(\"Expected price\")}</dt>\r\n//         <dd>{!isLoading && renderPrice(price)}</dd>\r\n//       </>\r\n//     )\r\n//   }\r\n\r\n\r\n//   /* render: by mode */\r\n//   const renderOnchain = () => {\r\n//     const spread = payload as PayloadOnchain\r\n\r\n//     const tooltip = (\r\n//       <>\r\n//         {[offerAsset, askAsset].some(isDenomLuna) && (\r\n//           <p>\r\n//             {t(\"Minimum Luna swap spread: {{minSpread}}\", {\r\n//               minSpread: readPercent(minSpread),\r\n//             })}\r\n//           </p>\r\n//         )}\r\n\r\n//         {askAsset && isDenomTerra(askAsset) && tobinTax && (\r\n//           <p>\r\n//             {t(\"Terra tobin tax: {{tobinTax}}\", {\r\n//               tobinTax: readPercent(tobinTax),\r\n//             })}\r\n//           </p>\r\n//         )}\r\n//       </>\r\n//     )\r\n\r\n//     return (\r\n//       <>\r\n//         <dt>{t(\"Oracle price\")}</dt>\r\n//         <dd>{renderPrice(rate)}</dd>\r\n//         {renderExpectedPrice()}\r\n//         <dt>\r\n//           <TooltipIcon content={tooltip}>{t(\"Spread\")}</TooltipIcon>\r\n//         </dt>\r\n//         <dd>\r\n//           {!isLoading && (\r\n//             <Read amount={spread} denom={askAsset} decimals={askDecimals} />\r\n//           )}\r\n//         </dd>\r\n//       </>\r\n//     )\r\n//   }\r\n\r\n//   const renderTerraswap = () => {\r\n//     const fee = payload as PayloadTerraswap\r\n\r\n//     const decimals = askDecimals - offerDecimals\r\n//     const price = toPrice(Number(rate) * Math.pow(10, decimals))\r\n\r\n//     return (\r\n//       <>\r\n//         {!!price && (\r\n//           <>\r\n//             <dt>{t(\"Pair price\")}</dt>\r\n//             <dd>{renderPrice(price)}</dd>\r\n//           </>\r\n//         )}\r\n\r\n//         {renderExpectedPrice()}\r\n\r\n//         <dt>{t(\"Trading fee\")}</dt>\r\n//         <dd>\r\n//           {!isLoading && (\r\n//             <Read amount={fee} denom={askAsset} decimals={askDecimals} />\r\n//           )}\r\n//         </dd>\r\n//       </>\r\n//     )\r\n//   }\r\n\r\n//   const renderRouteswap = () => {\r\n//     return <>{renderExpectedPrice()}</>\r\n//   }\r\n\r\n//   const renderByMode = (mode: SwapMode) =>\r\n//     ({\r\n//       [SwapMode.ONCHAIN]: renderOnchain,\r\n//       [SwapMode.TERRASWAP]: renderTerraswap,\r\n//       [SwapMode.ASTROPORT]: renderTerraswap,\r\n//       [SwapMode.ROUTESWAP]: renderRouteswap,\r\n//     }[mode]())\r\n\r\n  \r\n//     /* render: minimum received */\r\n//   const renderMinimumReceived = () => {\r\n//     // (10) CANTIDAD MÍNIMA RECIBIDA EN EL SWAP\r\n//     return (\r\n//       <>\r\n//         <dt>{t(\"Minimum received\")}</dt>\r\n//         <dd>\r\n//           {!isLoading && (\r\n//             <Read\r\n//               amount={minimum_receive}\r\n//               token={askAsset}\r\n//               decimals={findDecimals(askAsset)}\r\n//             />\r\n//           )}\r\n//         </dd>\r\n//       </>\r\n//     )\r\n//   }\r\n\r\n//   if (!Number.isFinite(price)) return null\r\n\r\n//   // (7-10) VALORES ESPERADOS DEL SWAP\r\n//   return (\r\n//     <dl>\r\n//       {mode && renderByMode(mode)}\r\n//       {renderMinimumReceived()}\r\n//     </dl>\r\n//   )\r\n// }","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAASiSURBVHhe7d2/ixxlHMfx79yBWiTmmjQaFVHbgFooFmqKRMQijSDY6B9gKTZWgtoICpb+CXY2FhchjYJYKKiISjDFBRst8kMQf+yOz2WfIlWIeLPezuf1gr3vPFPcMbO779tpZgsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA2ydBnvIvna6dvMlNHrtbi+Nm61pc0AtBcOlfP1bLebmfjZN/FPI3tOf5quayX7n2mvu37om31GW0c6w1v/ghDS8Aj7UX/QV/HE4CmfQx6tG+SYKjH+lY8ASCR133nREAwAYBgAgDBBACCCQAEEwAIJgAQTAAgmABAMAGAYAIAwQQAggkABBMACCYAEEwAIJgAQDABgGACQKK/+ownACT6pM94vhegubRbY9+c0uU++f8s2uOLxVCv3He6flrtyiYAzToCcOKMc83h4xIAggkABBMACCYAEEwAIJgAQDABgGACAMEEAIIJAAQTAAgmABBMACCYAEAwAYBgAgDBBACCCQAEEwAIJgAQTAAgmABAMAGAYO5V38zpewEunq+d25d1bPjz4P7ecqsWy6P16z1P1O991+TmchyHnQA0cwnA3m491f7Ie23zZHtsX995cC603/3y3Wfqs76ezN65enoY6922udHHsQlcAsxIe2G/1cbD7XHQb5p9D45Dvd+3J9Xe/G+2sfHHsQkEYF4e73Ma4/U35TrM5TgOPQGYlyn+Y95o8suYbi7HcegJAAQTAAgmABBMACCYAEAwAYBgAgDBBACCCQAEEwAIJgAQTAAgmABAMAGAYAIAwQQAggkABBMACCYAEEwAIJgAQDABgGACAMEEAIIJAAQTAAgmABBMACCYAEAwAYBgAgDBBACCCQAEEwAIJgAQTAAgmABAMAGAYAIAwQQAggkABBMACCYAEEwAIJgAQDABgGACAMEEAIIJAAQTAP6NRZ/MhADMyVA/9K2pfNknMyEAMzIs6sU2LqxWB2oxVn03DvVaXzMTQ5/RLu1We31P68SZ9Zzr8cPa/vlY3bW1rO2+6z8bb6vxj626cv+putx3TWpOz8dh5yQ0XnCHi+djfVwCQDABgGACAMEEAIIJAAQTAAgmABBMACCYAEAwAYBgAgDBBACCCQAEEwAIJgAQTAAgmABAMAGAYAIAwQQAggkABBMACCYAEMy90Zu53Id+b7ceakfyzjDUk225yc/tTp+T8b0AK05CM5cAtOP4uI1nVytuRgBWXALMy6k+4ZYIwLzc0SfcEgGAYAIAwQQAggkABBMACCYAEEwAIJgAQDABgGACAMEEAIIJAAQTAAgmABBMACCYAEAwAYBgAgDBBGA9Fn1ObfKbmzIvArDyTZ9T+bTPqX3dJzf3fZ/xBGDfVj3ffu5H4KD/U+//vs+HqtdXy2kNi3qhfQbYj8C6PnFsoh9rqFf7djz3Rr/BLx/V0d/urO2+PBBHrtbi+Nm61pdrMcVxzMXy7xofOF1X+hIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADYHFX/AMdflAm3FaGrAAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/wbtc.4b46fd92.png\";","import { useCallback, useEffect, useMemo, useState } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\n// import { useLocation } from \"react-router-dom\"\r\n// import { useQuery } from \"react-query\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport { useNetwork, useAccount, useBalance, useContractReads, erc20ABI } from 'wagmi'\r\n// import { ethers } from \"ethers\"\r\n// import BigNumber from \"bignumber.js\"\r\n// import { AccAddress } from \"@terra-money/terra.js\"\r\n// import { isDenomTerra } from \"@terra.kitchen/utils\"\r\nimport { toAmount } from \"@terra.kitchen/utils\"\r\n\r\n/* helpers */\r\nimport { has } from \"utils/num\"\r\nimport BigNumber from \"bignumber.js\"\r\n// import { getAmount, sortCoins } from \"utils/coin\"\r\n// import { queryKey } from \"data/query\"\r\n// import { useAddress } from \"data/wallet\"\r\n// import { useBankBalance } from \"data/queries/bank\"\r\n// import { useCustomTokensCW20 } from \"data/settings/CustomTokens\"\r\n\r\n/* components */\r\nimport { Form, FormArrow, FormError } from \"components/form\"\r\nimport { Checkbox, RadioButton } from \"components/form\"\r\nimport { Read } from \"components/token\"\r\n\r\n/* tx modules */\r\nimport { getPlaceholder, toInput } from \"../utils\"\r\nimport validate from \"../validate\"\r\nimport Tx, { getInitialGasDenom } from \"../Tx\"\r\n\r\n/* swap modules */\r\nimport AssetFormItem from \"./components/AssetFormItem\"\r\nimport { AssetInput, AssetReadOnly } from \"./components/AssetFormItem\"\r\nimport SelectToken from \"./components/SelectToken\"\r\nimport SlippageControl from \"./components/SlippageControl\"\r\nimport ExpectedPrice, { ExpectedPriceProps } from \"./components/ExpectedPrice\"\r\n// import useSwapUtils, { validateAssets } from \"./useSwapUtils\"\r\nimport { SwapMode, validateParams } from \"./useSwapUtils\"\r\nimport { SlippageParams } from \"./SingleSwapContext\"\r\n// import { validateSlippageParams, useSingleSwap } from \"./SingleSwapContext\"\r\n// import styles from \"./SwapForm.module.scss\"\r\n\r\n/* Token images */\r\nimport ethIcon from \"../../styles/images/tokens/eth.png\"\r\nimport gexIcon from \"../../styles/images/tokens/gex.png\"\r\nimport wbtcIcon from \"../../styles/images/tokens/wbtc.png\"\r\nimport paxgIcon from \"../../styles/images/tokens/paxg.png\"\r\nimport xautIcon from \"../../styles/images/tokens/xaut.png\"\r\n\r\n\r\n/* Smart contracts */\r\nimport gexDeploy from \"../../config/contracts/GEX.json\"\r\nimport paxgDeploy from \"../../config/contracts/Token_PAXG.json\"\r\nimport xautDeploy from \"../../config/contracts/Token_XAUT.json\"\r\nimport wbtcDeploy from \"../../config/contracts/Token_WBTC.json\"\r\nimport natPoolDeploy from \"../../config/contracts/GenLiqPoolNat.json\"\r\nimport paxgPoolDeploy from \"../../config/contracts/GenLiqPool_PAXG.json\"\r\nimport xautPoolDeploy from \"../../config/contracts/GenLiqPool_XAUT.json\"\r\nimport wbtcPoolDeploy from \"../../config/contracts/GenLiqPool_WBTC.json\"\r\n\r\n\r\n// import { Coins } from \"@terra-money/terra.js\"\r\n\r\n\r\n\r\nexport const loadContractsInfo = () => {\r\n  return {\r\n    tokens: {\r\n      gex: gexDeploy,\r\n      paxg: paxgDeploy,\r\n      xaut: xautDeploy,\r\n      wbtc: wbtcDeploy,\r\n    },\r\n    pools: {\r\n      eth: natPoolDeploy,\r\n      paxg: paxgPoolDeploy,\r\n      xaut: xautPoolDeploy,\r\n      wbtc: wbtcPoolDeploy,\r\n    }\r\n  }\r\n}\r\n\r\n\r\nconst defaultDecimals = 18\r\n\r\nexport const nativeAsset: AssetEVM = {\r\n  balance: \"0\",\r\n  decimals: defaultDecimals,\r\n  icon: ethIcon,\r\n  name: \"Ethereum\",\r\n  symbol: \"ETH\",\r\n  token: \"nativeAsset\",\r\n}\r\n\r\nexport const tokensList: ERC20Token[] = [\r\n  {\r\n    balance: \"0\",\r\n    decimals: defaultDecimals,\r\n    icon: gexIcon,\r\n    name: \"Geminon\",\r\n    symbol: \"GEX\",\r\n    token: loadContractsInfo().tokens.gex.address,\r\n    address: loadContractsInfo().tokens.gex.address,\r\n  },\r\n  {\r\n    balance: \"0\",\r\n    decimals: defaultDecimals,\r\n    icon: wbtcIcon,\r\n    name: \"Wrapped Bitcoin\",\r\n    symbol: \"WBTC\",\r\n    token: loadContractsInfo().tokens.wbtc.address,\r\n    address: loadContractsInfo().tokens.wbtc.address,\r\n  },\r\n  {\r\n    balance: \"0\",\r\n    decimals: defaultDecimals,\r\n    icon: paxgIcon,\r\n    name: \"PAX Gold\",\r\n    symbol: \"PAXG\",\r\n    token: loadContractsInfo().tokens.paxg.address,\r\n    address: loadContractsInfo().tokens.paxg.address,\r\n  },\r\n  {\r\n    balance: \"0\",\r\n    decimals: defaultDecimals,\r\n    icon: xautIcon,\r\n    name: \"Tether Gold\",\r\n    symbol: \"XAUT\",\r\n    token: loadContractsInfo().tokens.xaut.address,\r\n    address: loadContractsInfo().tokens.xaut.address,\r\n  },\r\n]\r\n\r\n// const assetsList: TokenItemWithBalance[] = [\r\n//   nativeAsset,\r\n//   ...tokensList\r\n// ]\r\n\r\n\r\n// HACK PARA USAR HOOK ITERANDO\r\n// const IterableUseAssetBalance = (asset: TokenItemWithBalance) => {\r\n//   return useAssetBalance(asset)\r\n// }\r\n\r\n// const useAssetBalance = (asset: TokenItemWithBalance) => {\r\n//   const { address } = useAccount()\r\n\r\n//   const { data } = useBalance({\r\n//     addressOrName: address,\r\n//     token: asset.address,\r\n//     formatUnits: 'wei'\r\n//   })\r\n\r\n//   return { \r\n//     ...asset, \r\n//     decimals: data?.decimals ?? asset.decimals, \r\n//     balance: data?.formatted ?? asset.balance}\r\n// }\r\n\r\n\r\nconst useReadBalances = () => {\r\n  const { address, isConnected } = useAccount()\r\n  const contracts = tokensList.map((asset) => {\r\n    return {\r\n      addressOrName: asset.address,\r\n      contractInterface: erc20ABI,\r\n      functionName: \"balanceOf\",\r\n      args: address,\r\n      enabled: isConnected\r\n    }\r\n  })\r\n  \r\n  const { data: coinData } = useBalance({addressOrName: address, formatUnits: 'wei'})\r\n  const { data: tokenData } = useContractReads({ contracts })\r\n  \r\n  nativeAsset.balance = coinData?.formatted ?? \"0\"\r\n  tokensList.forEach((asset, index) => {\r\n    asset.balance = tokenData?.[index]?.toString() ?? \"0\"\r\n  })\r\n  \r\n  return [nativeAsset, ...tokensList]\r\n}\r\n\r\n\r\n\r\nconst usePoolTradeInfo = (poolSymbol:string, offerAsset:string|undefined, offerAmount:string, enabled:boolean) => {\r\n  const { isConnected } = useAccount()\r\n  poolSymbol = poolSymbol.toLowerCase()\r\n  \r\n  console.log(\"[usePoolTradeInfo] params:\", poolSymbol, offerAsset, offerAmount)\r\n  const { address, abi, isError } = usePoolContractInfo(poolSymbol)\r\n\r\n  const contracts = offerAsset === \"GEX\" ?\r\n  [\r\n    {\r\n      addressOrName: address,\r\n      contractInterface: abi,\r\n      functionName: \"getOutCollateralAmount\",\r\n      args: offerAmount, \r\n      \r\n    },\r\n    {\r\n      addressOrName: address,\r\n      contractInterface: abi,\r\n      functionName: \"getGEXPrice\",\r\n    },\r\n    {\r\n      addressOrName: address,\r\n      contractInterface: abi,\r\n      functionName: \"getCollateralPrice\",\r\n    },\r\n    {\r\n      addressOrName: address,\r\n      contractInterface: abi,\r\n      functionName: \"getCollateralQuote\",\r\n    },\r\n  ] : [\r\n    {\r\n      addressOrName: address,\r\n      contractInterface: abi,\r\n      functionName: \"getOutGEXAmount\",\r\n      args: offerAmount, \r\n    },\r\n    {\r\n      addressOrName: address,\r\n      contractInterface: abi,\r\n      functionName: \"getCollateralPrice\",\r\n    },\r\n    {\r\n      addressOrName: address,\r\n      contractInterface: abi,\r\n      functionName: \"getGEXPrice\",\r\n    },\r\n    {\r\n      addressOrName: address,\r\n      contractInterface: abi,\r\n      functionName: \"getGEXQuote\",\r\n    },\r\n  ]\r\n  \r\n  const { data } = useContractReads({ \r\n    contracts,\r\n    enabled: enabled && isConnected && !isError \r\n   })\r\n  console.log(\"[usePoolTradeInfo] Contract Read:\", data)\r\n  \r\n  // All amounts numbers as string in wei units (1e18)\r\n  return { \r\n    outAmount: data?.[0]?.toString(),\r\n    offerAssetPrice: data?.[1]?.toString(),\r\n    askAssetPrice: data?.[2]?.toString(),\r\n    askAssetRatio: data?.[3]?.toString(),\r\n  }\r\n}\r\n\r\n\r\nconst usePoolFees = (poolSymbol:string, offerAsset:string, gexAmount:string) => {\r\n  const { isConnected } = useAccount()\r\n  poolSymbol = poolSymbol.toLowerCase()\r\n\r\n  const { address, abi, isError } = usePoolContractInfo(poolSymbol)\r\n  \r\n  const contracts = offerAsset === \"GEX\" ?\r\n  [\r\n    {\r\n      addressOrName: address,\r\n      contractInterface: abi,\r\n      functionName: \"amountRedeemFee\",\r\n      args: gexAmount, \r\n      enabled: !isError && isConnected\r\n    },\r\n    {\r\n      addressOrName: address,\r\n      contractInterface: abi,\r\n      functionName: \"getFee\",\r\n      args: [gexAmount, 2000], \r\n      enabled: !isError && isConnected\r\n    },\r\n  ] : [\r\n    {\r\n      addressOrName: address,\r\n      contractInterface: abi,\r\n      functionName: \"amountMintFee\",\r\n      args: gexAmount, \r\n      enabled: !isError && isConnected\r\n    },\r\n    {\r\n      addressOrName: address,\r\n      contractInterface: abi,\r\n      functionName: \"getFee\",\r\n      args: [gexAmount, 1000], \r\n      enabled: !isError && isConnected\r\n    },\r\n  ]\r\n  \r\n  const { data, ...status } = useContractReads({ contracts })\r\n  if (status.error) console.log(\"[usePoolFees] Contract read ERROR:\", data, status.error)\r\n  \r\n  return { \r\n    feeAmount: data?.[0]?.toString(),  // Number as string in wei units (1e18)\r\n    feePerc: data?.[1]?.toString(),  // Number as string in 1e6 units\r\n  }\r\n}\r\n\r\n\r\nconst usePoolContractInfo = (poolSymbol: string) => {\r\n  const { chain } = useNetwork()\r\n  const connectedNetworkId = chain?.id.toString()\r\n  \r\n  const deployInfo = loadContractsInfo().pools\r\n  const key = poolSymbol as keyof typeof deployInfo\r\n\r\n  let isError = false\r\n  if (deployInfo?.[key].network != connectedNetworkId) {\r\n    console.log(\"[usePoolContractInfo] Network mismatch\")\r\n    isError = true\r\n  }\r\n\r\n  return { \r\n    address: deployInfo[key].address, \r\n    abi: deployInfo[key].abi, \r\n    isError: isError \r\n  }\r\n}\r\n\r\n\r\n\r\n\r\ninterface TxValues extends Partial<SlippageParams> {\r\n  mode?: SwapMode\r\n}\r\n\r\nconst SwapForm = () => {\r\n  console.log(\"[SWAPFORM] START\")\r\n  const { t } = useTranslation()\r\n  const { isConnected } = useAccount()\r\n\r\n  // BALANCES\r\n  const assetsList: TokenItemWithBalance[] = useReadBalances()\r\n\r\n  const initialOfferAsset = nativeAsset.symbol\r\n  \r\n  \r\n  \r\n  // MUESTRA LA LISTA DE TOKENS EN EL FORMULARIO\r\n  const [showAll, setShowAll] = useState(false)\r\n\r\n  const getCoinsOptions = (key: \"offerAsset\" | \"askAsset\") => {\r\n    return [{ \r\n      title: t(\"Coins\"), \r\n      children: assetsList.map((asset) => {\r\n        const { symbol: value, balance } = asset\r\n\r\n        // Sombrear en la lista, si hay un activo seleccionado en el otro\r\n        // formulario, diferente a GEX, todas las opciones que no sean GEX \r\n        const muted = { \r\n          offerAsset: !!askAsset && (askAsset!=\"GEX\" && value!=\"GEX\") || (askAsset==value),\r\n          askAsset: !!offerAsset && (offerAsset!=\"GEX\" && value!=\"GEX\") || (offerAsset==value)\r\n        }[key]\r\n\r\n        const hidden = key === \"offerAsset\" && !showAll && !has(balance) && isConnected\r\n        \r\n        return { ...asset, value, muted, hidden }\r\n      })\r\n   }]\r\n  }\r\n\r\n\r\n  // form\r\n  const form = useForm<TxValues>({\r\n    mode: \"onChange\", // what triggers validation of form inputs. onChange is expensive. Alt: onSubmit\r\n    defaultValues: { offerAsset: initialOfferAsset, askAsset: \"GEX\", slippageInput: 1 },\r\n  })\r\n\r\n  const { register, trigger, watch, setValue, resetField, handleSubmit, reset, formState } = form\r\n  const { errors } = formState\r\n  const values = watch()\r\n  const { mode, offerAsset, askAsset, input, slippageInput, ratio } = values // Esta desestructuración viene definida por el interfaz TxValues\r\n  \r\n  if (Number.isNaN(input)) resetField(\"input\")  // A veces aparece un NaN, causa desconocida.\r\n\r\n\r\n\r\n  const assets = useMemo(\r\n    () => ({ offerAsset, askAsset }),\r\n    [offerAsset, askAsset]\r\n  )\r\n\r\n  const slippageParams = useMemo(\r\n    () => ({ offerAsset, askAsset, input, slippageInput, ratio }),\r\n    [askAsset, input, offerAsset, ratio, slippageInput]\r\n  )\r\n\r\n  const findAssetBySymbol = (symbol: string) => assetsList.find((item) => item.symbol === symbol)\r\n  const findAssetDecimalsBySymbol = (symbol: string) => findAssetBySymbol(symbol)?.decimals ?? defaultDecimals\r\n  \r\n\r\n  const offerTokenItem = offerAsset ? findAssetBySymbol(offerAsset) : undefined\r\n  const offerDecimals = offerAsset ? findAssetDecimalsBySymbol(offerAsset) : defaultDecimals\r\n  const askTokenItem = askAsset ? findAssetBySymbol(askAsset) : undefined\r\n  const askDecimals = askAsset ? findAssetDecimalsBySymbol(askAsset) : defaultDecimals\r\n\r\n  // const inAmount = toAmount(input, { decimals: offerDecimals }) // Number to string (wei units)\r\n  const inAmount = new BigNumber(input ?? 0).shiftedBy(offerDecimals).toFixed()\r\n  console.log(\"[SWAPFORM] IN AMOUNT:\", inAmount)\r\n    \r\n  \r\n  \r\n  // Change assets position in the form\r\n  const swapAssets = () => {\r\n    setValue(\"offerAsset\", askAsset)\r\n    setValue(\"askAsset\", offerAsset)\r\n    resetField(\"input\")\r\n  }\r\n\r\n\r\n\r\n  // FETCH SWAP ESTIMATES\r\n  const enableHooks = isConnected && !!offerAsset && !!input\r\n  const poolSymbol = [offerAsset, askAsset].find(asset => asset && asset != \"GEX\")?.toLowerCase() ?? \r\n    nativeAsset.symbol.toLowerCase()\r\n\r\n  const tradeInfo = usePoolTradeInfo(poolSymbol, offerAsset, inAmount, enableHooks)\r\n  const { outAmount, offerAssetPrice, askAssetPrice, askAssetRatio } = tradeInfo\r\n  console.log(\"[SwapForm] Tradeinfo:\", tradeInfo)\r\n\r\n  const gexAmount = offerAsset == \"GEX\" ?\r\n    inAmount :\r\n    askAsset == \"GEX\" ?\r\n    outAmount :\r\n    \"0\"\r\n  const { feeAmount, feePerc } = usePoolFees(poolSymbol, offerAsset ?? \"GEX\", gexAmount ?? \"0\")\r\n  console.log(\"[SwapForm] Fees:\", feeAmount, feePerc)\r\n  \r\n\r\n  \r\n\r\n  // Handle select asset on form\r\n  const onSelectAsset = (key: \"offerAsset\" | \"askAsset\") => {\r\n    return async (value: Token) => {\r\n      const assets = {\r\n        offerAsset: { offerAsset: value, askAsset },\r\n        askAsset: { offerAsset, askAsset: value },\r\n      }[key]\r\n\r\n      // Enforce swap always against GEX\r\n      if (value != \"GEX\") {\r\n        setValue(key === \"offerAsset\" ? \"askAsset\" : \"offerAsset\", \"GEX\")\r\n      }\r\n      // empty opposite asset if select the same asset\r\n      else if (assets.offerAsset === assets.askAsset) {\r\n        setValue(key === \"offerAsset\" ? \"askAsset\" : \"offerAsset\", undefined)\r\n      }\r\n      \r\n      // focus on input if select offer asset\r\n      if (key === \"offerAsset\") {\r\n        form.resetField(\"input\")\r\n        form.setFocus(\"input\") // Pone el cursor para escribir en el formulario 1. Como hacer click.\r\n      }\r\n\r\n      setValue(key, value)\r\n    }\r\n  }\r\n\r\n\r\n  // tx\r\n  const balance = offerTokenItem?.balance\r\n  \r\n  // Callback que se pasa a TX, está desactivado allí\r\n  const createTx = () => undefined\r\n\r\n  // fee\r\n  // Valores que se pasan al callback createTx en Tx\r\n  const estimationTxValues = {\r\n    mode, \r\n    ...assets,\r\n    ratio: 10, \r\n    input: toInput(balance ?? \"\", findAssetDecimalsBySymbol(offerAsset ?? \"\")), \r\n    slippageInput: 1\r\n  }\r\n\r\n  // PARÁMETROS QUE SE PASAN AL COMPONENTE TX\r\n  const txProps = {\r\n    symbol: offerAsset,\r\n    decimals: offerDecimals,\r\n    balance: offerTokenItem?.balance,\r\n    inAmount,\r\n    outAmount,\r\n    askAssetRatio,\r\n    feePerc,\r\n    poolSymbol, \r\n    resetForm: () => reset()\r\n  }\r\n  const initialGasDenom = initialOfferAsset\r\n  const token = offerAsset\r\n  const symbol = offerTokenItem?.symbol ?? \"\"\r\n  const decimals = offerDecimals\r\n  const tx = {\r\n    newProps: txProps,\r\n    token: offerAsset,\r\n    symbol,\r\n    decimals,\r\n    amount: inAmount,\r\n    balance,\r\n    initialGasDenom,\r\n    estimationTxValues, // Valores que se pasan a createTx\r\n    createTx, // No se usa de momento, lo tenemos desactivado en Tx\r\n    onPost: () => {} // Función para añadir token personalizado al wallet tras comprarlo -> implementar,\r\n  }\r\n\r\n\r\n  const disabled = false //isFetching ? t(\"Simulating...\") : false\r\n\r\n\r\n\r\n  // RENDER FUNCTIONS\r\n  const isFetching = false\r\n\r\n  // type guard\r\n  const validateExpectedPriceProps = (\r\n    params: Partial<ExpectedPriceProps>\r\n    ): params is ExpectedPriceProps => {\r\n      const { offerAsset, askAsset, offerAssetPrice, askAssetPrice, \r\n        askAssetRatio, feeAmount, minimum_receive } = params\r\n      return !!(offerAsset && askAsset && offerAssetPrice && \r\n        askAssetPrice && askAssetRatio && feeAmount && minimum_receive)\r\n    }\r\n\r\n  // render: expected price\r\n  const renderExpected = () => {\r\n    if (!input) return null\r\n\r\n    const minimum_receive = outAmount\r\n    const isLoading = false\r\n    const props = { offerAsset, offerDecimals, askAsset, askDecimals, \r\n      offerAssetPrice, askAssetPrice, askAssetRatio, feeAmount, minimum_receive, isLoading}\r\n\r\n    if (!(isConnected && validateExpectedPriceProps(props))){\r\n      console.log(\"[renderExpected] props NOT VALIDATED\", props)\r\n      return null\r\n    } \r\n    // (7-10) DATOS DEBAJO DEL PAR, APARECEN SOLO\r\n    // SI SE INTRODUCE UNA CANTIDAD ARRIBA PARA CAMBIAR\r\n    console.log(\"[SWAPFORM][renderExpected] props VALIDATED\", props)\r\n    return <ExpectedPrice {...props} isLoading={isFetching} />\r\n  }\r\n\r\n    \r\n\r\n  return (\r\n    <Tx {...tx} disabled={disabled}>\r\n      {({ max, fee, submit }) => (\r\n        <Form onSubmit={handleSubmit(submit.fn)}>\r\n          {/* (1) PESTAÑAS MERCADOS SWAP */}\r\n          {/* {renderRadioGroup()} */}\r\n        \r\n          {/* (3) PRIMER FORMULARIO TOKEN */}\r\n          <AssetFormItem\r\n            label={t(\"From\")}\r\n            extra={max.render(async (value) => {// (2) BALANCE TOKEN 1 (MÁXIMO GASTABLE)\r\n              // Do not use automatic max here\r\n              // Confusion arises as the amount changes and simulates again\r\n              setValue(\"input\", toInput(value, offerDecimals))\r\n              await trigger(\"input\")\r\n            })}\r\n            error={errors.input?.message}\r\n          >\r\n            <SelectToken\r\n              value={offerAsset}\r\n              onChange={onSelectAsset(\"offerAsset\")}\r\n              options={getCoinsOptions(\"offerAsset\")}\r\n              checkbox={\r\n                <Checkbox\r\n                  checked={showAll}\r\n                  onChange={() => setShowAll(!showAll)}\r\n                >\r\n                  {t(\"Show all\")}\r\n                </Checkbox>\r\n              }\r\n              addonAfter={\r\n                <AssetInput\r\n                  {...register(\"input\", {\r\n                    valueAsNumber: true,\r\n                    validate: validate.input(\r\n                      toInput(max.amount, offerDecimals),\r\n                      offerDecimals\r\n                    ),\r\n                  })}\r\n                  inputMode=\"decimal\"\r\n                  placeholder={\"0.000\"}\r\n                  onFocus={max.reset}\r\n                  autoFocus\r\n                />\r\n              }\r\n            />\r\n          </AssetFormItem>\r\n\r\n          {/* (4) FLECHA INVERTIR SWAP */}\r\n          <FormArrow onClick={swapAssets} />\r\n\r\n          {/* (5) SEGUNDO FORMULARIO TOKEN */}\r\n          <AssetFormItem label={t(\"To\")}>\r\n            <SelectToken\r\n              value={askAsset}\r\n              onChange={onSelectAsset(\"askAsset\")}\r\n              options={getCoinsOptions(\"askAsset\")}\r\n              addonAfter={\r\n                <AssetReadOnly>\r\n                  {outAmount ? (\r\n                    <Read\r\n                    // TODO: Descontar fees del importe de salida mostrado\r\n                      amount={outAmount}\r\n                      decimals={askDecimals}\r\n                      approx\r\n                    />\r\n                  ) : (\r\n                    <p className=\"muted\">\r\n                      {isFetching ? t(\"Simulating...\") : \"0\"}\r\n                    </p>\r\n                  )}\r\n                </AssetReadOnly>\r\n              }\r\n            />\r\n          </AssetFormItem>\r\n\r\n          {/* (6) CONTROL SLIPPAGE */}\r\n          {isConnected && (\r\n            <SlippageControl\r\n              {...register(\"slippageInput\", {\r\n                valueAsNumber: true,\r\n                validate: validate.input(50, 2, \"Slippage tolerance\"),\r\n              })}\r\n              input={slippageInput} // to warn\r\n              inputMode=\"decimal\"\r\n              placeholder={getPlaceholder(2)}\r\n              error={errors.slippageInput?.message}\r\n            />\r\n          )}\r\n\r\n          {/* (7-10) DATOS RESULTADO SWAP */}\r\n          {renderExpected()}\r\n          \r\n          {/* (11) DETALLES FEE. COMPONENTE renderFee() DE Tx */}\r\n          {isConnected && fee.render()}\r\n\r\n          {/* {( Banner rojo error parte inferior caja\r\n            <FormError>{t(\"Pair does not exist\")}</FormError>\r\n          )} */}\r\n\r\n          {/* (12) BOTÓN ENVIAR TRANSACCIÓN */}\r\n          {submit.button}\r\n        </Form>\r\n      )}\r\n    </Tx>\r\n  )\r\n}\r\n\r\n\r\nexport default SwapForm\r\n\r\n\r\n\r\n\r\n// const SwapForm = () => {\r\n//   const { t } = useTranslation()\r\n//   const address = useAddress()\r\n//   const { state } = useLocation()\r\n//   const bankBalance = useBankBalance()\r\n//   const { add } = useCustomTokensCW20()\r\n\r\n//   // swap context\r\n//   const utils = useSwapUtils()\r\n//   const { getIsSwapAvailable, getAvailableSwapModes } = utils\r\n//   const { getMsgsFunction, getSimulateFunction, getSimulateQuery } = utils\r\n//   const { options, findTokenItem, findDecimals, calcExpected } = useSingleSwap()\r\n\r\n//   const initialOfferAsset =\r\n//     (state as Token) ??\r\n//     (getAmount(bankBalance, \"uusd\") ? \"uusd\" : sortCoins(bankBalance)[0].denom)\r\n//   const initialGasDenom = getInitialGasDenom(bankBalance)\r\n\r\n//   // options\r\n//   const [showAll, setShowAll] = useState(false)\r\n\r\n//   const getCoinsOptions = (key: \"offerAsset\" | \"askAsset\") => {\r\n//     const { coins, tokens } = options\r\n\r\n//     const getOptionList = (list: TokenItemWithBalance[]) =>\r\n//       list.map((item) => {\r\n//         const { token: value, balance } = item\r\n\r\n//         const muted = {\r\n//           offerAsset:\r\n//             !!askAsset && !getIsSwapAvailable({ offerAsset: value, askAsset }),\r\n//           askAsset:\r\n//             !!offerAsset &&\r\n//             !getIsSwapAvailable({ offerAsset, askAsset: value }),\r\n//         }[key]\r\n\r\n//         const hidden = key === \"offerAsset\" && !showAll && !has(balance)\r\n//         return { ...item, value, muted, hidden }\r\n//       })\r\n\r\n//     return [\r\n//       { title: t(\"Coins\"), children: getOptionList(coins) },\r\n//       { title: t(\"Tokens\"), children: getOptionList(tokens) },\r\n//     ]\r\n//   }\r\n\r\n//   // form\r\n//   const form = useForm<TxValues>({\r\n//     mode: \"onChange\",\r\n//     defaultValues: { offerAsset: initialOfferAsset, slippageInput: 1 },\r\n//   })\r\n\r\n//   const { register, trigger, watch, setValue, handleSubmit, formState } = form\r\n//   const { errors } = formState\r\n//   const values = watch()\r\n//   const { mode, offerAsset, askAsset, input, slippageInput, ratio } = values\r\n\r\n//   useEffect(() => {\r\n//     // validate input on change mode\r\n//     if (mode) trigger(\"input\")\r\n//   }, [mode, trigger])\r\n\r\n//   const assets = useMemo(\r\n//     () => ({ offerAsset, askAsset }),\r\n//     [offerAsset, askAsset]\r\n//   )\r\n\r\n//   const slippageParams = useMemo(\r\n//     () => ({ offerAsset, askAsset, input, slippageInput, ratio }),\r\n//     [askAsset, input, offerAsset, ratio, slippageInput]\r\n//   )\r\n\r\n//   const offerTokenItem = offerAsset ? findTokenItem(offerAsset) : undefined\r\n//   const offerDecimals = offerAsset ? findDecimals(offerAsset) : undefined\r\n//   const askTokenItem = askAsset ? findTokenItem(askAsset) : undefined\r\n//   const askDecimals = askAsset ? findDecimals(askAsset) : undefined\r\n\r\n//   const amount = toAmount(input, { decimals: offerDecimals })\r\n\r\n//   const swapAssets = () => {\r\n//     setValue(\"offerAsset\", askAsset)\r\n//     setValue(\"askAsset\", offerAsset)\r\n//     setValue(\"input\", undefined)\r\n//     trigger(\"input\")\r\n//   }\r\n\r\n//   // simulate | execute\r\n//   const params = { amount, ...assets }\r\n//   const availableSwapModes = getAvailableSwapModes(assets)\r\n//   const isSwapAvailable = getIsSwapAvailable(assets)\r\n//   const simulateQuery = getSimulateQuery(params)\r\n\r\n//   // simulate\r\n//   const { data: simulationResults, isFetching } = useQuery({\r\n//     ...simulateQuery,\r\n//     onSuccess: ({ profitable }) => setValue(\"mode\", profitable?.mode),\r\n//   })\r\n\r\n//   // Simulated value to create tx\r\n//   // Simulated for all possible modes\r\n//   // Do not simulate again even if the mode changes\r\n//   const results = simulationResults?.values\r\n//   const result = results && mode && results[mode]\r\n//   const simulatedValue = result?.value\r\n//   const simulatedRatio = result?.ratio\r\n\r\n//   useEffect(() => {\r\n//     // Set ratio on simulate\r\n//     if (simulatedRatio) setValue(\"ratio\", simulatedRatio)\r\n//   }, [simulatedRatio, setValue])\r\n\r\n//   // Select asset\r\n//   const onSelectAsset = (key: \"offerAsset\" | \"askAsset\") => {\r\n//     return async (value: Token) => {\r\n//       const assets = {\r\n//         offerAsset: { offerAsset: value, askAsset },\r\n//         askAsset: { offerAsset, askAsset: value },\r\n//       }[key]\r\n\r\n//       // set mode if only one available\r\n//       const availableSwapModes = getAvailableSwapModes(assets)\r\n//       const availableSwapMode =\r\n//         availableSwapModes?.length === 1 ? availableSwapModes[0] : undefined\r\n//       setValue(\"mode\", availableSwapMode)\r\n\r\n//       // empty opposite asset if select the same asset\r\n//       if (assets.offerAsset === assets.askAsset) {\r\n//         setValue(key === \"offerAsset\" ? \"askAsset\" : \"offerAsset\", undefined)\r\n//       }\r\n\r\n//       // focus on input if select offer asset\r\n//       if (key === \"offerAsset\") {\r\n//         form.resetField(\"input\")\r\n//         form.setFocus(\"input\")\r\n//       }\r\n\r\n//       setValue(key, value)\r\n//     }\r\n//   }\r\n\r\n//   // tx\r\n//   const balance = offerTokenItem?.balance\r\n//   const createTx = useCallback(\r\n//     (values: TxValues) => {\r\n//       const { mode, offerAsset, askAsset, input, slippageInput, ratio } = values\r\n//       if (!(mode && input && offerAsset && askAsset && slippageInput && ratio))\r\n//         return\r\n\r\n//       const offerDecimals = findDecimals(offerAsset)\r\n//       const amount = toAmount(input, { decimals: offerDecimals })\r\n//       if (!balance || new BigNumber(amount).gt(balance)) return\r\n\r\n//       const params = { amount, offerAsset, askAsset }\r\n//       if (!validateParams(params)) return\r\n\r\n//       const getMsgs = getMsgsFunction(mode)\r\n\r\n//       // slippage \r\n//       const expected = calcExpected({ ...params, input, slippageInput, ratio })\r\n//       return { msgs: getMsgs({ ...params, ...expected }) }\r\n//     },\r\n//     [balance, calcExpected, findDecimals, getMsgsFunction]\r\n//   )\r\n\r\n//   // fee\r\n//   const { data: estimationTxValues } = useQuery(\r\n//     [\"estimationTxValues\", { mode, assets, balance }],\r\n//     async () => {\r\n//       if (!(mode && validateAssets(assets) && balance)) return\r\n//       const { offerAsset, askAsset } = assets\r\n//       const simulate = getSimulateFunction(mode)\r\n//       // estimate fee only after ratio simulated\r\n//       const { ratio } = await simulate({ ...assets, amount: balance })\r\n//       const input = toInput(balance, findDecimals(offerAsset))\r\n//       return { mode, offerAsset, askAsset, ratio, input, slippageInput: 1 }\r\n//     }\r\n//   )\r\n\r\n//   const token = offerAsset\r\n//   const decimals = offerDecimals\r\n//   const tx = {\r\n//     token,\r\n//     decimals,\r\n//     amount,\r\n//     balance,\r\n//     initialGasDenom,\r\n//     estimationTxValues,\r\n//     createTx,\r\n//     onPost: () => {\r\n//       // add custom token on ask cw20\r\n//       if (!(askAsset && AccAddress.validate(askAsset) && askTokenItem)) return\r\n//       const { balance, ...rest } = askTokenItem\r\n//       add(rest as CustomTokenCW20)\r\n//     },\r\n//     queryKeys: [offerAsset, askAsset]\r\n//       .filter((asset) => asset && AccAddress.validate(asset))\r\n//       .map((token) => [\r\n//         queryKey.wasm.contractQuery,\r\n//         token,\r\n//         { balance: address },\r\n//       ]),\r\n//   }\r\n\r\n//   const disabled = isFetching ? t(\"Simulating...\") : false\r\n\r\n//   // render\r\n//   const renderRadioGroup = () => {\r\n//     if (!(validateAssets(assets) && isSwapAvailable)) return null\r\n\r\n//     return (\r\n//       <section className={styles.modes}>\r\n//         {availableSwapModes.map((key) => {\r\n//           const checked = mode === key\r\n\r\n//           return (\r\n//             <RadioButton\r\n//               {...register(\"mode\")}\r\n//               value={key}\r\n//               checked={checked}\r\n//               key={key}\r\n//             >\r\n//               {key}\r\n//             </RadioButton>\r\n//           )\r\n//         })}\r\n//       </section>\r\n//     )\r\n//   }\r\n\r\n//   // render: expected price\r\n//   const renderExpected = () => {\r\n//     if (!(mode && validateSlippageParams(slippageParams))) return null\r\n//     const expected = calcExpected(slippageParams)\r\n//     const props = { mode, ...slippageParams, ...expected, ...result }\r\n//     return <ExpectedPrice {...props} isLoading={isFetching} />\r\n//   }\r\n\r\n//   const slippageDisabled = [offerAsset, askAsset].every(isDenomTerra)\r\n\r\n//   return (\r\n//     <Tx {...tx} disabled={disabled}>\r\n//       {({ max, fee, submit }) => (\r\n//         <Form onSubmit={handleSubmit(submit.fn)}>\r\n//           {renderRadioGroup()}\r\n\r\n//           <AssetFormItem\r\n//             label={t(\"From\")}\r\n//             extra={max.render(async (value) => {\r\n//               // Do not use automatic max here\r\n//               // Confusion arises as the amount changes and simulates again\r\n//               setValue(\"input\", toInput(value, offerDecimals))\r\n//               await trigger(\"input\")\r\n//             })}\r\n//             error={errors.input?.message}\r\n//           >\r\n//             <SelectToken\r\n//               value={offerAsset}\r\n//               onChange={onSelectAsset(\"offerAsset\")}\r\n//               options={getCoinsOptions(\"offerAsset\")}\r\n//               checkbox={\r\n//                 <Checkbox\r\n//                   checked={showAll}\r\n//                   onChange={() => setShowAll(!showAll)}\r\n//                 >\r\n//                   {t(\"Show all\")}\r\n//                 </Checkbox>\r\n//               }\r\n//               addonAfter={\r\n//                 <AssetInput\r\n//                   {...register(\"input\", {\r\n//                     valueAsNumber: true,\r\n//                     validate: validate.input(\r\n//                       toInput(max.amount, offerDecimals),\r\n//                       offerDecimals\r\n//                     ),\r\n//                   })}\r\n//                   inputMode=\"decimal\"\r\n//                   placeholder={getPlaceholder(offerDecimals)}\r\n//                   onFocus={max.reset}\r\n//                   autoFocus\r\n//                 />\r\n//               }\r\n//             />\r\n//           </AssetFormItem>\r\n\r\n//           <FormArrow onClick={swapAssets} />\r\n\r\n//           <AssetFormItem label={t(\"To\")}>\r\n//             <SelectToken\r\n//               value={askAsset}\r\n//               onChange={onSelectAsset(\"askAsset\")}\r\n//               options={getCoinsOptions(\"askAsset\")}\r\n//               addonAfter={\r\n//                 <AssetReadOnly>\r\n//                   {simulatedValue ? (\r\n//                     <Read\r\n//                       amount={simulatedValue}\r\n//                       decimals={askDecimals}\r\n//                       approx\r\n//                     />\r\n//                   ) : (\r\n//                     <p className=\"muted\">\r\n//                       {isFetching ? t(\"Simulating...\") : \"0\"}\r\n//                     </p>\r\n//                   )}\r\n//                 </AssetReadOnly>\r\n//               }\r\n//             />\r\n//           </AssetFormItem>\r\n\r\n//           {!slippageDisabled && (\r\n//             <SlippageControl\r\n//               {...register(\"slippageInput\", {\r\n//                 valueAsNumber: true,\r\n//                 validate: validate.input(50, 2, \"Slippage tolerance\"),\r\n//               })}\r\n//               input={slippageInput} // to warn\r\n//               inputMode=\"decimal\"\r\n//               placeholder={getPlaceholder(2)}\r\n//               error={errors.slippageInput?.message}\r\n//             />\r\n//           )}\r\n\r\n//           {renderExpected()}\r\n//           {fee.render()}\r\n\r\n//           {validateAssets(assets) && !isSwapAvailable && (\r\n//             <FormError>{t(\"Pair does not exist\")}</FormError>\r\n//           )}\r\n\r\n//           {submit.button}\r\n//         </Form>\r\n//       )}\r\n//     </Tx>\r\n//   )\r\n// }\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAMAAABlApw1AAACBFBMVEUAAADv7//09PTy8vXx9Pbz9Pjy9ffy9fjy9Pfx9Pfy9Pby9Pfx8/Xz8/Py8vTx9Pjv7/fy9Pfy9Pfy9ffz9ffy8/b09vjy9fXz9Pb09/ry9Pjz9fnv7/Tv9PTk5uiCg4Ssra9jZGWQkpTIycw7PDza296QkZIvMDBgYWK6vL21t7lHSUnm6OqEhojNz9Ly9PSztLednqB4envBw8Xv8vWen6Hv8/NsbW7x8/bP0NOpqqyJiovz8/dUVVXv7++lpqjy8/jz9Pbx9PZ9fn9bXF01NjYdHh4sLCw5Ojo0NTUwMTETExNucHBISElgYWE+Pz9zdHUaGhomJyfv7/oWFxckJSUtLi7x8vV4eXpRUlMhISHx8/Z1d3fy9PdnaGlERkaEhYZ6fHxrbW1AQUGDhYVWV1cqKipERUVOT1BcXV6LjI1iY2QyMzNMTU7Fx8lLTU2Sk5ba3N+HiIpKS0zW2Nt7fH4vLy+6vL6rrK6ChIXk5umfoKJYWVpXWVmQkpPd3+GTlJaXmJnOz9Lm5+qFhoepq6y6u77r7fB1dneRkpQ7PT2EhoeQkZPIysxISUnW2NrW19uztLa3uLqXmJp4enpTVVVvcHKsrrBmZ2g8PT2eoKJsbm+en6A9PT7v8/dsbm7BwsXd3+KEhYfx8/fy9fbP0dPx9Pjx8/bv8veJiozy9fnv8vQEFD2BAAAArHRSTlMAEDBQcI+fr7/f7/+AQGDPIJ9g33+vb1CPX+9/MDD//////////////////////2D/////UP9A/5D///9A/xD/r8/P/////////////////////zD///+g////sP/f/////////////////////////////////////////////////////////////////////////////////////0D/////gK//cO9g/1BgIk4dsgAACKdJREFUeNrM1YV1wEAMA9BjsMJOGfYfszBA0YnyJ5De6fmcPR9iyqW23gWfpPfWypBi8O7afEi5Cb4gLafxouGnPOOH5hyXa4Ufc8cvzWu8SvrUBH9Tt4U/nIZ/aZt3PGMW/JusI206MKIbIf4uMKTr4s60ZIG1EyssKwwYVGCMh19hFxxI09GHU3EwjUeu5wYGeDu6FRig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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import { Fragment, ReactNode } from \"react\"\r\nimport { useCallback, useEffect, useMemo, useState } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { QueryKey, useQuery } from \"react-query\"\r\n// import { useNavigate } from \"react-router-dom\"\r\nimport { useAccount, useContractRead, useNetwork, erc20ABI } from 'wagmi'\r\nimport { usePrepareContractWrite, useContractWrite, useWaitForTransaction } from 'wagmi'\r\nimport { useRecoilValue, useSetRecoilState } from \"recoil\"\r\nimport classNames from \"classnames\"\r\nimport BigNumber from \"bignumber.js\"\r\nimport { head, isNil } from \"ramda\"\r\n\r\nimport AccountBalanceWalletIcon from \"@mui/icons-material/AccountBalanceWallet\"\r\nimport ErrorOutlineIcon from \"@mui/icons-material/ErrorOutline\"\r\nimport CheckCircleOutlineIcon from \"@mui/icons-material/CheckCircleOutline\"\r\nimport CheckIcon from \"@mui/icons-material/Check\"\r\n// import { isDenom, isDenomIBC, readDenom } from \"@terra.kitchen/utils\"\r\nimport { Coin, Coins, LCDClient } from \"@terra-money/terra.js\"\r\nimport { CreateTxOptions, Fee } from \"@terra-money/terra.js\"\r\nimport { ConnectType, UserDenied } from \"@terra-money/wallet-types\"\r\nimport { CreateTxFailed, TxFailed } from \"@terra-money/wallet-types\"\r\n// import { useWallet, useConnectedWallet } from \"@terra-money/use-wallet\"\r\n\r\nimport { Contents } from \"types/components\"\r\nimport { has } from \"utils/num\"\r\nimport { getAmount, sortCoins } from \"utils/coin\"\r\nimport { getErrorMessage } from \"utils/error\"\r\n// import { getLocalSetting, SettingKey } from \"utils/localStorage\"\r\n// import { useCurrency } from \"data/settings/Currency\"\r\nimport { combineState, queryKey, RefetchOptions, useIsClassic } from \"data/query\"\r\n// import { useAddress, useNetwork } from \"data/wallet\"\r\nimport { isBroadcastingState, latestTxState } from \"data/queries/tx\"\r\n// import { useBankBalance, useIsWalletEmpty } from \"data/queries/bank\"\r\n\r\nimport { Pre } from \"components/general\"\r\nimport { Flex, Grid } from \"components/layout\"\r\nimport { FormError, Submit, Select, Input, FormItem } from \"components/form\"\r\nimport Approve from \"components/form/Approve\"\r\nimport { Modal } from \"components/feedback\"\r\nimport { Details } from \"components/display\"\r\nimport { Read } from \"components/token\"\r\nimport ConnectWallet from \"app/sections/ConnectWallet\"\r\nimport useToPostMultisigTx from \"pages/multisig/utils/useToPostMultisigTx\"\r\n// import { isWallet, useAuth } from \"auth\"\r\n// import { PasswordError } from \"auth/scripts/keystore\"\r\n\r\n// import { toInput } from \"./utils\"\r\n// import { useTx } from \"./TxContext\"\r\nimport styles from \"./Tx.module.scss\"\r\n\r\nimport {nativeAsset, tokensList, loadContractsInfo} from \"./swap/SwapForm\"\r\n\r\n\r\n// Interfaz TxValues definido en SwapForm\r\ninterface Props<TxValues> {\r\n  /* Only when the token is paid out of the balance held */\r\n  newProps?: any\r\n  symbol?: string\r\n  decimals?: number\r\n  amount?: Amount\r\n  balance?: Amount\r\n\r\n  /* tx simulation */\r\n  initialGasDenom: CoinDenom\r\n  estimationTxValues?: TxValues\r\n  createTx: (values: TxValues) => CreateTxOptions | undefined\r\n  excludeGasDenom?: (denom: string) => boolean\r\n\r\n  /* render */\r\n  disabled?: string | false\r\n  children: (props: RenderProps<TxValues>) => ReactNode\r\n  onChangeMax?: (input: number) => void\r\n\r\n  /* on tx success */\r\n  onPost?: () => void\r\n  redirectAfterTx?: { label: string; path: string }\r\n  queryKeys?: QueryKey[]\r\n}\r\n\r\n\r\ntype RenderMax = (onClick?: (max: Amount) => void) => ReactNode\r\n\r\ninterface RenderProps<TxValues> {\r\n  max: { amount: Amount; render: RenderMax; reset: () => void }\r\n  fee: { render: (descriptions?: Contents) => ReactNode }\r\n  submit: { fn: (values: TxValues) => void; button: ReactNode }\r\n}\r\n\r\n\r\n\r\n\r\nconst useApproved = (tokenAddress:string|undefined, poolSymbol:string, enable:boolean) => {\r\n  console.log(\"[useApproved] tokenAddress, pool, enable:\", tokenAddress, poolSymbol, enable)\r\n  const { address, isConnected } = useAccount()\r\n\r\n  const contractInfo = loadContractsInfo().pools\r\n  const key = poolSymbol as keyof typeof contractInfo\r\n  \r\n  const contract = {\r\n      addressOrName: tokenAddress ?? \"\",\r\n      contractInterface: erc20ABI,\r\n      functionName: \"allowance\",\r\n      args: [address, contractInfo[key].address],\r\n      enabled: isConnected && enable\r\n    }\r\n  \r\n  const { data, refetch, ...status } = useContractRead(contract)\r\n  console.log(\"[useApproved] allowedAmount, status:\", data, status)\r\n  \r\n  return {allowedAmount: data?.toString(), refetchAllowance: refetch}\r\n}\r\n\r\n\r\nconst useInfiniteApprove = (tokenAddress:string, poolSymbol:string, enable:boolean) => {\r\n  const { isConnected } = useAccount()\r\n\r\n  const maxUint256 = new BigNumber(2).exponentiatedBy(256).minus(1).toFixed()\r\n\r\n  const contractsInfo = loadContractsInfo().pools\r\n  const key = poolSymbol as keyof typeof contractsInfo\r\n  \r\n  const contract = {\r\n    // mode: 'recklesslyUnprepared' as 'recklesslyUnprepared',\r\n    addressOrName: tokenAddress,\r\n    contractInterface: erc20ABI,\r\n    functionName: \"approve\",\r\n    args: [contractsInfo[key].address, maxUint256],\r\n    enabled: isConnected && enable\r\n  }\r\n  \r\n  const { config, ...prepareState } = usePrepareContractWrite(contract)\r\n  // if (prepareState.error) console.log(\"[useInfiniteApprove] Prepare contract ERROR:\", prepareState.error)\r\n  \r\n  const { data, write, ...writeState } = useContractWrite(config)\r\n  \r\n  const { ...waitState } = useWaitForTransaction({ \r\n    hash: data?.hash,\r\n    confirmations: 2, \r\n  })\r\n  \r\n  const state = combineState(writeState, waitState)\r\n  console.log(\"[useInfiniteApprove] Combined state, enabled:\", state, enable)\r\n\r\n  return { write, ...state }\r\n}\r\n\r\n\r\nconst useSubmitTx = (offerAsset:string, poolSymbol:string, inAmount:string, enable:boolean) => {\r\n  const { isConnected } = useAccount()\r\n\r\n  const swapFunction = offerAsset == \"GEX\" ? \"redeemSwap\" : \"mintSwap\"\r\n  \r\n  const contractsInfo = loadContractsInfo().pools\r\n  const key = poolSymbol as keyof typeof contractsInfo\r\n  \r\n  const contract = offerAsset == nativeAsset.symbol ? {\r\n    // mode: 'recklesslyUnprepared' as 'recklesslyUnprepared',\r\n    addressOrName: contractsInfo[key].address,\r\n    contractInterface: contractsInfo[key].abi,\r\n    functionName: \"mintSwapNative\",\r\n    enabled: isConnected && enable,\r\n    overrides: {value: inAmount}\r\n  } : {\r\n    // mode: 'recklesslyUnprepared' as 'recklesslyUnprepared',\r\n    addressOrName: contractsInfo[key].address,\r\n    contractInterface: contractsInfo[key].abi,\r\n    functionName: swapFunction,\r\n    args: inAmount,\r\n    enabled: isConnected && enable\r\n  }\r\n\r\n  const { config, ...prepareState } = usePrepareContractWrite(contract)\r\n  if (prepareState.error) {\r\n    console.log(\"[useSubmitTx] Prepare contract ERROR:\", prepareState.error)\r\n    console.log(\"[useSubmitTx] Prepare contract CONFIG:\", config)\r\n  }\r\n  \r\n  const { data, write, ...writeState } = useContractWrite(config)\r\n  \r\n  const { ...waitState } = useWaitForTransaction({ \r\n    hash: data?.hash,\r\n    confirmations: 4, \r\n  })\r\n  \r\n  const state = combineState(writeState, waitState)\r\n  console.log(\"[useSubmitTx] Combined state, enabled:\", state, enable)\r\n\r\n  return { write, ...state }\r\n}\r\n\r\n\r\n\r\nconst isAmountApproved = (allowed: string, requested: string) => {\r\n  if (allowed == \"0\") return false\r\n  return new BigNumber(allowed).gte(new BigNumber(requested))\r\n}\r\n\r\n\r\n\r\n\r\ninterface TxProps {\r\n  symbol: string | undefined,\r\n  decimals: number,\r\n  balance: string | undefined,\r\n  inAmount: string,\r\n  outAmount: string | undefined,\r\n  askAssetRatio: string | undefined,\r\n  feePerc: string | undefined,\r\n  poolSymbol: string\r\n  resetForm: () => void\r\n}\r\n\r\n\r\n\r\n\r\nfunction Tx<TxValues>(props: Props<TxValues>) {\r\n  const { newProps } = props\r\n  const { symbol, decimals, balance, inAmount, outAmount, askAssetRatio, feePerc, poolSymbol, resetForm } = newProps as TxProps\r\n  console.log(\"[TX] START - newProps:\", newProps)\r\n  // const { token, symbol, decimals, amount, balance, initialGasDenom } = props\r\n  // const { initialGasDenom, estimationTxValues, createTx } = props\r\n  // const { excludeGasDenom } = props \r\n  const { children, onChangeMax } = props\r\n  // const { onPost } = props // Para añadir token personalizado al wallet: conservar\r\n\r\n  // INTERNAL STATE\r\n  const [isApproved, setIsApproved] = useState(false)\r\n  const [isMax, setIsMax] = useState(false)\r\n  const [submitting, setSubmitting] = useState(false)\r\n  const [error, setError] = useState<Error>()\r\n  // const [gasDenom, setGasDenom] = useState(initialGasDenom)\r\n\r\n  // context\r\n  const { isConnected } = useAccount()\r\n  const { t } = useTranslation()\r\n  // const isClassic = true // useIsClassic()\r\n  // const currency = useCurrency()\r\n  // const network = useNetwork()\r\n  // const { post } = useWallet()\r\n  // const connectedWallet = useConnectedWallet()\r\n  // const { wallet, validatePassword, ...auth } = useAuth()\r\n  // const address = useAddress() // Puenteado en origen. TODO: Pasar useAddress a contexto EVM\r\n  // const isWalletEmpty = false // useIsWalletEmpty()\r\n  // const setLatestTx = useSetRecoilState(latestTxState) // Guardar hash última transacción. Probablemente para quitar.\r\n  // const isBroadcasting = false // useRecoilValue(isBroadcastingState)\r\n  // const bankBalance = useBankBalance()\r\n  // const { gasPrices } = useTx() // Contexto desde TxContet, puenteado allí\r\n\r\n  \r\n  const assetsList = [nativeAsset, ...tokensList]\r\n  const findAssetBySymbol = (symbol: string) => assetsList.find((item) => item.symbol === symbol)\r\n  \r\n  const offerAssetItem = symbol ? findAssetBySymbol(symbol) : undefined\r\n\r\n  const enableHooks = !!offerAssetItem && !!inAmount && !!outAmount && !!poolSymbol && !error\r\n  if (!enableHooks) console.log(\"[TX] Hooks DISABLED: token, error\", offerAssetItem, error)\r\n  \r\n  \r\n  const { allowedAmount, refetchAllowance, ...allowanceStatus } = \r\n    useApproved(offerAssetItem?.address, poolSymbol, enableHooks)\r\n  console.log(\"[TX] Allowed Amount:\", allowedAmount)\r\n  if (allowedAmount) console.log(\"[TX] is Amount Approved:\", isAmountApproved(allowedAmount, inAmount))\r\n\r\n  \r\n  \r\n  \r\n  \r\n  if (symbol == nativeAsset.symbol) {\r\n    if (!isApproved) setIsApproved(true)\r\n  } \r\n  else if (!!allowedAmount && inAmount!=\"0\") {\r\n    if (!isApproved && isAmountApproved(allowedAmount, inAmount)) \r\n      setIsApproved(true)\r\n    else if (isApproved && !isAmountApproved(allowedAmount, inAmount)) \r\n      setIsApproved(false)\r\n  }\r\n  // useEffect avoids infinite rendering loop\r\n  // useEffect(() => {\r\n  //   if (symbol == nativeAsset.symbol) {\r\n  //     return !isApproved ? setIsApproved(true) : undefined\r\n  //   } else if (!!allowedAmount && inAmount!=\"0\") {\r\n  //       if (!isApproved && isAmountApproved(allowedAmount, inAmount)) \r\n  //         setIsApproved(true)\r\n  //       else if (isApproved && !isAmountApproved(allowedAmount, inAmount)) \r\n  //         setIsApproved(false)\r\n\r\n  //   console.log(\"[TX][useEffect] isApproved, enableHooks:\", isApproved, enableHooks)\r\n  //   }\r\n  // }, [isConnected, symbol, inAmount])\r\n  \r\n\r\n  const {write: writeApprove, ...approveStatus} = \r\n    useInfiniteApprove(offerAssetItem?.address ?? \"\", poolSymbol, enableHooks)\r\n  \r\n  const {write: writeSubmit, ...submitStatus} = \r\n    useSubmitTx(symbol ?? \"\", poolSymbol, inAmount, enableHooks && isApproved)\r\n\r\n\r\n  // useEffect avoids error window repeating after closing it\r\n  useEffect(() => {\r\n    if (approveStatus.error && !error) {\r\n      console.log(\"[TX][useEffect] APPROVE ERROR:\", approveStatus.error)\r\n      setError(approveStatus.error as Error)\r\n      setSubmitting(false)\r\n    }\r\n    else if (submitStatus.error && !error) {\r\n      console.log(\"[TX][useEffect] SUBMIT ERROR:\", submitStatus.error)\r\n      setError(submitStatus.error as Error)\r\n      setSubmitting(false)\r\n    }\r\n  }, [approveStatus.error, submitStatus.error])\r\n\r\n  \r\n  if (approveStatus.isSuccess && !isApproved && !submitting) {\r\n    console.log(\"[TX] APPROVE SUCCESS, REFETCHING ALLOWANCE\")\r\n    refetchAllowance()\r\n    console.log(\"[TX] APPROVE SUCCESS, allowedAmount\", allowedAmount)\r\n  }\r\n\r\n\r\n  // VALOR PARA EL AMOUNT MÁXIMO DEL FORMULARIO 1 (2) \r\n  // const getNativeMax = () => {\r\n  //   if (!balance) return\r\n  //   const gasAmount = gasFee.denom === token ? gasFee.amount : \"0\"\r\n  //   return calcMax({ balance, gasAmount })\r\n  // }\r\n\r\n  const max = !balance ? undefined : balance\r\n    \r\n\r\n\r\n  // (effect): Call the onChangeMax function whenever the max changes \r\n  // useEffect(() => {\r\n  //   if (max && isMax && onChangeMax) onChangeMax(toInput(max, decimals))\r\n  // }, [decimals, isMax, max, onChangeMax])\r\n\r\n  \r\n  // TODO: Este lo usaremos si el slippage es mayor q el establecido para que muestre \r\n  // la advertencia en rojo debajo del formulario y desactive los botones\r\n  const disabled = \"\"\r\n    // passwordRequired && !password\r\n    //   ? t(\"Enter password\")\r\n    //   : estimatedGasState.isLoading\r\n    //   ? t(\"Estimating fee...\")\r\n    //   : estimatedGasState.error\r\n    //   ? t(\"Fee estimation failed\")\r\n    //   : isBroadcasting\r\n    //   ? t(\"Broadcasting a tx...\")\r\n    //   : props.disabled || \"\"\r\n\r\n  \r\n\r\n    \r\n  // SEND TRANSACTIONS  \r\n  // FUNCIÓN QUE SE PASA A handleSubmit (onClick)\r\n  const onSubmit = () => {\r\n    if (enableHooks) {\r\n      setSubmitting(true)\r\n      \r\n      if (!isApproved) {\r\n        writeApprove?.()\r\n        console.log(\"[TX] APPROVAL SUBMITTED\")\r\n      }\r\n      else {\r\n        writeSubmit?.()\r\n        console.log(\"[TX] TRANSACTION SUBMITTED\")\r\n      }\r\n    }\r\n  }\r\n\r\n  const submittingLabel = \"\" // isWallet.ledger(wallet) ? t(\"Confirm in ledger\") : \"\"\r\n\r\n\r\n  // render\r\n  const balanceAfterTx =\r\n    balance &&\r\n    inAmount &&\r\n    new BigNumber(balance)\r\n      .minus(inAmount)\r\n      // .minus((gasFee.denom === token && gasFee.amount) || 0)\r\n      .toString()\r\n  \r\n  // Pone la cantidad en rojo si es menor que 0\r\n  const insufficient = balanceAfterTx ? new BigNumber(balanceAfterTx).lt(0) : false\r\n\r\n  \r\n  // element\r\n  const resetMax = () => setIsMax(false)\r\n  const renderMax: RenderMax = (onClick) => {\r\n    if (!(max && has(max))) return null // has() función de big number, dejar\r\n\r\n    // (2) BOTÓN Y VALOR BALANCE MÁXIMO SOBRE INPUT CAJA 1 (TOKEN ENTRADA)\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className={classNames({ muted: !isMax })}\r\n        onClick={onClick ? () => onClick(max) : () => setIsMax(!isMax)}\r\n      >\r\n        <Flex gap={4} start>\r\n          <AccountBalanceWalletIcon\r\n            fontSize=\"inherit\"\r\n            className={styles.icon}\r\n          />\r\n          {/* Componente que renderiza el valor y el icono de tipo de moneda */}\r\n          <Read amount={max} token={symbol} decimals={decimals} />\r\n        </Flex>\r\n      </button>\r\n    )\r\n  }\r\n\r\n  \r\n  // (11) DETALLES TRANSACCIÓN: CAJA NEGRA QUE APARECE JUSTO SOBRE\r\n  // EL BOTÓN DE SUBMIT CON FEE, BALANCE Y BALANCE AFTER TX.\r\n  // LOS DATOS QUE MUESTRA SON UN POCO REPETITIVOS.\r\n  const renderFee = (descriptions?: Contents) => {\r\n    return null\r\n    // if (!isConnected || inAmount==\"0\") return null    \r\n    // return (\r\n    //   <Details>\r\n    //     <dl>\r\n    //       {descriptions?.map(({ title, content }, index) => (\r\n    //         <Fragment key={index}>\r\n    //           <dt>{title}</dt>\r\n    //           <dd>{content}</dd>\r\n    //         </Fragment>\r\n    //       ))}\r\n\r\n    //       <dt className={styles.gas}>\r\n    //         {t(\"Network fee (gas)\")}\r\n    //         {/* {availableGasDenoms.length > 1 && (\r\n    //           <Select\r\n    //             value={gasDenom}\r\n    //             onChange={(e) => setGasDenom(e.target.value)}\r\n    //             className={styles.select}\r\n    //             small\r\n    //           >\r\n    //             {availableGasDenoms.map((denom) => (\r\n    //               <option value={denom} key={denom}>\r\n    //                 {readDenom(denom)}\r\n    //               </option>\r\n    //             ))}\r\n    //           </Select>\r\n    //         )} */}\r\n    //       </dt>\r\n    //       <dd>{feePerc && <Read amount={feePerc} />}</dd>\r\n\r\n    //       {balanceAfterTx && (\r\n    //         <>\r\n    //           <dt>{t(\"Balance\")}</dt>\r\n    //           <dd>\r\n    //             <Read amount={balance} token={symbol} decimals={decimals} />\r\n    //           </dd>\r\n\r\n    //           <dt>{t(\"Balance after tx\")}</dt>\r\n    //           <dd>\r\n    //             <Read\r\n    //               amount={balanceAfterTx}\r\n    //               token={symbol}\r\n    //               decimals={decimals}\r\n    //               className={classNames(insufficient && \"danger\")}\r\n    //             />\r\n    //           </dd>\r\n    //         </>\r\n    //       )}\r\n    //     </dl>\r\n    //   </Details>\r\n    // )\r\n  }\r\n\r\n  // const walletError = \"\"\r\n    // connectedWallet?.connectType === ConnectType.READONLY\r\n    //   ? t(\"Wallet is connected as read-only mode\")\r\n    //   : !availableGasDenoms.length\r\n    //   ? t(\"Insufficient balance to pay transaction fee\")\r\n    //   : isWalletEmpty\r\n    //   ? t(\"Coins required to post transactions\")\r\n    //   : \"\"\r\n\r\n    const { chain } = useNetwork()\r\n    const isWrongNetwork = chain && chain.id != 42\r\n\r\n    const submitButton = (\r\n    <>\r\n      {isWrongNetwork && <FormError>{\"Switch to Kovan testnet\"}</FormError>}\r\n\r\n      {!isConnected ? (\r\n        <ConnectWallet\r\n          renderButton={(open) => (\r\n            <Submit type=\"button\" onClick={open}>\r\n              {t(\"Connect wallet\")}\r\n            </Submit>\r\n          )}\r\n        />\r\n      ) : (\r\n        <Grid gap={4}>\r\n          {/* {passwordRequired && (\r\n            <FormItem label={t(\"Password\")} error={incorrect}>\r\n              <Input\r\n                type=\"password\"\r\n                value={password}\r\n                onChange={(e) => {\r\n                  setIncorrect(undefined)\r\n                  setPassword(e.target.value)\r\n                }}\r\n              />\r\n            </FormItem>\r\n          )} */}\r\n\r\n          {/* {failed && <FormError>{failed}</FormError>} */}\r\n\r\n          {!!inAmount && inAmount!=\"0\" && !isApproved ? (\r\n            <Approve\r\n              disabled={!!disabled || approveStatus.isLoading || !enableHooks || isWrongNetwork}\r\n              submitting={submitting}\r\n            >\r\n            {submitting ? submittingLabel : disabled}\r\n            </Approve>\r\n          ) : !!inAmount && inAmount!=\"0\" ? (\r\n            <Submit\r\n              disabled={!!disabled || submitStatus.isLoading || !enableHooks || isWrongNetwork}\r\n              submitting={submitting}\r\n            >\r\n            {submitting ? submittingLabel : disabled}\r\n            </Submit>\r\n          ) : null}\r\n          \r\n        </Grid>\r\n      )}\r\n    </>\r\n  )\r\n\r\n  // TEXTO DEL MODAL QUE APARECE SI HAY UN ERROR\r\n  const errorDescription = !error\r\n    ? undefined\r\n    : {\r\n        title:\r\n          error instanceof UserDenied\r\n            ? t(\"User denied\")\r\n            : error instanceof CreateTxFailed\r\n            ? t(\"Failed to create tx\")\r\n            : error instanceof TxFailed\r\n            ? t(\"Tx failed\")\r\n            : t(\"Error\"),\r\n        children:\r\n          error instanceof UserDenied ? null : (\r\n            <Pre height={120} normal break>\r\n              {error.message}\r\n            </Pre>\r\n          ),\r\n      }\r\n\r\n  // (0) ESTE FRAGMENTO ES LA CAJA DEL SWAP: LOS FRAGMENTOS\r\n  // DEFINIDOS AQUÍ SE PASAN A SWAPFORM EN LOS OBJETOS\r\n  // max, fee y submit Y SE RENDERIZAN\r\n  // JUNTO CON LOS DEMÁS ELEMENTOS QUE ESTÁN ALLÍ.    \r\n  return (\r\n    <>\r\n      {children({\r\n        max: { amount: max ?? \"0\", render: renderMax, reset: resetMax },\r\n        fee: { render: renderFee },\r\n        submit: { fn: onSubmit, button: submitButton },\r\n      })}\r\n\r\n      {/* VENTANA DE ERROR, MUESTRA EL TEXTO DEFINIDO EN errorModal */}\r\n      {errorDescription && (\r\n        <Modal\r\n          {...errorDescription}\r\n          icon={<ErrorOutlineIcon fontSize=\"inherit\" className=\"danger\" />}\r\n          onRequestClose={() => {\r\n            setError(undefined)\r\n            setSubmitting(false)\r\n            resetForm()\r\n          }}\r\n          isOpen\r\n        />\r\n      )}\r\n\r\n      {approveStatus.isSuccess && submitting && !isApproved && (\r\n        <Modal\r\n          {...{title: \"Approved\"}}\r\n          icon={<CheckIcon fontSize=\"inherit\" className=\"success\" />}\r\n          onRequestClose={() => {\r\n            setSubmitting(false)\r\n            setIsApproved(true)\r\n          }}\r\n          isOpen\r\n        />\r\n      )}\r\n\r\n      {submitStatus.isSuccess && submitting && isApproved && (\r\n        <Modal\r\n          {...{title: \"Success\"}}\r\n          icon={<CheckCircleOutlineIcon fontSize=\"inherit\" className=\"success\" />}\r\n          onRequestClose={() => {\r\n            setSubmitting(false)\r\n            resetForm()\r\n          }}\r\n          isOpen\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\nexport default Tx\r\n\r\n\r\n\r\n\r\n/* utils */\r\nexport const getInitialGasDenom = (bankBalance: Coins) => {\r\n  const denom = head(sortCoins(bankBalance))?.denom ?? \"uusd\"\r\n  const uusd = getAmount(bankBalance, \"uusd\")\r\n  return has(uusd) ? \"uusd\" : denom\r\n}\r\n\r\ninterface Params {\r\n  balance: Amount\r\n  gasAmount: Amount\r\n}\r\n\r\n// Receive gas and return the maximum payment amount\r\nexport const calcMax = ({ balance, gasAmount }: Params) => {\r\n  const available = new BigNumber(balance).minus(gasAmount)\r\n\r\n  const max = BigNumber.max(new BigNumber(available), 0)\r\n    .integerValue(BigNumber.ROUND_FLOOR)\r\n    .toString()\r\n\r\n  return max\r\n}\r\n\r\n/* hooks */\r\nexport const useTxKey = () => {\r\n  const { txhash } = useRecoilValue(latestTxState)\r\n  const [key, setKey] = useState(txhash)\r\n\r\n  useEffect(() => {\r\n    if (txhash) setKey(txhash)\r\n  }, [txhash])\r\n\r\n  return key\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// function Tx<TxValues>(props: Props<TxValues>) {\r\n//   const { token, decimals, amount, balance } = props\r\n//   const { initialGasDenom, estimationTxValues, createTx } = props\r\n//   const { excludeGasDenom } = props\r\n//   const { children, onChangeMax } = props\r\n//   const { onPost, redirectAfterTx, queryKeys } = props\r\n\r\n//   const [isMax, setIsMax] = useState(false)\r\n//   const [gasDenom, setGasDenom] = useState(initialGasDenom)\r\n\r\n//   // context\r\n//   const { t } = useTranslation()\r\n//   const isClassic = useIsClassic()\r\n//   const currency = useCurrency()\r\n//   const network = useNetwork()\r\n//   const { post } = useWallet()\r\n//   const connectedWallet = useConnectedWallet()\r\n//   const { wallet, validatePassword, ...auth } = useAuth()\r\n//   const address = useAddress()\r\n//   const isWalletEmpty = useIsWalletEmpty()\r\n//   const setLatestTx = useSetRecoilState(latestTxState)\r\n//   const isBroadcasting = useRecoilValue(isBroadcastingState)\r\n//   const bankBalance = useBankBalance()\r\n//   const { gasPrices } = useTx()\r\n\r\n//   // simulation: estimate gas\r\n//   const simulationTx = estimationTxValues && createTx(estimationTxValues)\r\n//   const gasAdjustment = getLocalSetting<number>(SettingKey.GasAdjustment)\r\n//   const key = {\r\n//     address,\r\n//     network,\r\n//     initialGasDenom,\r\n//     gasPrices,\r\n//     gasAdjustment,\r\n//     tx: simulationTx,\r\n//   }\r\n\r\n//   const { data: estimatedGas, ...estimatedGasState } = useQuery(\r\n//     [queryKey.tx.create, key],\r\n//     async () => {\r\n//       if (!address || isWalletEmpty) return 0\r\n//       if (!(wallet || connectedWallet?.availablePost)) return 0\r\n//       if (!simulationTx || !simulationTx.msgs.length) return 0\r\n\r\n//       const config = {\r\n//         ...network,\r\n//         URL: network.lcd,\r\n//         gasAdjustment,\r\n//         gasPrices: { [initialGasDenom]: gasPrices[initialGasDenom] },\r\n//       }\r\n\r\n//       const lcd = new LCDClient(config)\r\n\r\n//       const unsignedTx = await lcd.tx.create([{ address }], {\r\n//         ...simulationTx,\r\n//         feeDenoms: [initialGasDenom],\r\n//       })\r\n\r\n//       return unsignedTx.auth_info.fee.gas_limit\r\n//     },\r\n//     {\r\n//       ...RefetchOptions.INFINITY,\r\n//       // To handle sequence mismatch\r\n//       retry: 3,\r\n//       retryDelay: 1000,\r\n//       // Because the focus occurs once when posting back from the extension\r\n//       refetchOnWindowFocus: false,\r\n//       enabled: !isBroadcasting,\r\n//     }\r\n//   )\r\n\r\n//   const getGasAmount = useCallback(\r\n//     (denom: CoinDenom) => {\r\n//       const gasPrice = gasPrices[denom]\r\n//       if (isNil(estimatedGas) || !gasPrice) return \"0\"\r\n//       return new BigNumber(estimatedGas)\r\n//         .times(gasPrice)\r\n//         .integerValue(BigNumber.ROUND_CEIL)\r\n//         .toString()\r\n//     },\r\n//     [estimatedGas, gasPrices]\r\n//   )\r\n\r\n//   const gasAmount = getGasAmount(gasDenom)\r\n//   const gasFee = { amount: gasAmount, denom: gasDenom }\r\n\r\n//   // max \r\n//   const getNativeMax = () => {\r\n//     if (!balance) return\r\n//     const gasAmount = gasFee.denom === token ? gasFee.amount : \"0\"\r\n//     return calcMax({ balance, gasAmount })\r\n//   }\r\n\r\n//   const max = !gasFee.amount\r\n//     ? undefined\r\n//     : isDenom(token)\r\n//     ? getNativeMax()\r\n//     : balance\r\n\r\n//   // (effect): Call the onChangeMax function whenever the max changes \r\n//   useEffect(() => {\r\n//     if (max && isMax && onChangeMax) onChangeMax(toInput(max, decimals))\r\n//   }, [decimals, isMax, max, onChangeMax])\r\n\r\n//   // (effect): Log error on console \r\n//   const failed = getErrorMessage(estimatedGasState.error)\r\n//   useEffect(() => {\r\n//     if (process.env.NODE_ENV === \"development\" && failed) {\r\n//       console.groupCollapsed(\"Fee estimation failed\")\r\n//       console.info(simulationTx?.msgs.map((msg) => msg.toData(isClassic)))\r\n//       console.info(failed)\r\n//       console.groupEnd()\r\n//     }\r\n//   }, [failed, isClassic, simulationTx])\r\n\r\n//   // submit\r\n//   const passwordRequired = isWallet.single(wallet)\r\n//   const [password, setPassword] = useState(\"\")\r\n//   const [incorrect, setIncorrect] = useState<string>()\r\n\r\n//   const disabled =\r\n//     passwordRequired && !password\r\n//       ? t(\"Enter password\")\r\n//       : estimatedGasState.isLoading\r\n//       ? t(\"Estimating fee...\")\r\n//       : estimatedGasState.error\r\n//       ? t(\"Fee estimation failed\")\r\n//       : isBroadcasting\r\n//       ? t(\"Broadcasting a tx...\")\r\n//       : props.disabled || \"\"\r\n\r\n//   const [submitting, setSubmitting] = useState(false)\r\n//   const [error, setError] = useState<Error>()\r\n\r\n//   const navigate = useNavigate()\r\n//   const toPostMultisigTx = useToPostMultisigTx()\r\n//   const submit = async (values: TxValues) => {\r\n//     setSubmitting(true)\r\n\r\n//     try {\r\n//       if (disabled) throw new Error(disabled)\r\n//       if (!estimatedGas || !has(gasAmount))\r\n//         throw new Error(\"Fee is not estimated\")\r\n\r\n//       const tx = createTx(values)\r\n\r\n//       if (!tx) throw new Error(\"Tx is not defined\")\r\n\r\n//       const gasCoins = new Coins([Coin.fromData(gasFee)])\r\n//       const fee = new Fee(estimatedGas, gasCoins)\r\n\r\n//       if (isWallet.multisig(wallet)) {\r\n//         const unsignedTx = await auth.create({ ...tx, fee })\r\n//         navigate(toPostMultisigTx(unsignedTx))\r\n//       } else if (wallet) {\r\n//         const result = await auth.post({ ...tx, fee }, password)\r\n//         setLatestTx({ txhash: result.txhash, queryKeys, redirectAfterTx })\r\n//       } else {\r\n//         const { result } = await post({ ...tx, fee })\r\n//         setLatestTx({ txhash: result.txhash, queryKeys, redirectAfterTx })\r\n//       }\r\n\r\n//       onPost?.()\r\n//     } catch (error) {\r\n//       if (error instanceof PasswordError) setIncorrect(error.message)\r\n//       else setError(error as Error)\r\n//     }\r\n\r\n//     setSubmitting(false)\r\n//   }\r\n\r\n//   const submittingLabel = isWallet.ledger(wallet) ? t(\"Confirm in ledger\") : \"\"\r\n\r\n//   // render\r\n//   const balanceAfterTx =\r\n//     balance &&\r\n//     amount &&\r\n//     new BigNumber(balance)\r\n//       .minus(amount)\r\n//       .minus((gasFee.denom === token && gasFee.amount) || 0)\r\n//       .toString()\r\n\r\n//   const insufficient = balanceAfterTx\r\n//     ? new BigNumber(balanceAfterTx).lt(0)\r\n//     : false\r\n\r\n//   const availableGasDenoms = useMemo(() => {\r\n//     return sortCoins(bankBalance, currency)\r\n//       .map(({ denom }) => denom)\r\n//       .filter(\r\n//         (denom) =>\r\n//           !excludeGasDenom?.(denom) &&\r\n//           !isDenomIBC(denom) &&\r\n//           new BigNumber(getAmount(bankBalance, denom)).gte(getGasAmount(denom))\r\n//       )\r\n//   }, [bankBalance, currency, excludeGasDenom, getGasAmount])\r\n\r\n//   useEffect(() => {\r\n//     if (availableGasDenoms.includes(initialGasDenom)) return\r\n//     setGasDenom(availableGasDenoms[0])\r\n//   }, [availableGasDenoms, initialGasDenom])\r\n\r\n//   // element\r\n//   const resetMax = () => setIsMax(false)\r\n//   const renderMax: RenderMax = (onClick) => {\r\n//     if (!(max && has(max))) return null\r\n\r\n//     return (\r\n//       <button\r\n//         type=\"button\"\r\n//         className={classNames({ muted: !isMax })}\r\n//         onClick={onClick ? () => onClick(max) : () => setIsMax(!isMax)}\r\n//       >\r\n//         <Flex gap={4} start>\r\n//           <AccountBalanceWalletIcon\r\n//             fontSize=\"inherit\"\r\n//             className={styles.icon}\r\n//           />\r\n//           <Read amount={max} token={token} decimals={decimals} />\r\n//         </Flex>\r\n//       </button>\r\n//     )\r\n//   }\r\n\r\n//   const renderFee = (descriptions?: Contents) => {\r\n//     if (!estimatedGas) return null\r\n\r\n//     return (\r\n//       <Details>\r\n//         <dl>\r\n//           {descriptions?.map(({ title, content }, index) => (\r\n//             <Fragment key={index}>\r\n//               <dt>{title}</dt>\r\n//               <dd>{content}</dd>\r\n//             </Fragment>\r\n//           ))}\r\n\r\n//           <dt className={styles.gas}>\r\n//             {t(\"Fee\")}\r\n//             {availableGasDenoms.length > 1 && (\r\n//               <Select\r\n//                 value={gasDenom}\r\n//                 onChange={(e) => setGasDenom(e.target.value)}\r\n//                 className={styles.select}\r\n//                 small\r\n//               >\r\n//                 {availableGasDenoms.map((denom) => (\r\n//                   <option value={denom} key={denom}>\r\n//                     {readDenom(denom)}\r\n//                   </option>\r\n//                 ))}\r\n//               </Select>\r\n//             )}\r\n//           </dt>\r\n//           <dd>{gasFee.amount && <Read {...gasFee} />}</dd>\r\n\r\n//           {balanceAfterTx && (\r\n//             <>\r\n//               <dt>{t(\"Balance\")}</dt>\r\n//               <dd>\r\n//                 <Read amount={balance} token={token} decimals={decimals} />\r\n//               </dd>\r\n\r\n//               <dt>{t(\"Balance after tx\")}</dt>\r\n//               <dd>\r\n//                 <Read\r\n//                   amount={balanceAfterTx}\r\n//                   token={token}\r\n//                   decimals={decimals}\r\n//                   className={classNames(insufficient && \"danger\")}\r\n//                 />\r\n//               </dd>\r\n//             </>\r\n//           )}\r\n//         </dl>\r\n//       </Details>\r\n//     )\r\n//   }\r\n\r\n//   const walletError = \r\n//     connectedWallet?.connectType === ConnectType.READONLY\r\n//       ? t(\"Wallet is connected as read-only mode\")\r\n//       : !availableGasDenoms.length\r\n//       ? t(\"Insufficient balance to pay transaction fee\")\r\n//       : isWalletEmpty\r\n//       ? t(\"Coins required to post transactions\")\r\n//       : \"\"\r\n\r\n//   const submitButton = (\r\n//     <>\r\n//       {walletError && <FormError>{walletError}</FormError>}\r\n\r\n//       {!address ? (\r\n//         <ConnectWallet\r\n//           renderButton={(open) => (\r\n//             <Submit type=\"button\" onClick={open}>\r\n//               {t(\"Connect wallet\")}\r\n//             </Submit>\r\n//           )}\r\n//         />\r\n//       ) : (\r\n//         <Grid gap={4}>\r\n//           {passwordRequired && (\r\n//             <FormItem label={t(\"Password\")} error={incorrect}>\r\n//               <Input\r\n//                 type=\"password\"\r\n//                 value={password}\r\n//                 onChange={(e) => {\r\n//                   setIncorrect(undefined)\r\n//                   setPassword(e.target.value)\r\n//                 }}\r\n//               />\r\n//             </FormItem>\r\n//           )}\r\n\r\n//           {failed && <FormError>{failed}</FormError>}\r\n\r\n//           <Submit\r\n//             disabled={!estimatedGas || !!disabled}\r\n//             submitting={submitting}\r\n//           >\r\n//             {submitting ? submittingLabel : disabled}\r\n//           </Submit>\r\n//         </Grid>\r\n//       )}\r\n//     </>\r\n//   )\r\n\r\n//   const modal = !error\r\n//     ? undefined\r\n//     : {\r\n//         title:\r\n//           error instanceof UserDenied\r\n//             ? t(\"User denied\")\r\n//             : error instanceof CreateTxFailed\r\n//             ? t(\"Failed to create tx\")\r\n//             : error instanceof TxFailed\r\n//             ? t(\"Tx failed\")\r\n//             : t(\"Error\"),\r\n//         children:\r\n//           error instanceof UserDenied ? null : (\r\n//             <Pre height={120} normal break>\r\n//               {error.message}\r\n//             </Pre>\r\n//           ),\r\n//       }\r\n\r\n//   return (\r\n//     <>\r\n//       {children({\r\n//         max: { amount: max ?? \"0\", render: renderMax, reset: resetMax },\r\n//         fee: { render: renderFee },\r\n//         submit: { fn: submit, button: submitButton },\r\n//       })}\r\n\r\n//       {modal && (\r\n//         <Modal\r\n//           {...modal}\r\n//           icon={<ErrorOutlineIcon fontSize=\"inherit\" className=\"danger\" />}\r\n//           onRequestClose={() => setError(undefined)}\r\n//           isOpen\r\n//         />\r\n//       )}\r\n//     </>\r\n//   )\r\n// }\r\n\r\n","import { useCallback, useMemo } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport { AccAddress, Coin, Coins, ValAddress } from \"@terra-money/terra.js\"\r\nimport { Delegation, Validator } from \"@terra-money/terra.js\"\r\nimport { MsgDelegate, MsgUndelegate } from \"@terra-money/terra.js\"\r\nimport { MsgBeginRedelegate } from \"@terra-money/terra.js\"\r\nimport { toAmount } from \"@terra.kitchen/utils\"\r\nimport { getAmount } from \"utils/coin\"\r\nimport { queryKey } from \"data/query\"\r\nimport { useAddress } from \"data/wallet\"\r\nimport { useBankBalance } from \"data/queries/bank\"\r\nimport { getFindMoniker } from \"data/queries/staking\"\r\nimport { Grid } from \"components/layout\"\r\nimport { Form, FormItem, FormWarning, Input, Select } from \"components/form\"\r\nimport { getPlaceholder, toInput } from \"../utils\"\r\nimport validate from \"../validate\"\r\nimport Tx, { getInitialGasDenom } from \"../Tx\"\r\n\r\ninterface TxValues {\r\n  source?: ValAddress\r\n  input?: number\r\n}\r\n\r\nexport enum StakeAction {\r\n  DELEGATE = \"delegate\",\r\n  REDELEGATE = \"redelegate\",\r\n  UNBOND = \"undelegate\",\r\n}\r\n\r\ninterface Props {\r\n  tab: StakeAction\r\n  destination: ValAddress\r\n  balances: Coins\r\n  validators: Validator[]\r\n  delegations: Delegation[]\r\n}\r\n\r\nconst StakeForm = (props: Props) => {\r\n  const { tab, destination, balances, validators, delegations } = props\r\n\r\n  const { t } = useTranslation()\r\n  const address = useAddress()\r\n  const bankBalance = useBankBalance()\r\n  const findMoniker = getFindMoniker(validators)\r\n\r\n  const delegationsOptions = delegations.filter(\r\n    ({ validator_address }) =>\r\n      tab !== StakeAction.REDELEGATE || validator_address !== destination\r\n  )\r\n\r\n  const defaultSource = delegationsOptions[0]?.validator_address\r\n  const findDelegation = (address: AccAddress) =>\r\n    delegationsOptions.find(\r\n      ({ validator_address }) => validator_address === address\r\n    )\r\n\r\n  /* tx context */\r\n  const initialGasDenom = getInitialGasDenom(bankBalance)\r\n\r\n  /* form */\r\n  const form = useForm<TxValues>({\r\n    mode: \"onChange\",\r\n    defaultValues: { source: defaultSource },\r\n  })\r\n\r\n  const { register, trigger, watch, setValue, handleSubmit, formState } = form\r\n  const { errors } = formState\r\n  const { source, input } = watch()\r\n  const amount = toAmount(input)\r\n\r\n  /* tx */\r\n  const createTx = useCallback(\r\n    ({ input, source }: TxValues) => {\r\n      if (!address) return\r\n\r\n      const amount = toAmount(input)\r\n      const coin = new Coin(\"uluna\", amount)\r\n\r\n      if (tab === StakeAction.REDELEGATE) {\r\n        if (!source) return\r\n        const msg = new MsgBeginRedelegate(address, source, destination, coin)\r\n        return { msgs: [msg] }\r\n      }\r\n\r\n      const msgs = {\r\n        [StakeAction.DELEGATE]: [new MsgDelegate(address, destination, coin)],\r\n        [StakeAction.UNBOND]: [new MsgUndelegate(address, destination, coin)],\r\n      }[tab]\r\n\r\n      return { msgs }\r\n    },\r\n    [address, destination, tab]\r\n  )\r\n\r\n  /* fee */\r\n  const balance = {\r\n    [StakeAction.DELEGATE]: getAmount(balances, \"uluna\"),\r\n    [StakeAction.REDELEGATE]:\r\n      (source && findDelegation(source)?.balance.amount.toString()) ?? \"0\",\r\n    [StakeAction.UNBOND]:\r\n      findDelegation(destination)?.balance.amount.toString() ?? \"0\",\r\n  }[tab]\r\n\r\n  const estimationTxValues = useMemo(() => {\r\n    return {\r\n      input: toInput(1),\r\n      // to check redelegation stacks\r\n      source: tab === StakeAction.REDELEGATE ? source : undefined,\r\n    }\r\n  }, [source, tab])\r\n\r\n  const onChangeMax = useCallback(\r\n    async (input: number) => {\r\n      setValue(\"input\", input)\r\n      await trigger(\"input\")\r\n    },\r\n    [setValue, trigger]\r\n  )\r\n\r\n  const token = tab === StakeAction.DELEGATE ? \"uluna\" : \"\"\r\n  const tx = {\r\n    token,\r\n    amount,\r\n    balance,\r\n    initialGasDenom,\r\n    estimationTxValues,\r\n    createTx,\r\n    onChangeMax,\r\n    onSuccess: {\r\n      label: findMoniker(destination),\r\n      path: `/validator/${destination}`,\r\n    },\r\n    queryKeys: [\r\n      queryKey.staking.delegations,\r\n      queryKey.staking.unbondings,\r\n      queryKey.distribution.rewards,\r\n    ],\r\n  }\r\n\r\n  return (\r\n    <Tx {...tx}>\r\n      {({ max, fee, submit }) => (\r\n        <Form onSubmit={handleSubmit(submit.fn)}>\r\n          {\r\n            {\r\n              [StakeAction.DELEGATE]: (\r\n                <FormWarning>\r\n                  {t(\r\n                    \"Leave enough amount of coins to pay fee for subsequent transactions\"\r\n                  )}\r\n                </FormWarning>\r\n              ),\r\n              [StakeAction.REDELEGATE]: (\r\n                <FormWarning>\r\n                  {t(\r\n                    \"21 days must pass after this transaction to redelegate to this validator again\"\r\n                  )}\r\n                </FormWarning>\r\n              ),\r\n              [StakeAction.UNBOND]: (\r\n                <Grid gap={4}>\r\n                  <FormWarning>\r\n                    {t(\r\n                      \"Maximum 7 undelegations can be in progress at the same time\"\r\n                    )}\r\n                  </FormWarning>\r\n                  <FormWarning>\r\n                    {t(\r\n                      \"No reward is distributed during 21 days undelegation period\"\r\n                    )}\r\n                  </FormWarning>\r\n                </Grid>\r\n              ),\r\n            }[tab]\r\n          }\r\n\r\n          {tab === StakeAction.REDELEGATE && (\r\n            <FormItem label={t(\"From\")}>\r\n              <Select\r\n                {...register(\"source\", {\r\n                  required:\r\n                    tab === StakeAction.REDELEGATE\r\n                      ? \"Source validator is required\"\r\n                      : false,\r\n                })}\r\n              >\r\n                {delegationsOptions\r\n                  ?.filter(\r\n                    ({ validator_address }) => validator_address !== destination\r\n                  )\r\n                  .map(({ validator_address }) => (\r\n                    <option value={validator_address} key={validator_address}>\r\n                      {findMoniker(validator_address)}\r\n                    </option>\r\n                  ))}\r\n              </Select>\r\n            </FormItem>\r\n          )}\r\n\r\n          <FormItem\r\n            label={t(\"Amount\")}\r\n            extra={max.render()}\r\n            error={errors.input?.message}\r\n          >\r\n            <Input\r\n              {...register(\"input\", {\r\n                valueAsNumber: true,\r\n                validate: validate.input(toInput(max.amount)),\r\n              })}\r\n              token=\"uluna\"\r\n              onFocus={max.reset}\r\n              inputMode=\"decimal\"\r\n              placeholder={getPlaceholder()}\r\n              autoFocus\r\n            />\r\n          </FormItem>\r\n\r\n          {fee.render()}\r\n          {submit.button}\r\n        </Form>\r\n      )}\r\n    </Tx>\r\n  )\r\n}\r\n\r\nexport default StakeForm\r\n","import { ReactNode } from \"react\"\r\nimport { Link, To } from \"react-router-dom\"\r\nimport { ExternalLink } from \"../general\"\r\nimport styles from \"./List.module.scss\"\r\n\r\ninterface InternalLinkItem {\r\n  icon: ReactNode\r\n  children: string\r\n  to: To\r\n}\r\n\r\ninterface ExternalLinkItem {\r\n  src?: string\r\n  icon?: ReactNode\r\n  children: string\r\n  href: string\r\n}\r\n\r\ninterface ButtonItem {\r\n  src?: string\r\n  children: string\r\n  onClick: () => void\r\n}\r\n\r\ntype ListProps = (InternalLinkItem | ExternalLinkItem | ButtonItem)[]\r\n\r\nconst List = ({ list }: { list: ListProps }) => {\r\n  return (\r\n    <section>\r\n      {list.map(({ children, ...item }) => {\r\n        return \"to\" in item ? (\r\n          <Link to={item.to} className={styles.item} key={children}>\r\n            {children}\r\n            {item.icon}\r\n          </Link>\r\n        ) : \"href\" in item ? (\r\n          <ExternalLink href={item.href} className={styles.item} key={children}>\r\n            {children}\r\n            {item.icon}\r\n            {item.src && <img src={item.src} alt=\"\" width={24} height={24} />}\r\n          </ExternalLink>\r\n        ) : (\r\n          <button\r\n            type=\"button\"\r\n            className={styles.item}\r\n            onClick={item.onClick}\r\n            key={children}\r\n          >\r\n            {children}\r\n            {item.src && <img src={item.src} alt=\"\" width={24} height={24} />}\r\n          </button>\r\n        )\r\n      })}\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default List\r\n\r\ninterface Group {\r\n  title: string\r\n  list: ListProps\r\n}\r\n\r\nexport const ListGroup = ({ groups }: { groups: Group[] }) => {\r\n  return (\r\n    <>\r\n      {groups.map(({ title, list }) => (\r\n        <article className={styles.group} key={title}>\r\n          <h1 className={styles.title}>{title}</h1>\r\n          <List list={list} />\r\n        </article>\r\n      ))}\r\n    </>\r\n  )\r\n}\r\n","import { PropsWithChildren } from \"react\"\r\nimport classNames from \"classnames/bind\"\r\nimport { Color } from \"types/components\"\r\nimport { InlineFlex } from \"../layout\"\r\nimport styles from \"./Tag.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\ninterface Props {\r\n  color: Color\r\n  small?: boolean\r\n}\r\n\r\nconst Tag = ({ color, small, children }: PropsWithChildren<Props>) => {\r\n  const className = classNames(styles.tag, `bg-${color}`, cx({ small }))\r\n  return <InlineFlex className={className}>{children}</InlineFlex>\r\n}\r\n\r\nexport default Tag\r\n","import { ReactNode } from \"react\"\r\nimport { useLocation } from \"react-router-dom\"\r\nimport Tippy, { TippyProps } from \"@tippyjs/react\"\r\nimport HelpOutlineOutlinedIcon from \"@mui/icons-material/HelpOutlineOutlined\"\r\nimport { InlineFlex } from \"../layout\"\r\n\r\nexport const Popover = ({ theme = \"popover\", ...props }: TippyProps) => {\r\n  const { pathname } = useLocation()\r\n\r\n  return (\r\n    <Tippy\r\n      {...props}\r\n      theme={theme}\r\n      arrow={theme !== \"none\"}\r\n      trigger=\"click\"\r\n      animation={false}\r\n      maxWidth={360}\r\n      interactive\r\n      key={pathname}\r\n    />\r\n  )\r\n}\r\n\r\nconst Tooltip = (props: TippyProps) => {\r\n  return <Tippy {...props} animation={false} />\r\n}\r\n\r\nexport default Tooltip\r\n\r\n/* derive */\r\ninterface Props extends Omit<TippyProps, \"children\"> {\r\n  children: ReactNode\r\n}\r\n\r\nexport const TooltipIcon = (props: Props) => {\r\n  return (\r\n    <InlineFlex gap={4} start>\r\n      {props.children}\r\n      <Tooltip {...props}>\r\n        <HelpOutlineOutlinedIcon fontSize=\"inherit\" className=\"muted\" />\r\n      </Tooltip>\r\n    </InlineFlex>\r\n  )\r\n}\r\n","import { CSSProperties, ReactNode, useMemo, useState } from \"react\"\r\nimport { path } from \"ramda\"\r\nimport classNames from \"classnames/bind\"\r\nimport { ReactComponent as DropUpIcon } from \"styles/images/icons/DropUp.svg\"\r\nimport { ReactComponent as DropDownIcon } from \"styles/images/icons/DropDown.svg\"\r\nimport { TooltipIcon } from \"components/display\"\r\nimport Grid from \"./Grid\"\r\nimport PaginationButtons from \"./PaginationButtons\"\r\nimport styles from \"./Table.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\ntype SortOrder = \"desc\" | \"asc\"\r\ntype Sorter<T> = (a: T, b: T) => number\r\n\r\ninterface Column<T> {\r\n  title?: string\r\n  tooltip?: string\r\n  dataIndex?: string | string[]\r\n  defaultSortOrder?: SortOrder\r\n  sorter?: Sorter<T>\r\n  render?: (value: any, record: T, index: number) => ReactNode\r\n  key?: string\r\n\r\n  align?: \"left\" | \"center\" | \"right\"\r\n  hidden?: boolean\r\n}\r\n\r\ninterface Props<T> {\r\n  columns: Column<T>[]\r\n  dataSource: T[]\r\n  filter?: (record: T) => boolean\r\n  sorter?: (a: T, b: T) => number\r\n  rowKey?: (record: T) => string\r\n  initialSorterKey?: string\r\n  onSort?: () => void\r\n\r\n  size?: \"default\" | \"small\"\r\n  bordered?: boolean\r\n  style?: CSSProperties\r\n  pagination?: number\r\n}\r\n\r\nfunction Table<T>({ dataSource, filter, rowKey, ...props }: Props<T>) {\r\n  const { initialSorterKey, size = \"default\", bordered, style } = props\r\n  const { pagination } = props\r\n  const columns = props.columns.filter(({ hidden }) => !hidden)\r\n\r\n  /* helpers */\r\n  const getClassName = ({ align }: Column<T>) => cx(align)\r\n  const getKey = ({ dataIndex, key }: Column<T>) =>\r\n    key ?? (typeof dataIndex === \"string\" ? dataIndex : dataIndex?.join() ?? \"\")\r\n\r\n  /* pagination */\r\n  const [page, setPage] = useState(1)\r\n  const renderPagination = () => {\r\n    if (!pagination) return null\r\n    const total = Math.ceil(dataSource.length / pagination)\r\n    if (!total || total === 1) return null\r\n    const prevPage = page > 1 ? () => setPage((p) => p - 1) : undefined\r\n    const nextPage = page < total ? () => setPage((p) => p + 1) : undefined\r\n\r\n    return (\r\n      <footer className={styles.pagination}>\r\n        <PaginationButtons\r\n          current={page}\r\n          total={total}\r\n          onPrev={prevPage}\r\n          onNext={nextPage}\r\n        />\r\n      </footer>\r\n    )\r\n  }\r\n\r\n  const range = useMemo(() => {\r\n    if (!pagination) return []\r\n    const start = (page - 1) * pagination\r\n    const end = page * pagination\r\n    return [start, end] as const\r\n  }, [page, pagination])\r\n\r\n  /* sort */\r\n  const initIndex = () => {\r\n    if (!initialSorterKey) return\r\n    const index = columns.findIndex(({ key }) => key === initialSorterKey)\r\n    if (index > -1) return index\r\n  }\r\n\r\n  const initOrder = () => {\r\n    const index = initIndex()\r\n    if (typeof index === \"number\" && index > -1)\r\n      return columns[index].defaultSortOrder\r\n  }\r\n\r\n  const [sorterIndex, setSorterIndex] = useState<number | undefined>(initIndex)\r\n  const [sortOrder, setSortOrder] = useState<SortOrder | undefined>(initOrder)\r\n\r\n  const sorter = useMemo(() => {\r\n    if (typeof sorterIndex !== \"number\") return\r\n    const { sorter } = columns[sorterIndex]\r\n    if (!sorter) throw new Error()\r\n\r\n    return (a: T, b: T) => {\r\n      return (sortOrder === \"desc\" ? -1 : 1) * sorter(a, b)\r\n    }\r\n  }, [columns, sortOrder, sorterIndex])\r\n\r\n  const sort = (index: number) => {\r\n    const { defaultSortOrder } = columns[index]\r\n    const opposite = { asc: \"desc\" as const, desc: \"asc\" as const }\r\n    const next =\r\n      sorterIndex === index && sortOrder\r\n        ? opposite[sortOrder]\r\n        : defaultSortOrder\r\n\r\n    setSorterIndex(index)\r\n    setSortOrder(next)\r\n    props.onSort?.()\r\n  }\r\n\r\n  return (\r\n    <div className={cx(styles.container, { bordered })} style={style}>\r\n      <table className={cx(styles.table, size)}>\r\n        <thead>\r\n          <tr>\r\n            {columns.map((column, index) => {\r\n              const { title, tooltip, sorter, defaultSortOrder } = column\r\n\r\n              const getCaretAttrs = (key: SortOrder) => {\r\n                const active = sorterIndex === index && sortOrder === key\r\n                return {\r\n                  className: cx(styles.caret, { active }),\r\n                  width: 6,\r\n                  height: 3,\r\n                }\r\n              }\r\n\r\n              return (\r\n                <th className={getClassName(column)} key={getKey(column)}>\r\n                  {sorter && defaultSortOrder ? (\r\n                    <button\r\n                      className={styles.sorter}\r\n                      onClick={() => sort(index)}\r\n                    >\r\n                      {tooltip ? (\r\n                        <TooltipIcon content={tooltip}>{title}</TooltipIcon>\r\n                      ) : (\r\n                        title\r\n                      )}\r\n\r\n                      <Grid gap={4}>\r\n                        <DropUpIcon {...getCaretAttrs(\"asc\")} />\r\n                        <DropDownIcon {...getCaretAttrs(\"desc\")} />\r\n                      </Grid>\r\n                    </button>\r\n                  ) : (\r\n                    title\r\n                  )}\r\n                </th>\r\n              )\r\n            })}\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n          {dataSource\r\n            .filter((data) => filter?.(data) ?? true)\r\n            .sort((a, b) => props.sorter?.(a, b) || sorter?.(a, b) || 0)\r\n            .slice(...range)\r\n            .map((data, index) => (\r\n              <tr key={rowKey?.(data) ?? index}>\r\n                {columns.map((column, columnIndex) => {\r\n                  const { dataIndex, render } = column\r\n                  const value: any =\r\n                    typeof dataIndex === \"string\"\r\n                      ? data[dataIndex as keyof T]\r\n                      : dataIndex\r\n                      ? path(dataIndex, data)\r\n                      : undefined\r\n\r\n                  const children = render?.(value, data, index) ?? value\r\n\r\n                  return (\r\n                    <td className={getClassName(column)} key={getKey(column)}>\r\n                      {children}\r\n                    </td>\r\n                  )\r\n                })}\r\n              </tr>\r\n            ))}\r\n        </tbody>\r\n      </table>\r\n\r\n      {renderPagination()}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Table\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMedium(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.1 7.3c0-.3-.1-.5-.3-.7L2 4.3V4h6l4.6 10.1 4-10.1h5.7v.3l-1.6 1.6c-.1.1-.2.3-.2.5V18c0 .2 0 .4.2.5l1.6 1.6v.3h-8.1V20l1.7-1.6c.2-.2.2-.2.2-.5V8.6l-4.6 11.8h-.6L5.4 8.6v7.9c0 .3.1.7.3.9L7.8 20v.3H1.7V20l2.2-2.6c.2-.2.3-.6.3-.9V7.3h-.1z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMedium);\nexport default __webpack_public_path__ + \"static/media/Medium.ed8b9dae.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDiscord(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18.7 6.4c-1.3-.6-2.6-1-4-1.3-.2.3-.4.7-.5 1.1-1.5-.2-3-.2-4.4 0-.2-.3-.4-.7-.5-1.1-1.4.2-2.8.7-4 1.3C2.7 10.2 2 14 2.4 17.7c1.7 1.3 3.3 2 4.9 2.5.4-.5.7-1.1 1.1-1.7-.6-.2-1.1-.5-1.7-.8.1-.1.3-.2.4-.3 3.2 1.5 6.7 1.5 9.8 0 .1.1.3.2.4.3-.5.3-1.1.6-1.7.8.3.6.7 1.2 1.1 1.7 1.6-.5 3.2-1.3 4.9-2.5.4-4.3-.7-8-2.9-11.3zm-9.9 9c-1 0-1.7-.9-1.7-2s.8-2 1.7-2c1 0 1.8.9 1.7 2 0 1.1-.8 2-1.7 2zm6.4 0c-1 0-1.7-.9-1.7-2s.8-2 1.7-2c1 0 1.8.9 1.7 2 .1 1.1-.7 2-1.7 2z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDiscord);\nexport default __webpack_public_path__ + \"static/media/Discord.1af0489b.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTelegram(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m2.9 11.3 12.1-5c1.2-.5 5.2-2.2 5.2-2.2s1.9-.7 1.7 1c-.1.7-.5 3.3-.9 6l-1.3 8.2s-.1 1.2-1 1.4c-.7.3-2.2-.7-2.5-.9-.2-.2-3.9-2.5-5.2-3.6-.4-.3-.8-.9.1-1.7 1.9-1.7 4.1-3.8 5.5-5.2.6-.6 1.2-2.1-1.4-.3l-7.4 5s-.8.5-2.4.1C3.8 13.6 2 13 2 13s-1.2-.9.9-1.7z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTelegram);\nexport default __webpack_public_path__ + \"static/media/Telegram.b1bca343.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTwitter(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.2 6c-.8.3-1.6.6-2.4.7.9-.5 1.5-1.3 1.8-2.3-.8.5-1.7.8-2.7 1C18.3 4.5 17.2 4 16 4c-2.3 0-4.2 1.9-4.2 4.2 0 .3 0 .6.1 1C8.4 9 5.3 7.3 3.3 4.8c-.4.6-.6 1.3-.6 2.1 0 1.5.7 2.7 1.9 3.5-.7 0-1.3-.2-1.9-.5v.1c0 2 1.4 3.7 3.4 4.1-.4.1-.7.1-1.1.1-.3 0-.5 0-.8-.1.5 1.6 2 2.8 3.8 2.9-1.4 1.1-3.2 1.8-5.2 1.8-.3 0-.7 0-1-.1 1.9 1.2 4.1 1.9 6.4 1.9 7.7 0 11.9-6.4 11.9-11.9v-.5c.9-.7 1.6-1.4 2.1-2.2\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTwitter);\nexport default __webpack_public_path__ + \"static/media/Twitter.7a487c2e.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgGithub(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 2C6.2 2 1.5 6.7 1.5 12.5c0 4.6 3 8.5 7.2 9.9.5.1.7-.2.7-.5V20c-2.9.6-3.5-1.2-3.5-1.2-.5-1.2-1.2-1.5-1.2-1.5-.9-.6.1-.6.1-.6 1.1.1 1.6 1.1 1.6 1.1.9 1.6 2.4 1.1 3 .9.1-.7.4-1.1.7-1.4-2.3-.3-4.8-1.2-4.8-5.2 0-1.1.4-2.1 1.1-2.8-.1-.5-.5-1.5.1-3 0 0 .9-.3 2.9 1.1.8-.2 1.7-.3 2.6-.4.9 0 1.8.1 2.6.4 2-1.4 2.9-1.1 2.9-1.1.6 1.4.2 2.5.1 2.8.7.7 1.1 1.7 1.1 2.8 0 4-2.4 4.9-4.8 5.2.4.3.7 1 .7 1.9v2.9c0 .3.2.6.7.5 4.2-1.4 7.1-5.3 7.1-9.9C22.4 6.7 17.7 2 12 2\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGithub);\nexport default __webpack_public_path__ + \"static/media/Github.ac56c539.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSwap(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.3 13.2c-.2-.2-.4 0-.4.2v2.5H3.2c-.1 0-.2.1-.2.2v1.7c0 .1.1.2.2.2h13.7v2.5c0 .2.3.3.4.2l3.7-3.6c.1-.1.1-.3 0-.4l-3.7-3.5z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.7 3.3c.2-.2.4 0 .4.2V6h13.7c.1 0 .2.1.2.2V8c0 .1-.1.2-.2.2H7.2v2.5c0 .2-.3.3-.4.2L3 7.3c-.1-.1-.1-.2 0-.4l3.7-3.6z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSwap);\nexport default __webpack_public_path__ + \"static/media/Swap.4ce3168b.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactNode } from \"react\"\r\nimport classNames from \"classnames/bind\"\r\nimport { Contacts as ContactProps } from \"types/components\"\r\nimport { ReactComponent as Medium } from \"styles/images/community/Medium.svg\"\r\nimport { ReactComponent as Discord } from \"styles/images/community/Discord.svg\"\r\nimport { ReactComponent as Telegram } from \"styles/images/community/Telegram.svg\"\r\nimport { ReactComponent as Twitter } from \"styles/images/community/Twitter.svg\"\r\nimport { ReactComponent as Github } from \"styles/images/community/Github.svg\"\r\nimport { ExternalLink } from \"components/general\"\r\nimport { Flex } from \"components/layout\"\r\nimport styles from \"./Contacts.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\nconst ICON_SIZE = { width: 18, height: 18 }\r\n\r\nconst icons: Record<string, ReactNode> = {\r\n  medium: <Medium {...ICON_SIZE} />,\r\n  discord: <Discord {...ICON_SIZE} />,\r\n  telegram: <Telegram {...ICON_SIZE} />,\r\n  twitter: <Twitter {...ICON_SIZE} />,\r\n  github: <Github {...ICON_SIZE} />,\r\n}\r\n\r\ninterface Props {\r\n  contacts: ContactProps\r\n  menu?: boolean\r\n}\r\n\r\nconst Contacts = ({ contacts, menu }: Props) => {\r\n  return (\r\n    <Flex start className={cx(styles.wrapper, { menu })}>\r\n      {Object.entries(contacts).map(([key, href]) => {\r\n        const icon = icons[key]\r\n        return !icon ? null : (\r\n          <ExternalLink href={href} className={styles.icon} key={key}>\r\n            {icon}\r\n          </ExternalLink>\r\n        )\r\n      })}\r\n    </Flex>\r\n  )\r\n}\r\n\r\nexport default Contacts\r\n","import { useCallback } from \"react\"\r\nimport BigNumber from \"bignumber.js\"\r\nimport { fromPairs, zipObj } from \"ramda\"\r\nimport { Coin, Coins, MsgExecuteContract, MsgSwap } from \"@terra-money/terra.js\"\r\nimport { isDenom, isDenomLuna } from \"@terra.kitchen/utils\"\r\nimport { isDenomTerra, isDenomTerraNative } from \"@terra.kitchen/utils\"\r\nimport { TERRASWAP_COMMISSION_RATE } from \"config/constants\"\r\nimport { has, toPrice } from \"utils/num\"\r\nimport { getAmount, toAsset, toAssetInfo, toTokenItem } from \"utils/coin\"\r\nimport { toBase64 } from \"utils/data\"\r\nimport { useAddress } from \"data/wallet\"\r\nimport { useLCDClient } from \"data/queries/lcdClient\"\r\nimport { useSwap } from \"./SwapContext\"\r\nimport { SwapSpread } from \"./SingleSwapContext\"\r\n\r\n/* Call this hook after wrap component around with a SwapContext.\r\nThen, various helper functions will be generated based on the fetched data. */\r\n\r\nexport enum SwapMode {\r\n  ONCHAIN = \"Market\",\r\n  TERRASWAP = \"Terraswap\",\r\n  ASTROPORT = \"Astroport\",\r\n  ROUTESWAP = \"Route\",\r\n}\r\n\r\nexport interface SwapAssets {\r\n  offerAsset: Token\r\n  askAsset: Token\r\n}\r\n\r\nexport interface SwapParams extends SwapAssets, Partial<SwapSpread> {\r\n  amount: Amount\r\n}\r\n\r\n/* simulated */\r\n// rate: original ratio\r\n// ratio: simulated ratio\r\n// price: simulated ratio to print considering `decimals`\r\n// belief_price: ratio to 18 decimal points\r\nexport interface SimulateResult<T = any> {\r\n  mode: SwapMode\r\n  query: SwapParams\r\n  value: Amount\r\n  ratio: Price\r\n  rate?: Price\r\n  payload: T\r\n}\r\n\r\nexport type PayloadOnchain = Amount // spread\r\nexport type PayloadTerraswap = Amount // fee\r\nexport type PayloadRouteswap = string[]\r\n\r\nconst useSwapUtils = () => {\r\n  const address = useAddress()\r\n  const lcd = useLCDClient()\r\n  const context = useSwap()\r\n  const { exchangeRates, pairs, contracts } = context\r\n\r\n  /* helpers */\r\n  // terraswap\r\n  const findPair = useCallback(\r\n    (assets: SwapAssets, dex: Dex) => {\r\n      const { offerAsset, askAsset } = assets\r\n      const pair = Object.entries(pairs).find(([, item]) =>\r\n        [offerAsset, askAsset].every(\r\n          (asset) => dex === item.dex && item.assets.includes(asset)\r\n        )\r\n      )\r\n\r\n      if (!pair) return\r\n\r\n      const [address, item] = pair\r\n      return { address, ...item }\r\n    },\r\n    [pairs]\r\n  )\r\n\r\n  /* determine swap mode */\r\n  const getIsOnchainAvailable = useCallback(\r\n    ({ offerAsset, askAsset }: SwapAssets) => {\r\n      return [offerAsset, askAsset].every(isDenomTerraNative)\r\n    },\r\n    []\r\n  )\r\n\r\n  const getIsTerraswapAvailable = useCallback(\r\n    (assets: SwapAssets) => !!findPair(assets, \"terraswap\"),\r\n    [findPair]\r\n  )\r\n\r\n  const getIsAstroportAvailable = useCallback(\r\n    (assets: SwapAssets) => !!findPair(assets, \"astroport\"),\r\n    [findPair]\r\n  )\r\n\r\n  const getIsRouteswapAvaialble = useCallback(\r\n    (assets: SwapAssets) => {\r\n      if (!contracts) return false\r\n      if (getIsOnchainAvailable(assets)) return false\r\n      if (getIsTerraswapAvailable(assets)) return false\r\n\r\n      const r0 =\r\n        getIsOnchainAvailable({ ...assets, askAsset: \"uusd\" }) ||\r\n        getIsTerraswapAvailable({ ...assets, askAsset: \"uusd\" })\r\n\r\n      const r1 =\r\n        getIsOnchainAvailable({ ...assets, offerAsset: \"uusd\" }) ||\r\n        getIsTerraswapAvailable({ ...assets, offerAsset: \"uusd\" })\r\n\r\n      return r0 && r1\r\n    },\r\n    [contracts, getIsOnchainAvailable, getIsTerraswapAvailable]\r\n  )\r\n\r\n  const getAvailableSwapModes = useCallback(\r\n    (assets: Partial<SwapAssets>): SwapMode[] => {\r\n      if (!validateAssets(assets)) return []\r\n\r\n      const functions = {\r\n        [SwapMode.ONCHAIN]: getIsOnchainAvailable,\r\n        [SwapMode.TERRASWAP]: getIsTerraswapAvailable,\r\n        [SwapMode.ASTROPORT]: getIsAstroportAvailable,\r\n        [SwapMode.ROUTESWAP]: getIsRouteswapAvaialble,\r\n      }\r\n\r\n      return Object.entries(functions)\r\n        .filter(([, fn]) => fn(assets))\r\n        .map(([key]) => key as SwapMode)\r\n    },\r\n    [\r\n      getIsOnchainAvailable,\r\n      getIsTerraswapAvailable,\r\n      getIsAstroportAvailable,\r\n      getIsRouteswapAvaialble,\r\n    ]\r\n  )\r\n\r\n  const getIsSwapAvailable = (assets: Partial<SwapAssets>) =>\r\n    !!getAvailableSwapModes(assets).length\r\n\r\n  /* swap mode for multiple swap */\r\n  const getSwapMode = useCallback(\r\n    (assets: SwapAssets) => {\r\n      const { askAsset } = assets\r\n      if (isDenomLuna(askAsset)) {\r\n        return getIsTerraswapAvailable(assets)\r\n          ? SwapMode.TERRASWAP\r\n          : SwapMode.ROUTESWAP\r\n      }\r\n\r\n      return SwapMode.ONCHAIN\r\n    },\r\n    [getIsTerraswapAvailable]\r\n  )\r\n\r\n  /* simulate | execute */\r\n  type SimulateFn<T = any> = (params: SwapParams) => Promise<SimulateResult<T>>\r\n  const getOnchainParams = useCallback(\r\n    ({ amount, offerAsset, askAsset, minimum_receive }: SwapParams) => {\r\n      if (!address) return { msgs: [] }\r\n\r\n      const getAssertMessage = () => {\r\n        if (!getAssertRequired({ offerAsset, askAsset })) return\r\n        if (!(contracts?.assertLimitOrder && minimum_receive)) return\r\n\r\n        return new MsgExecuteContract(address, contracts.assertLimitOrder, {\r\n          assert_limit_order: {\r\n            offer_coin: { denom: offerAsset, amount },\r\n            ask_denom: askAsset,\r\n            minimum_receive,\r\n          },\r\n        })\r\n      }\r\n\r\n      const assert = getAssertMessage()\r\n      const offerCoin = new Coin(offerAsset, amount)\r\n      const swap = new MsgSwap(address, offerCoin, askAsset)\r\n      return { msgs: assert ? [assert, swap] : [swap] }\r\n    },\r\n    [address, contracts]\r\n  )\r\n\r\n  const simulateOnchain = async (params: SwapParams) => {\r\n    const getRate = (denom: CoinDenom) =>\r\n      isDenomLuna(denom) ? \"1\" : \"1\"//getAmount(exchangeRates, denom)\r\n\r\n    const { amount, offerAsset, askAsset } = params\r\n    const offerCoin = new Coin(offerAsset, amount)\r\n    const res = await lcd.market.swapRate(offerCoin, askAsset)\r\n    const result = res.amount.toString()\r\n\r\n    /* spread */\r\n    const offerRate = getRate(offerAsset)\r\n    const askRate = getRate(askAsset)\r\n    const rate = new BigNumber(offerRate).div(askRate)\r\n    const value = new BigNumber(amount).div(rate)\r\n    const spread = value.minus(result).toString()\r\n\r\n    if (!result) throw new Error(\"Simulation failed\")\r\n\r\n    const ratio = toPrice(new BigNumber(amount).div(result))\r\n\r\n    return {\r\n      mode: SwapMode.ONCHAIN,\r\n      query: params,\r\n      value: result,\r\n      ratio,\r\n      rate: toPrice(rate),\r\n      payload: spread,\r\n    }\r\n  }\r\n\r\n  const getTerraswapParams = useCallback(\r\n    (params: SwapParams, dex: Dex) => {\r\n      const { amount, offerAsset, askAsset, belief_price, max_spread } = params\r\n      const fromNative = isDenom(offerAsset)\r\n      const pair = findPair({ offerAsset, askAsset }, dex)\r\n      const offer_asset = toAsset(offerAsset, amount)\r\n\r\n      if (!pair) throw new Error(\"Pair does not exist\")\r\n      const contract = fromNative ? pair.address : offerAsset\r\n\r\n      /* simulate */\r\n      const query = { simulation: { offer_asset } }\r\n\r\n      /* execute */\r\n      const swap =\r\n        belief_price && max_spread ? { belief_price, max_spread } : {}\r\n      const executeMsg = fromNative\r\n        ? { swap: { ...swap, offer_asset } }\r\n        : { send: { amount, contract: pair.address, msg: toBase64({ swap }) } }\r\n      const coins = fromNative ? new Coins({ [offerAsset]: amount }) : undefined\r\n      const msgs = address\r\n        ? [new MsgExecuteContract(address, contract, executeMsg, coins)]\r\n        : []\r\n\r\n      return { pair, simulation: { contract: pair.address, query }, msgs }\r\n    },\r\n    [address, findPair]\r\n  )\r\n\r\n  const simulateTerraswap = async (\r\n    params: SwapParams,\r\n    dex: Dex = \"terraswap\"\r\n  ) => {\r\n    const mode = {\r\n      terraswap: SwapMode.TERRASWAP,\r\n      astroport: SwapMode.ASTROPORT,\r\n    }[dex]\r\n\r\n    const query = params\r\n\r\n    const { amount } = params\r\n    const { pair, simulation } = getTerraswapParams(params, dex)\r\n\r\n    if (pair.type === \"stable\") {\r\n      const { return_amount: value, commission_amount } =\r\n        await lcd.wasm.contractQuery<{\r\n          return_amount: Amount\r\n          commission_amount: Amount\r\n        }>(pair.address, simulation.query)\r\n\r\n      const payload = commission_amount\r\n      const ratio = toPrice(new BigNumber(amount).div(value))\r\n      return { mode, query, value, ratio, payload }\r\n    } else {\r\n      const { assets } = await lcd.wasm.contractQuery<{\r\n        assets: [Asset, Asset]\r\n      }>(simulation.contract, { pool: {} })\r\n\r\n      const { pool, rate } = parsePool(params, assets)\r\n      const { return_amount: value, commission_amount } = calcXyk(amount, pool)\r\n      const payload = commission_amount\r\n      const ratio = toPrice(new BigNumber(amount).div(value))\r\n      return { mode, query, value, ratio, rate, payload }\r\n    }\r\n  }\r\n\r\n  const getAstroportParams = getTerraswapParams\r\n  const simulateAstroport = (params: SwapParams) =>\r\n    simulateTerraswap(params, \"astroport\")\r\n\r\n  const getRouteswapParams = useCallback(\r\n    (params: SwapParams) => {\r\n      /* helper function */\r\n      const createSwap = ({ offerAsset, askAsset }: SwapAssets) => {\r\n        const offer_asset_info = toAssetInfo(offerAsset)\r\n        const ask_asset_info = toAssetInfo(askAsset)\r\n        const buyLuna = isDenomTerra(offerAsset) && isDenomLuna(askAsset)\r\n        return buyLuna || !getIsOnchainAvailable({ offerAsset, askAsset })\r\n          ? { terra_swap: { offer_asset_info, ask_asset_info } }\r\n          : { native_swap: { offer_denom: offerAsset, ask_denom: askAsset } }\r\n      }\r\n\r\n      const { amount, offerAsset, askAsset, minimum_receive } = params\r\n      const fromNative = isDenom(offerAsset)\r\n      if (!contracts?.routeswap) throw new Error(\"Routeswap is not available\")\r\n\r\n      const route = [offerAsset, \"uusd\", askAsset]\r\n      const operations = [\r\n        createSwap({ offerAsset, askAsset: \"uusd\" }),\r\n        createSwap({ offerAsset: \"uusd\", askAsset }),\r\n      ]\r\n\r\n      const options = minimum_receive && { minimum_receive }\r\n      const swapOperations = { ...options, offer_amount: amount, operations }\r\n\r\n      /* simulation */\r\n      const simulation = { simulate_swap_operations: swapOperations }\r\n      const execute = { execute_swap_operations: swapOperations }\r\n\r\n      /* msgs */\r\n      const routeswap = contracts.routeswap\r\n      const contract = fromNative ? routeswap : offerAsset\r\n      const executeMsg = fromNative\r\n        ? execute\r\n        : { send: { contract: routeswap, msg: toBase64(execute), amount } }\r\n      const coins = fromNative ? [new Coin(offerAsset, amount)] : undefined\r\n      const msgs = address\r\n        ? [new MsgExecuteContract(address, contract, executeMsg, coins)]\r\n        : []\r\n\r\n      return { route, simulation, msgs }\r\n    },\r\n    [address, contracts?.routeswap, getIsOnchainAvailable]\r\n  )\r\n\r\n  const simulateRouteswap: SimulateFn<Token[]> = async (params: SwapParams) => {\r\n    if (!contracts?.routeswap) throw new Error(\"Routeswap is not available\")\r\n\r\n    const { simulation, route } = getRouteswapParams(params)\r\n    const { amount: value } = await lcd.wasm.contractQuery<{ amount: string }>(\r\n      contracts.routeswap,\r\n      simulation\r\n    )\r\n\r\n    const ratio = toPrice(new BigNumber(params.amount).div(value))\r\n\r\n    return {\r\n      mode: SwapMode.ROUTESWAP,\r\n      query: params,\r\n      value,\r\n      ratio,\r\n      payload: route,\r\n    }\r\n  }\r\n\r\n  const getSimulateFunction = (mode: SwapMode) => {\r\n    const simulationFunctions = {\r\n      [SwapMode.ONCHAIN]: simulateOnchain,\r\n      [SwapMode.TERRASWAP]: simulateTerraswap,\r\n      [SwapMode.ASTROPORT]: simulateAstroport,\r\n      [SwapMode.ROUTESWAP]: simulateRouteswap,\r\n    }\r\n\r\n    return simulationFunctions[mode]\r\n  }\r\n\r\n  const getMsgsFunction = useCallback(\r\n    (mode: SwapMode) => {\r\n      const getMsgs = {\r\n        [SwapMode.ONCHAIN]: (params: SwapParams) =>\r\n          getOnchainParams(params).msgs,\r\n        [SwapMode.TERRASWAP]: (params: SwapParams) =>\r\n          getTerraswapParams(params, \"terraswap\").msgs,\r\n        [SwapMode.ASTROPORT]: (params: SwapParams) =>\r\n          getAstroportParams(params, \"astroport\").msgs,\r\n        [SwapMode.ROUTESWAP]: (params: SwapParams) =>\r\n          getRouteswapParams(params).msgs,\r\n      }\r\n\r\n      return getMsgs[mode]\r\n    },\r\n    [\r\n      getOnchainParams,\r\n      getTerraswapParams,\r\n      getAstroportParams,\r\n      getRouteswapParams,\r\n    ]\r\n  )\r\n\r\n  const getSimulateQuery = (params: Partial<SwapParams>) => ({\r\n    queryKey: [\"simulate.swap\", params],\r\n    queryFn: async () => {\r\n      if (!validateParams(params)) throw new Error()\r\n      const modes = getAvailableSwapModes(params)\r\n      const functions = modes.map(getSimulateFunction)\r\n      const queries = functions.map((fn) => fn(params))\r\n      const responses = await Promise.allSettled(queries)\r\n      const results = responses.map((result) => {\r\n        if (result.status === \"rejected\") throw new Error(result.reason)\r\n        return result.value\r\n      })\r\n\r\n      return {\r\n        values: zipObj(modes, results),\r\n        profitable: findProfitable(results),\r\n      }\r\n    },\r\n    enabled: validateParams(params),\r\n  })\r\n\r\n  return {\r\n    ...context,\r\n    getIsSwapAvailable,\r\n    getSwapMode,\r\n    getAvailableSwapModes,\r\n    getSimulateFunction,\r\n    getSimulateQuery,\r\n    getMsgsFunction,\r\n  }\r\n}\r\n\r\nexport default useSwapUtils\r\n\r\n/* type guard */\r\nexport const validateAssets = (\r\n  assets: Partial<SwapAssets>\r\n): assets is Required<SwapAssets> => {\r\n  const { offerAsset, askAsset } = assets\r\n  return !!offerAsset && !!askAsset && offerAsset !== askAsset\r\n}\r\n\r\nexport const validateParams = (\r\n  params: Partial<SwapParams>\r\n): params is SwapParams => {\r\n  const { amount, ...assets } = params\r\n  return has(amount) && validateAssets(assets)\r\n}\r\n\r\n/* determinant */\r\nconst getAssertRequired = ({ offerAsset, askAsset }: SwapAssets) =>\r\n  [offerAsset, askAsset].some(isDenomTerra) &&\r\n  [offerAsset, askAsset].some(isDenomLuna)\r\n\r\n/* helpers */\r\nconst findProfitable = (results: SimulateResult[]) => {\r\n  const index = results.reduce(\r\n    (acc, { value }, index) =>\r\n      new BigNumber(value).gt(results[acc].value) ? index : acc,\r\n    0\r\n  )\r\n\r\n  return results[index]\r\n}\r\n\r\n/* calc */\r\nconst parsePool = (\r\n  { offerAsset, askAsset }: SwapAssets,\r\n  pairPool: [Asset, Asset]\r\n) => {\r\n  const pair = fromPairs(\r\n    pairPool.map(toTokenItem).map(({ amount, token }) => [token, amount])\r\n  )\r\n\r\n  const offerPool = pair[offerAsset]\r\n  const askPool = pair[askAsset]\r\n  const pool = [offerPool, askPool] as [string, string]\r\n  const rate = toPrice(new BigNumber(pair[offerAsset]).div(pair[askAsset]))\r\n\r\n  return { pool, rate }\r\n}\r\n\r\nconst calcXyk = (amount: Amount, [offerPool, askPool]: [Amount, Amount]) => {\r\n  const returnAmount = new BigNumber(amount)\r\n    .times(askPool)\r\n    .div(new BigNumber(amount).plus(offerPool))\r\n    .integerValue(BigNumber.ROUND_FLOOR)\r\n\r\n  const spreadAmount = new BigNumber(amount)\r\n    .times(askPool)\r\n    .div(offerPool)\r\n    .minus(returnAmount)\r\n    .integerValue(BigNumber.ROUND_FLOOR)\r\n\r\n  const commissionAmount = returnAmount\r\n    .times(TERRASWAP_COMMISSION_RATE)\r\n    .integerValue(BigNumber.ROUND_FLOOR)\r\n\r\n  return {\r\n    return_amount: returnAmount.minus(commissionAmount).toString(),\r\n    spread_amount: spreadAmount.toString(),\r\n    commission_amount: commissionAmount.toString(),\r\n  }\r\n}\r\n","import { PropsWithChildren } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport createContext from \"utils/createContext\"\r\nimport { GasPrices, useGasPrices } from \"data/Terra/TerraAPI\"\r\nimport { Card } from \"components/layout\"\r\nimport { ErrorBoundary, Wrong } from \"components/feedback\"\r\nimport { useTxKey } from \"./Tx\"\r\n\r\n\r\nexport const [useTx, TxProvider] = createContext<{ gasPrices: GasPrices }>(\"useTx\")\r\n\r\n// Este contexto se utiliza únicamente en el componente de la transacción Tx\r\n// Si integramos el ErrorBoundary en SwapTx, podríamos eliminarlo junto con SwapContext\r\nconst TxContext = ({ children }: PropsWithChildren<{}>) => {\r\n  const { t } = useTranslation()\r\n  const txKey = \"\"\r\n  const gasPrices = {uluna: \"0.15\", uusd: \"0.15\", ueur: \"0.125\"}\r\n  // console.log('[TXCONTEXT] Gas prices:')\r\n  // console.log(gasPrices)\r\n\r\n  /* on error */\r\n  const fallback = () => (\r\n    <Card>\r\n      <Wrong>{t(\"Transaction is not available at the moment\")}</Wrong>\r\n    </Card>\r\n  )\r\n  \r\n  // If the gas prices doesn't exist, nothing is worth rendering.\r\n  if (!gasPrices) {\r\n    console.log(\"TxContext: gas prices NOT OK\")\r\n    return null\r\n  }\r\n\r\n  console.log(\"TxContext OK\")\r\n  return (\r\n    <TxProvider value={{ gasPrices }} key={txKey}>\r\n      <ErrorBoundary fallback={fallback}>{children}</ErrorBoundary>\r\n    </TxProvider>\r\n  )\r\n}\r\n\r\nexport default TxContext\r\n\r\n\r\n\r\n// const TxContext = ({ children }: PropsWithChildren<{}>) => {\r\n//   const { t } = useTranslation()\r\n//   const txKey = useTxKey()\r\n//   const { data: gasPrices } = useGasPrices()\r\n\r\n//   /* on error */\r\n//   const fallback = () => (\r\n//     <Card>\r\n//       <Wrong>{t(\"Transaction is not available at the moment\")}</Wrong>\r\n//     </Card>\r\n//   )\r\n\r\n//   // If the gas prices doesn't exist, nothing is worth rendering.\r\n//   if (!gasPrices) return null\r\n\r\n//   return (\r\n//     <TxProvider value={{ gasPrices }} key={txKey}>\r\n//       <ErrorBoundary fallback={fallback}>{children}</ErrorBoundary>\r\n//     </TxProvider>\r\n//   )\r\n// }\r\n\r\n\r\n\r\n","import { PropsWithChildren } from \"react\"\r\nimport { Coins } from \"@terra-money/terra.js\"\r\nimport createContext from \"utils/createContext\"\r\n// import { combineState } from \"data/query\"\r\n// import { useActiveDenoms, useExchangeRates } from \"data/queries/oracle\"\r\nimport { TerraContracts } from \"data/Terra/TerraAssets\"\r\n// import { useCW20Pairs } from \"data/Terra/TerraAssets\"\r\n// import { useTerraContracts } from \"data/Terra/TerraAssets\"\r\nimport { Fetching } from \"components/feedback\"\r\n\r\n\r\ninterface Swap {\r\n  activeDenoms: Denom[]\r\n  exchangeRates?: Coins\r\n  pairs: CW20Pairs\r\n  contracts?: TerraContracts\r\n}\r\n\r\n\r\nexport const [useSwap, SwapProvider] = createContext<Swap>(\"useSwap\")\r\n\r\n// ESTE COMPONENTE SE PUEDE ELIMINAR POR COMPLETO. \r\nconst SwapContext = ({ children }: PropsWithChildren<{}>) => {\r\n  \r\n  const activeDenoms = [\r\n    'uluna', 'uusd', 'uaud', 'ucad', 'uchf', 'ucny', 'udkk', 'ueur', 'ugbp', \r\n    'uhkd', 'uidr', 'uinr', 'ujpy', 'ukrw', 'umnt', 'umyr', 'unok', 'uphp', \r\n    'usdr', 'usek', 'usgd', 'uthb', 'utwd'\r\n  ]\r\n  // console.log('Active Denoms:')\r\n  // console.log(activeDenoms)\r\n\r\n  // const { data: exchangeRates, ...exchangeRatesState } = useExchangeRates()\r\n  // Esto se utiliza solo para simular el swap en modo ONCHAIN (Market)\r\n  const exchangeRates = {\r\n    _coins: {\r\n      uusd: {denom: \"uusd\", amount: 1027.46332339911000},\r\n      ueur: {denom: \"ueur\", amount: 1009.12207561311000}\r\n    }\r\n  }\r\n  console.log('Exchange Rates:')\r\n  console.log(exchangeRates)\r\n  // console.log(exchangeRatesState)\r\n  \r\n  \r\n  const pairs = {\r\n    terra1afdz4l9vsqddwmjqxmel99atu4rwscpfjm4yfp: {\r\n      assets: ['uusd', 'terra1w7zgkcyt7y4zpct9dw8mw362ywvdlydnum2awa'],\r\n      dex: \"terraswap\",\r\n      type: \"xyk\"\r\n    },\r\n    terra1d7028vhd9u26fqyreee38cj39fwqvcyjps8sjk: {\r\n      assets: ['uusd', 'terra1mpq5zkkm39nmjrjg9raknpfrfmcfwv0nh0whvn'],\r\n      dex: \"astroport\",\r\n      type: \"xyk\"\r\n    } \r\n  } as CW20Pairs\r\n  // console.log('Pairs:')\r\n  // console.log(pairs)\r\n  \r\n  const contracts = {\r\n    assertLimitOrder: \"terra1vs9jr7pxuqwct3j29lez3pfetuu8xmq7tk3lzk\",\r\n    routeswap: \"terra19qx5xe6q9ll4w0890ux7lv2p4mf3csd4qvt3ex\",\r\n    tnsRegistry: \"terra19gqw63xnt9237d2s8cdrzstn98g98y7hkl80gs\",\r\n    tnsReverseRecord: \"terra13efj2whf6rm7yedc2v7rnz0e6ltzytyhydy98a\"\r\n  }\r\n  // console.log('Contracts:')\r\n  // console.log(contracts)\r\n  \r\n    \r\n  // const state = combineState(\r\n  //   // activeDenomsState,\r\n  //   // exchangeRatesState,\r\n  //   // cw20PairsState,\r\n  //   // contractsState\r\n  // )\r\n  // MOCK STATE\r\n  const state = {\r\n    error: undefined,\r\n    isFetching: false,\r\n    isIdle: false,\r\n    isLoading: false,\r\n    isSuccess: true\r\n  }\r\n  // console.log('Combined state')\r\n  // console.log(state)\r\n\r\n  \r\n  const render = () => {\r\n    if (!(activeDenoms && exchangeRates && pairs && contracts)) return null\r\n    const value = { activeDenoms, /* exchangeRates, */ pairs, contracts }\r\n    return <SwapProvider value={value}>{children}</SwapProvider>\r\n  }\r\n\r\n  console.log(\"SwapContext OK\")\r\n  return !state.isSuccess ? null : <Fetching {...state}>{render()}</Fetching>\r\n}\r\n\r\n\r\n/* const SwapContext = ({ children }: PropsWithChildren<{}>) => {\r\n  const { data: activeDenoms, ...activeDenomsState } = useActiveDenoms()\r\n  const { data: exchangeRates, ...exchangeRatesState } = useExchangeRates()\r\n  const { data: pairs, ...cw20PairsState } = useCW20Pairs()\r\n  const { data: contracts, ...contractsState } = useTerraContracts()\r\n\r\n  const state = combineState(\r\n    activeDenomsState,\r\n    exchangeRatesState,\r\n    contractsState,\r\n    cw20PairsState\r\n  )\r\n\r\n  const render = () => {\r\n    if (!(activeDenoms && exchangeRates && pairs && contracts)) return null\r\n    const value = { activeDenoms, exchangeRates, pairs, contracts }\r\n    return <SwapProvider value={value}>{children}</SwapProvider>\r\n  }\r\n\r\n  return !state.isSuccess ? null : <Fetching {...state}>{render()}</Fetching>\r\n} */\r\n\r\n\r\nexport default SwapContext\r\n","import { PropsWithChildren, useMemo } from \"react\"\r\n// import { flatten, uniq, zipObj } from \"ramda\"\r\nimport BigNumber from \"bignumber.js\"\r\nimport { isDenomIBC, toAmount } from \"@terra.kitchen/utils\"\r\nimport { AccAddress } from \"@terra-money/terra.js\"\r\n// import { getAmount, sortDenoms } from \"utils/coin\"\r\nimport { toPrice } from \"utils/num\"\r\nimport createContext from \"utils/createContext\"\r\n// import { useCurrency } from \"data/settings/Currency\"\r\n// import { combineState, useIsClassic } from \"data/query\"\r\nimport { useBankBalance } from \"data/queries/bank\"\r\n// import { useTokenBalances } from \"data/queries/wasm\"\r\n// import { readIBCDenom, readNativeDenom } from \"data/token\"\r\n// import { useIBCWhitelist } from \"data/Terra/TerraAssets\"\r\n// import { useCW20Whitelist } from \"data/Terra/TerraAssets\"\r\n// import { useCustomTokensCW20 } from \"data/settings/CustomTokens\"\r\nimport { Card } from \"components/layout\"\r\n// import { useSwap } from \"./SwapContext\"\r\nimport { SwapAssets, validateAssets } from \"./useSwapUtils\"\r\n// import { constSelector } from \"recoil\"\r\n\r\n\r\nexport interface SlippageParams extends SwapAssets {\r\n  input: number\r\n  slippageInput: number\r\n  ratio: number\r\n}\r\n\r\nexport interface SwapSpread {\r\n  max_spread: string\r\n  minimum_receive: string\r\n  belief_price: string\r\n  price: number\r\n}\r\n\r\ninterface SingleSwap {\r\n  options: {\r\n    coins: TokenItemWithBalance[]\r\n    tokens: TokenItemWithBalance[]\r\n  }\r\n  findTokenItem: (token: Token) => TokenItemWithBalance\r\n  findDecimals: (token: Token) => number\r\n  calcExpected: (params: SlippageParams) => SwapSpread\r\n}\r\n\r\n\r\nexport const [useSingleSwap, SingleSwapProvider] = createContext<SingleSwap>(\"useSingleSwap\")\r\n\r\n\r\n// PROPORCIONA LAS LISTAS DE TOKENS PARA EL SWAP Y LOS BALANCES DE CADA UNO\r\n// RENOMBRAR A GLPContext y dejar como único contexto de SwapForm\r\nconst SingleSwapContext = ({ children }: PropsWithChildren<{}>) => {\r\n  // const currency = \"uluna\"\r\n  // const isClassic = true\r\n  // const bankBalance = {\r\n  //   _coins: {\r\n  //     uluna: {denom: 'uluna', amount: 757869711},\r\n  //     uusd: {denom: 'uusd', amount: 19103}\r\n  //   }\r\n  // }\r\n\r\n  // const { activeDenoms, pairs } = useSwap() // Modificado en SwapContext. TODO: Eliminar este contexto\r\n  \r\n  // const customTokens = [] as Token[]\r\n\r\n  \r\n  /* contracts */\r\n  // LISTAS DE TOKENS\r\n  // const { data: ibcWhitelist, ...ibcWhitelistState } = useIBCWhitelist()\r\n  // const ibcWhitelist = {\r\n  //   EB2CED20AB0466F18BE49285E56B31306D4C60438A022EA995BA65D5E3CF7E09: {\r\n  //     base_denom: \"uscrt\",\r\n  //     denom: \"ibc/EB2CED20AB0466F18BE49285E56B31306D4C60438A022EA995BA65D5E3CF7E09\",\r\n  //     icon: \"https://assets.terra.money/icon/svg/ibc/SCRT.svg\",\r\n  //     name: \"Secret\",\r\n  //     path: \"transfer/channel-16\",\r\n  //     symbol: \"SCRT\"\r\n  //   }\r\n  // } as IBCWhitelist\r\n  // console.log('[SINGLESWAPCONTEXT] ibcWhiteList:')\r\n  // console.log(ibcWhitelist)\r\n\r\n  // const { data: cw20Whitelist, ...cw20WhitelistState } = useCW20Whitelist()\r\n  // const cw20Whitelist = {\r\n  //   terra1aa7upykmmqqc63l924l5qfap8mrmx5rfdm0v55: {\r\n  //     decimals: 8,\r\n  //     icon: \"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/3NZ9JMVBmGAqocybic2c7LQCJScmgsAZ6vQqTDzcqmJh/logo.png\",\r\n  //     name: \"Wrapped BTC (Portal)\",\r\n  //     protocol: \"Wormhole\",\r\n  //     symbol: \"WBTC\",\r\n  //     token: \"terra1aa7upykmmqqc63l924l5qfap8mrmx5rfdm0v55\"\r\n  //   }\r\n  // } as CW20Whitelist\r\n  // console.log('[SINGLESWAPCONTEXT] cw20WhiteList:')\r\n  // console.log(cw20Whitelist)\r\n\r\n  // Why?\r\n  // To search tokens with symbol (ibc, cw20)\r\n  // To filter tokens with balance (cw20)\r\n  // Filtrar listas de tokens -> TODO: Eliminar\r\n  // const terraswapAvailableList = useMemo(() => {\r\n  //   if (!(ibcWhitelist && cw20Whitelist)) return\r\n\r\n  //   const terraswapAvailableList = uniq(\r\n  //     flatten(Object.values(pairs).map(({ assets }) => assets))\r\n  //   )\r\n\r\n  //   const ibc = terraswapAvailableList\r\n  //     .filter(isDenomIBC)\r\n  //     .filter((denom) => ibcWhitelist[denom.replace(\"ibc/\", \"\")])\r\n\r\n  //   const cw20 = terraswapAvailableList\r\n  //     .filter(AccAddress.validate)\r\n  //     .filter((token) => cw20Whitelist[token])\r\n\r\n  //   return { ibc, cw20 }\r\n  // }, [cw20Whitelist, ibcWhitelist, pairs])\r\n\r\n\r\n\r\n  // BALANCES DE TOKENS (NO MONEDAS, NO TENEMOS NINGUNA)\r\n  // Fetch cw20 balances: only listed and added by the user\r\n  // const cw20TokensBalanceRequired = useMemo(() => {\r\n  //   if (!terraswapAvailableList) return []\r\n  //   return customTokens.filter((token) =>\r\n  //     terraswapAvailableList.cw20.includes(token)\r\n  //   )\r\n  // }, [customTokens, terraswapAvailableList])\r\n\r\n  // const cw20TokensBalancesState = useTokenBalances(cw20TokensBalanceRequired)\r\n  // const cw20TokensBalancesState = [] \r\n  // console.log('[SINGLESWAPCONTEXT] cw20TokensBalancesState:')\r\n  // console.log(cw20TokensBalancesState)\r\n\r\n  // const cw20TokensBalances = useMemo(() => {\r\n  //   if (cw20TokensBalancesState.some(({ isSuccess }) => !isSuccess)) return\r\n\r\n  //   return zipObj(\r\n  //     cw20TokensBalanceRequired,\r\n  //     cw20TokensBalancesState.map(({ data }) => {\r\n  //       if (!data) throw new Error()\r\n  //       return data\r\n  //     })\r\n  //   )\r\n  // }, [cw20TokensBalanceRequired, cw20TokensBalancesState])\r\n\r\n  \r\n  // CONTEXTO PARA EL SWAP\r\n  const context = useMemo(() => {\r\n    // if (!(terraswapAvailableList && ibcWhitelist && cw20Whitelist)) return\r\n    // if (!cw20TokensBalances) return\r\n\r\n    /* options contiene las listas de monedas y tokens. Tiene la forma:\r\n    options = {\r\n      coins: [\r\n        {\r\n          balance: \"19103\"\r\n          decimals: 6\r\n          icon: \"https://assets.terra.money/icon/svg/Terra/UST.svg\"\r\n          name: \"Terra USD\"\r\n          symbol: \"USTC\"\r\n          token: \"uusd\"\r\n        },\r\n        {\r\n          balance: \"0\"\r\n          decimals: 6\r\n          icon: \"https://assets.terra.money/icon/svg/Terra/EUT.svg\"\r\n          name: \"Terra EUR\"\r\n          symbol: \"EUTC\"\r\n          token: \"ueur\"\r\n        },\r\n        ...\r\n      ]\r\n      tokens: [\r\n        {\r\n          balance: \"0\"\r\n          decimals: 8\r\n          icon: \"https://static.lido.fi/stSOL/stSOL.png\"\r\n          name: \"Lido wstSOL (Portal)\"\r\n          protocol: \"Wormhole\"\r\n          symbol: \"wstSOL\"\r\n          token: \"terra1t9ul45l7m6jw6sxgvnp8e5hj8xzkjsg82g84ap\"\r\n        },\r\n        ...\r\n      ]\r\n    }\r\n    */\r\n    const options = {\r\n      coins: [\r\n        {\r\n          balance: \"757869711\",\r\n          decimals: 6,\r\n          icon: \"https://assets.terra.money/icon/svg/LUNC.svg\",\r\n          name: undefined,\r\n          symbol: \"LUNC\",\r\n          token: \"uluna\",\r\n        },\r\n        {\r\n          balance: \"19103\",\r\n          decimals: 6,\r\n          icon: \"https://assets.terra.money/icon/svg/Terra/UST.svg\",\r\n          name: \"Terra USD\",\r\n          symbol: \"USTC\",\r\n          token: \"uusd\"\r\n        }\r\n      ],\r\n      tokens: [\r\n        {\r\n          balance: \"100000000000000\",\r\n          decimals: 12,\r\n          icon: \"https://static.lido.fi/stSOL/stSOL.png\",\r\n          name: \"Geminon\",\r\n          protocol: \"Geminon Protocol\",\r\n          symbol: \"GEX\",\r\n          token: \"terra1t9ul45l7m6jw6sxgvnp8e5hj8xzkjsg82g84ap\",\r\n        }\r\n      ]\r\n    }\r\n\r\n\r\n    const findTokenItem = (token: Token) => {\r\n      const key = AccAddress.validate(token) || isDenomIBC(token) ? \"tokens\" : \"coins\"\r\n\r\n      const option = options[key].find((item) => item.token === token)\r\n      if (!option) throw new Error()\r\n      return option\r\n    }\r\n\r\n    const findDecimals = (token: Token) => findTokenItem(token).decimals\r\n\r\n    const calcExpected = (params: SlippageParams) => {\r\n      const { offerAsset, askAsset, input, slippageInput, ratio } = params\r\n      const offerDecimals = findDecimals(offerAsset)\r\n      const askDecimals = findDecimals(askAsset)\r\n\r\n      /* terraswap */\r\n      const belief_price = new BigNumber(ratio)\r\n        .dp(18, BigNumber.ROUND_DOWN)\r\n        .toString()\r\n\r\n      /* routeswap | on-chain */\r\n      const max_spread = new BigNumber(slippageInput).div(100).toString()\r\n      const amount = toAmount(input, { decimals: offerDecimals })\r\n      const value = Number(amount) / ratio\r\n      const minimum_receive = calcMinimumReceive(value, max_spread)\r\n\r\n      /* expected price */\r\n      const decimals = askDecimals - offerDecimals\r\n      const price = toPrice(\r\n        new BigNumber(ratio).times(new BigNumber(10).pow(decimals))\r\n      )\r\n\r\n      return { max_spread, belief_price, minimum_receive, price }\r\n    }\r\n\r\n    return { options, findTokenItem, findDecimals, calcExpected }\r\n  }, [\r\n    // currency,\r\n    // bankBalance,\r\n    // activeDenoms,\r\n    // ibcWhitelist,\r\n    // cw20Whitelist,\r\n    // terraswapAvailableList,\r\n    // cw20TokensBalances,\r\n    // isClassic,\r\n  ])\r\n\r\n  /* const state = combineState(\r\n    // ibcWhitelistState,\r\n    // cw20WhitelistState,\r\n    // ...cw20TokensBalancesState\r\n  ) */\r\n  // MOCK STATE\r\n  const state = {\r\n    error: undefined,\r\n    isFetching: false,\r\n    isIdle: false,\r\n    isLoading: false,\r\n    isSuccess: true\r\n  }\r\n\r\n  const render = () => {\r\n    if (!context) return null\r\n    return <SingleSwapProvider value={context}>{children}</SingleSwapProvider>\r\n  }\r\n\r\n  return <Card {...state}>{render()}</Card>\r\n}\r\n\r\n\r\n\r\nexport default SingleSwapContext\r\n\r\n\r\n/* type guard */\r\nexport const validateSlippageParams = (\r\n  params: Partial<SlippageParams>\r\n): params is SlippageParams => {\r\n  const { input, slippageInput, ratio, ...assets } = params\r\n  return !!(validateAssets(assets) && input && slippageInput && ratio)\r\n}\r\n\r\n/* minimum received */\r\nexport const calcMinimumReceive = (\r\n  simulatedValue: Value,\r\n  max_spread: string\r\n) => {\r\n  const minRatio = new BigNumber(1).minus(max_spread)\r\n  const value = new BigNumber(simulatedValue).times(minRatio)\r\n  return value.integerValue(BigNumber.ROUND_FLOOR).toString()\r\n}\r\n\r\n\r\n\r\n\r\n// const SingleSwapContext = ({ children }: PropsWithChildren<{}>) => {\r\n//   const currency = useCurrency()\r\n//   const isClassic = useIsClassic()\r\n//   const bankBalance = useBankBalance()\r\n//   const { activeDenoms, pairs } = useSwap()\r\n//   const { list } = useCustomTokensCW20()\r\n//   const customTokens = list.map(({ token }) => token)\r\n\r\n//   /* contracts */\r\n//   const { data: ibcWhitelist, ...ibcWhitelistState } = useIBCWhitelist()\r\n//   const { data: cw20Whitelist, ...cw20WhitelistState } = useCW20Whitelist()\r\n\r\n//   // Why?\r\n//   // To search tokens with symbol (ibc, cw20)\r\n//   // To filter tokens with balance (cw20)\r\n//   const terraswapAvailableList = useMemo(() => {\r\n//     if (!(ibcWhitelist && cw20Whitelist)) return\r\n\r\n//     const terraswapAvailableList = uniq(\r\n//       flatten(Object.values(pairs).map(({ assets }) => assets))\r\n//     )\r\n\r\n//     const ibc = terraswapAvailableList\r\n//       .filter(isDenomIBC)\r\n//       .filter((denom) => ibcWhitelist[denom.replace(\"ibc/\", \"\")])\r\n\r\n//     const cw20 = terraswapAvailableList\r\n//       .filter(AccAddress.validate)\r\n//       .filter((token) => cw20Whitelist[token])\r\n\r\n//     return { ibc, cw20 }\r\n//   }, [cw20Whitelist, ibcWhitelist, pairs])\r\n\r\n//   // Fetch cw20 balances: only listed and added by the user\r\n//   const cw20TokensBalanceRequired = useMemo(() => {\r\n//     if (!terraswapAvailableList) return []\r\n//     return customTokens.filter((token) =>\r\n//       terraswapAvailableList.cw20.includes(token)\r\n//     )\r\n//   }, [customTokens, terraswapAvailableList])\r\n\r\n//   const cw20TokensBalancesState = useTokenBalances(cw20TokensBalanceRequired)\r\n//   const cw20TokensBalances = useMemo(() => {\r\n//     if (cw20TokensBalancesState.some(({ isSuccess }) => !isSuccess)) return\r\n\r\n//     return zipObj(\r\n//       cw20TokensBalanceRequired,\r\n//       cw20TokensBalancesState.map(({ data }) => {\r\n//         if (!data) throw new Error()\r\n//         return data\r\n//       })\r\n//     )\r\n//   }, [cw20TokensBalanceRequired, cw20TokensBalancesState])\r\n\r\n//   const context = useMemo(() => {\r\n//     if (!(terraswapAvailableList && ibcWhitelist && cw20Whitelist)) return\r\n//     if (!cw20TokensBalances) return\r\n\r\n//     const coins = sortDenoms(activeDenoms, currency).map((denom) => {\r\n//       const balance = getAmount(bankBalance, denom)\r\n//       return { ...readNativeDenom(denom, isClassic), balance }\r\n//     })\r\n\r\n//     const ibc = terraswapAvailableList.ibc.map((denom) => {\r\n//       const item = ibcWhitelist[denom.replace(\"ibc/\", \"\")]\r\n//       const balance = getAmount(bankBalance, denom)\r\n//       return { ...readIBCDenom(item), balance }\r\n//     })\r\n\r\n//     const cw20 = terraswapAvailableList.cw20.map((token) => {\r\n//       const balance = cw20TokensBalances[token] ?? \"0\"\r\n//       return { ...cw20Whitelist[token], balance }\r\n//     })\r\n\r\n//     const options = { coins, tokens: [...ibc, ...cw20] }\r\n\r\n//     const findTokenItem = (token: Token) => {\r\n//       const key = AccAddress.validate(token) || isDenomIBC(token) ? \"tokens\" : \"coins\"\r\n\r\n//       const option = options[key].find((item) => item.token === token)\r\n//       if (!option) throw new Error()\r\n//       return option\r\n//     }\r\n\r\n//     const findDecimals = (token: Token) => findTokenItem(token).decimals\r\n\r\n//     const calcExpected = (params: SlippageParams) => {\r\n//       const { offerAsset, askAsset, input, slippageInput, ratio } = params\r\n//       const offerDecimals = findDecimals(offerAsset)\r\n//       const askDecimals = findDecimals(askAsset)\r\n\r\n//       /* terraswap */\r\n//       const belief_price = new BigNumber(ratio)\r\n//         .dp(18, BigNumber.ROUND_DOWN)\r\n//         .toString()\r\n\r\n//       /* routeswap | on-chain */\r\n//       const max_spread = new BigNumber(slippageInput).div(100).toString()\r\n//       const amount = toAmount(input, { decimals: offerDecimals })\r\n//       const value = Number(amount) / ratio\r\n//       const minimum_receive = calcMinimumReceive(value, max_spread)\r\n\r\n//       /* expected price */\r\n//       const decimals = askDecimals - offerDecimals\r\n//       const price = toPrice(\r\n//         new BigNumber(ratio).times(new BigNumber(10).pow(decimals))\r\n//       )\r\n\r\n//       return { max_spread, belief_price, minimum_receive, price }\r\n//     }\r\n\r\n//     return { options, findTokenItem, findDecimals, calcExpected }\r\n//   }, [\r\n//     currency,\r\n//     bankBalance,\r\n//     activeDenoms,\r\n//     ibcWhitelist,\r\n//     cw20Whitelist,\r\n//     terraswapAvailableList,\r\n//     cw20TokensBalances,\r\n//     isClassic,\r\n//   ])\r\n\r\n//   const state = combineState(\r\n//     ibcWhitelistState,\r\n//     cw20WhitelistState,\r\n//     ...cw20TokensBalancesState\r\n//   )\r\n\r\n//   const render = () => {\r\n//     if (!context) return null\r\n//     return <SingleSwapProvider value={context}>{children}</SingleSwapProvider>\r\n//   }\r\n\r\n//   return <Card {...state}>{render()}</Card>\r\n// }\r\n\r\n\r\n\r\n","import { useTranslation } from \"react-i18next\"\r\n// import { LinkButton } from \"components/general\"\r\nimport { Page } from \"components/layout\"\r\nimport TxContext from \"../TxContext\"\r\nimport SwapContext from \"./SwapContext\"\r\nimport SingleSwapContext from \"./SingleSwapContext\"\r\nimport SwapForm from \"./SwapForm\"\r\n\r\n// The sequence below is required before rendering the Swap form:\r\n// 1. `TxContext` - Fetch gas prices through, like other forms.\r\n// 2. `SwapContext` - Complete the network request related to swap.\r\n// 3. `SwapSingleContext` - Complete the network request not related to multiple swap\r\n\r\nconst SwapTx = () => {\r\n  const { t } = useTranslation()\r\n  const description = t(\"Provide collateral to mint GEX\")\r\n\r\n  return (\r\n    <Page title={t(\"Genesis Liquidity Pools\")} small extra={description}>\r\n      <TxContext>\r\n        <SwapContext>\r\n          <SingleSwapContext>\r\n            <SwapForm />\r\n          </SingleSwapContext>\r\n        </SwapContext>\r\n      </TxContext>\r\n    </Page>\r\n  )\r\n}\r\n\r\n\r\n/* const SwapTx = () => {\r\n  const { t } = useTranslation()\r\n\r\n  const extra = (\r\n    <LinkButton to=\"/swap/multiple\" size=\"small\">\r\n      {t(\"Swap multiple coins\")}\r\n    </LinkButton>\r\n  )\r\n\r\n  return (\r\n    <Page title={t(\"Swap\")} small extra={extra}>\r\n      <TxContext>\r\n        <SwapContext>\r\n          <SingleSwapContext>\r\n            <SwapForm />\r\n          </SingleSwapContext>\r\n        </SwapContext>\r\n      </TxContext>\r\n    </Page>\r\n  )\r\n} */\r\n\r\n\r\nexport default SwapTx\r\n","import { PropsWithChildren } from \"react\"\r\nimport { Coins } from \"@terra-money/terra.js\"\r\nimport createContext from \"utils/createContext\"\r\n// import { combineState } from \"data/query\"\r\n// import { useActiveDenoms, useExchangeRates } from \"data/queries/oracle\"\r\nimport { TerraContracts } from \"data/Terra/TerraAssets\"\r\n// import { useCW20Pairs } from \"data/Terra/TerraAssets\"\r\n// import { useTerraContracts } from \"data/Terra/TerraAssets\"\r\nimport { Fetching } from \"components/feedback\"\r\n\r\n\r\ninterface Swap {\r\n  activeDenoms: Denom[]\r\n  exchangeRates?: Coins\r\n  pairs: CW20Pairs\r\n  contracts?: TerraContracts\r\n}\r\n\r\n\r\nexport const [useSwap, SwapProvider] = createContext<Swap>(\"useSwap\")\r\n\r\n// ESTE COMPONENTE SE PUEDE ELIMINAR POR COMPLETO. \r\nconst MintContext = ({ children }: PropsWithChildren<{}>) => {\r\n  \r\n  const activeDenoms = [\r\n    'uluna', 'uusd', 'uaud', 'ucad', 'uchf', 'ucny', 'udkk', 'ueur', 'ugbp', \r\n    'uhkd', 'uidr', 'uinr', 'ujpy', 'ukrw', 'umnt', 'umyr', 'unok', 'uphp', \r\n    'usdr', 'usek', 'usgd', 'uthb', 'utwd'\r\n  ]\r\n  // console.log('Active Denoms:')\r\n  // console.log(activeDenoms)\r\n\r\n  // const { data: exchangeRates, ...exchangeRatesState } = useExchangeRates()\r\n  // Esto se utiliza solo para simular el swap en modo ONCHAIN (Market)\r\n  const exchangeRates = {\r\n    _coins: {\r\n      uusd: {denom: \"uusd\", amount: 1027.46332339911000},\r\n      ueur: {denom: \"ueur\", amount: 1009.12207561311000}\r\n    }\r\n  }\r\n  console.log('Exchange Rates:')\r\n  console.log(exchangeRates)\r\n  // console.log(exchangeRatesState)\r\n  \r\n  \r\n  const pairs = {\r\n    terra1afdz4l9vsqddwmjqxmel99atu4rwscpfjm4yfp: {\r\n      assets: ['uusd', 'terra1w7zgkcyt7y4zpct9dw8mw362ywvdlydnum2awa'],\r\n      dex: \"terraswap\",\r\n      type: \"xyk\"\r\n    },\r\n    terra1d7028vhd9u26fqyreee38cj39fwqvcyjps8sjk: {\r\n      assets: ['uusd', 'terra1mpq5zkkm39nmjrjg9raknpfrfmcfwv0nh0whvn'],\r\n      dex: \"astroport\",\r\n      type: \"xyk\"\r\n    } \r\n  } as CW20Pairs\r\n  // console.log('Pairs:')\r\n  // console.log(pairs)\r\n  \r\n  const contracts = {\r\n    assertLimitOrder: \"terra1vs9jr7pxuqwct3j29lez3pfetuu8xmq7tk3lzk\",\r\n    routeswap: \"terra19qx5xe6q9ll4w0890ux7lv2p4mf3csd4qvt3ex\",\r\n    tnsRegistry: \"terra19gqw63xnt9237d2s8cdrzstn98g98y7hkl80gs\",\r\n    tnsReverseRecord: \"terra13efj2whf6rm7yedc2v7rnz0e6ltzytyhydy98a\"\r\n  }\r\n  // console.log('Contracts:')\r\n  // console.log(contracts)\r\n  \r\n    \r\n  // const state = combineState(\r\n  //   // activeDenomsState,\r\n  //   // exchangeRatesState,\r\n  //   // cw20PairsState,\r\n  //   // contractsState\r\n  // )\r\n  // MOCK STATE\r\n  const state = {\r\n    error: undefined,\r\n    isFetching: false,\r\n    isIdle: false,\r\n    isLoading: false,\r\n    isSuccess: true\r\n  }\r\n  // console.log('Combined state')\r\n  // console.log(state)\r\n\r\n  \r\n  const render = () => {\r\n    if (!(activeDenoms && exchangeRates && pairs && contracts)) return null\r\n    const value = { activeDenoms, /* exchangeRates, */ pairs, contracts }\r\n    return <SwapProvider value={value}>{children}</SwapProvider>\r\n  }\r\n\r\n  console.log(\"SwapContext OK\")\r\n  return !state.isSuccess ? null : <Fetching {...state}>{render()}</Fetching>\r\n}\r\n\r\n\r\n/* const SwapContext = ({ children }: PropsWithChildren<{}>) => {\r\n  const { data: activeDenoms, ...activeDenomsState } = useActiveDenoms()\r\n  const { data: exchangeRates, ...exchangeRatesState } = useExchangeRates()\r\n  const { data: pairs, ...cw20PairsState } = useCW20Pairs()\r\n  const { data: contracts, ...contractsState } = useTerraContracts()\r\n\r\n  const state = combineState(\r\n    activeDenomsState,\r\n    exchangeRatesState,\r\n    contractsState,\r\n    cw20PairsState\r\n  )\r\n\r\n  const render = () => {\r\n    if (!(activeDenoms && exchangeRates && pairs && contracts)) return null\r\n    const value = { activeDenoms, exchangeRates, pairs, contracts }\r\n    return <SwapProvider value={value}>{children}</SwapProvider>\r\n  }\r\n\r\n  return !state.isSuccess ? null : <Fetching {...state}>{render()}</Fetching>\r\n} */\r\n\r\n\r\nexport default MintContext\r\n","import { PropsWithChildren, useMemo } from \"react\"\r\n// import { flatten, uniq, zipObj } from \"ramda\"\r\nimport BigNumber from \"bignumber.js\"\r\nimport { isDenomIBC, toAmount } from \"@terra.kitchen/utils\"\r\nimport { AccAddress } from \"@terra-money/terra.js\"\r\n// import { getAmount, sortDenoms } from \"utils/coin\"\r\nimport { toPrice } from \"utils/num\"\r\nimport createContext from \"utils/createContext\"\r\n// import { useCurrency } from \"data/settings/Currency\"\r\n// import { combineState, useIsClassic } from \"data/query\"\r\nimport { useBankBalance } from \"data/queries/bank\"\r\n// import { useTokenBalances } from \"data/queries/wasm\"\r\n// import { readIBCDenom, readNativeDenom } from \"data/token\"\r\n// import { useIBCWhitelist } from \"data/Terra/TerraAssets\"\r\n// import { useCW20Whitelist } from \"data/Terra/TerraAssets\"\r\n// import { useCustomTokensCW20 } from \"data/settings/CustomTokens\"\r\nimport { Card } from \"components/layout\"\r\n// import { useSwap } from \"./SwapContext\"\r\nimport { SwapAssets, validateAssets } from \"../swap/useSwapUtils\"\r\n// import { constSelector } from \"recoil\"\r\n\r\n\r\nexport interface SlippageParams extends SwapAssets {\r\n  input: number\r\n  slippageInput: number\r\n  ratio: number\r\n}\r\n\r\nexport interface SwapSpread {\r\n  max_spread: string\r\n  minimum_receive: string\r\n  belief_price: string\r\n  price: number\r\n}\r\n\r\ninterface SingleSwap {\r\n  options: {\r\n    coins: TokenItemWithBalance[]\r\n    tokens: TokenItemWithBalance[]\r\n  }\r\n  findTokenItem: (token: Token) => TokenItemWithBalance\r\n  findDecimals: (token: Token) => number\r\n  calcExpected: (params: SlippageParams) => SwapSpread\r\n}\r\n\r\n\r\nexport const [useSingleSwap, SingleSwapProvider] = createContext<SingleSwap>(\"useSingleSwap\")\r\n\r\n\r\n// PROPORCIONA LAS LISTAS DE TOKENS PARA EL SWAP Y LOS BALANCES DE CADA UNO\r\n// RENOMBRAR A GLPContext y dejar como único contexto de SwapForm\r\nconst SingleSwapContext = ({ children }: PropsWithChildren<{}>) => {\r\n  // const currency = \"uluna\"\r\n  // const isClassic = true\r\n  // const bankBalance = {\r\n  //   _coins: {\r\n  //     uluna: {denom: 'uluna', amount: 757869711},\r\n  //     uusd: {denom: 'uusd', amount: 19103}\r\n  //   }\r\n  // }\r\n\r\n  // const { activeDenoms, pairs } = useSwap() // Modificado en SwapContext. TODO: Eliminar este contexto\r\n  \r\n  // const customTokens = [] as Token[]\r\n\r\n  \r\n  /* contracts */\r\n  // LISTAS DE TOKENS\r\n  // const { data: ibcWhitelist, ...ibcWhitelistState } = useIBCWhitelist()\r\n  // const ibcWhitelist = {\r\n  //   EB2CED20AB0466F18BE49285E56B31306D4C60438A022EA995BA65D5E3CF7E09: {\r\n  //     base_denom: \"uscrt\",\r\n  //     denom: \"ibc/EB2CED20AB0466F18BE49285E56B31306D4C60438A022EA995BA65D5E3CF7E09\",\r\n  //     icon: \"https://assets.terra.money/icon/svg/ibc/SCRT.svg\",\r\n  //     name: \"Secret\",\r\n  //     path: \"transfer/channel-16\",\r\n  //     symbol: \"SCRT\"\r\n  //   }\r\n  // } as IBCWhitelist\r\n  // console.log('[SINGLESWAPCONTEXT] ibcWhiteList:')\r\n  // console.log(ibcWhitelist)\r\n\r\n  // const { data: cw20Whitelist, ...cw20WhitelistState } = useCW20Whitelist()\r\n  // const cw20Whitelist = {\r\n  //   terra1aa7upykmmqqc63l924l5qfap8mrmx5rfdm0v55: {\r\n  //     decimals: 8,\r\n  //     icon: \"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/3NZ9JMVBmGAqocybic2c7LQCJScmgsAZ6vQqTDzcqmJh/logo.png\",\r\n  //     name: \"Wrapped BTC (Portal)\",\r\n  //     protocol: \"Wormhole\",\r\n  //     symbol: \"WBTC\",\r\n  //     token: \"terra1aa7upykmmqqc63l924l5qfap8mrmx5rfdm0v55\"\r\n  //   }\r\n  // } as CW20Whitelist\r\n  // console.log('[SINGLESWAPCONTEXT] cw20WhiteList:')\r\n  // console.log(cw20Whitelist)\r\n\r\n  // Why?\r\n  // To search tokens with symbol (ibc, cw20)\r\n  // To filter tokens with balance (cw20)\r\n  // Filtrar listas de tokens -> TODO: Eliminar\r\n  // const terraswapAvailableList = useMemo(() => {\r\n  //   if (!(ibcWhitelist && cw20Whitelist)) return\r\n\r\n  //   const terraswapAvailableList = uniq(\r\n  //     flatten(Object.values(pairs).map(({ assets }) => assets))\r\n  //   )\r\n\r\n  //   const ibc = terraswapAvailableList\r\n  //     .filter(isDenomIBC)\r\n  //     .filter((denom) => ibcWhitelist[denom.replace(\"ibc/\", \"\")])\r\n\r\n  //   const cw20 = terraswapAvailableList\r\n  //     .filter(AccAddress.validate)\r\n  //     .filter((token) => cw20Whitelist[token])\r\n\r\n  //   return { ibc, cw20 }\r\n  // }, [cw20Whitelist, ibcWhitelist, pairs])\r\n\r\n\r\n\r\n  // BALANCES DE TOKENS (NO MONEDAS, NO TENEMOS NINGUNA)\r\n  // Fetch cw20 balances: only listed and added by the user\r\n  // const cw20TokensBalanceRequired = useMemo(() => {\r\n  //   if (!terraswapAvailableList) return []\r\n  //   return customTokens.filter((token) =>\r\n  //     terraswapAvailableList.cw20.includes(token)\r\n  //   )\r\n  // }, [customTokens, terraswapAvailableList])\r\n\r\n  // const cw20TokensBalancesState = useTokenBalances(cw20TokensBalanceRequired)\r\n  // const cw20TokensBalancesState = [] \r\n  // console.log('[SINGLESWAPCONTEXT] cw20TokensBalancesState:')\r\n  // console.log(cw20TokensBalancesState)\r\n\r\n  // const cw20TokensBalances = useMemo(() => {\r\n  //   if (cw20TokensBalancesState.some(({ isSuccess }) => !isSuccess)) return\r\n\r\n  //   return zipObj(\r\n  //     cw20TokensBalanceRequired,\r\n  //     cw20TokensBalancesState.map(({ data }) => {\r\n  //       if (!data) throw new Error()\r\n  //       return data\r\n  //     })\r\n  //   )\r\n  // }, [cw20TokensBalanceRequired, cw20TokensBalancesState])\r\n\r\n  \r\n  // CONTEXTO PARA EL SWAP\r\n  const context = useMemo(() => {\r\n    // if (!(terraswapAvailableList && ibcWhitelist && cw20Whitelist)) return\r\n    // if (!cw20TokensBalances) return\r\n\r\n    /* options contiene las listas de monedas y tokens. Tiene la forma:\r\n    options = {\r\n      coins: [\r\n        {\r\n          balance: \"19103\"\r\n          decimals: 6\r\n          icon: \"https://assets.terra.money/icon/svg/Terra/UST.svg\"\r\n          name: \"Terra USD\"\r\n          symbol: \"USTC\"\r\n          token: \"uusd\"\r\n        },\r\n        {\r\n          balance: \"0\"\r\n          decimals: 6\r\n          icon: \"https://assets.terra.money/icon/svg/Terra/EUT.svg\"\r\n          name: \"Terra EUR\"\r\n          symbol: \"EUTC\"\r\n          token: \"ueur\"\r\n        },\r\n        ...\r\n      ]\r\n      tokens: [\r\n        {\r\n          balance: \"0\"\r\n          decimals: 8\r\n          icon: \"https://static.lido.fi/stSOL/stSOL.png\"\r\n          name: \"Lido wstSOL (Portal)\"\r\n          protocol: \"Wormhole\"\r\n          symbol: \"wstSOL\"\r\n          token: \"terra1t9ul45l7m6jw6sxgvnp8e5hj8xzkjsg82g84ap\"\r\n        },\r\n        ...\r\n      ]\r\n    }\r\n    */\r\n    const options = {\r\n      coins: [\r\n        {\r\n          balance: \"757869711\",\r\n          decimals: 6,\r\n          icon: \"https://assets.terra.money/icon/svg/LUNC.svg\",\r\n          name: undefined,\r\n          symbol: \"LUNC\",\r\n          token: \"uluna\",\r\n        },\r\n        {\r\n          balance: \"19103\",\r\n          decimals: 6,\r\n          icon: \"https://assets.terra.money/icon/svg/Terra/UST.svg\",\r\n          name: \"Terra USD\",\r\n          symbol: \"USTC\",\r\n          token: \"uusd\"\r\n        }\r\n      ],\r\n      tokens: [\r\n        {\r\n          balance: \"100000000000000\",\r\n          decimals: 12,\r\n          icon: \"https://static.lido.fi/stSOL/stSOL.png\",\r\n          name: \"Geminon\",\r\n          protocol: \"Geminon Protocol\",\r\n          symbol: \"GEX\",\r\n          token: \"terra1t9ul45l7m6jw6sxgvnp8e5hj8xzkjsg82g84ap\",\r\n        }\r\n      ]\r\n    }\r\n\r\n\r\n    const findTokenItem = (token: Token) => {\r\n      const key = AccAddress.validate(token) || isDenomIBC(token) ? \"tokens\" : \"coins\"\r\n\r\n      const option = options[key].find((item) => item.token === token)\r\n      if (!option) throw new Error()\r\n      return option\r\n    }\r\n\r\n    const findDecimals = (token: Token) => findTokenItem(token).decimals\r\n\r\n    const calcExpected = (params: SlippageParams) => {\r\n      const { offerAsset, askAsset, input, slippageInput, ratio } = params\r\n      const offerDecimals = findDecimals(offerAsset)\r\n      const askDecimals = findDecimals(askAsset)\r\n\r\n      /* terraswap */\r\n      const belief_price = new BigNumber(ratio)\r\n        .dp(18, BigNumber.ROUND_DOWN)\r\n        .toString()\r\n\r\n      /* routeswap | on-chain */\r\n      const max_spread = new BigNumber(slippageInput).div(100).toString()\r\n      const amount = toAmount(input, { decimals: offerDecimals })\r\n      const value = Number(amount) / ratio\r\n      const minimum_receive = calcMinimumReceive(value, max_spread)\r\n\r\n      /* expected price */\r\n      const decimals = askDecimals - offerDecimals\r\n      const price = toPrice(\r\n        new BigNumber(ratio).times(new BigNumber(10).pow(decimals))\r\n      )\r\n\r\n      return { max_spread, belief_price, minimum_receive, price }\r\n    }\r\n\r\n    return { options, findTokenItem, findDecimals, calcExpected }\r\n  }, [\r\n    // currency,\r\n    // bankBalance,\r\n    // activeDenoms,\r\n    // ibcWhitelist,\r\n    // cw20Whitelist,\r\n    // terraswapAvailableList,\r\n    // cw20TokensBalances,\r\n    // isClassic,\r\n  ])\r\n\r\n  /* const state = combineState(\r\n    // ibcWhitelistState,\r\n    // cw20WhitelistState,\r\n    // ...cw20TokensBalancesState\r\n  ) */\r\n  // MOCK STATE\r\n  const state = {\r\n    error: undefined,\r\n    isFetching: false,\r\n    isIdle: false,\r\n    isLoading: false,\r\n    isSuccess: true\r\n  }\r\n\r\n  const render = () => {\r\n    if (!context) return null\r\n    return <SingleSwapProvider value={context}>{children}</SingleSwapProvider>\r\n  }\r\n\r\n  return <Card {...state}>{render()}</Card>\r\n}\r\n\r\n\r\n\r\nexport default SingleSwapContext\r\n\r\n\r\n/* type guard */\r\nexport const validateSlippageParams = (\r\n  params: Partial<SlippageParams>\r\n): params is SlippageParams => {\r\n  const { input, slippageInput, ratio, ...assets } = params\r\n  return !!(validateAssets(assets) && input && slippageInput && ratio)\r\n}\r\n\r\n/* minimum received */\r\nexport const calcMinimumReceive = (\r\n  simulatedValue: Value,\r\n  max_spread: string\r\n) => {\r\n  const minRatio = new BigNumber(1).minus(max_spread)\r\n  const value = new BigNumber(simulatedValue).times(minRatio)\r\n  return value.integerValue(BigNumber.ROUND_FLOOR).toString()\r\n}\r\n\r\n\r\n\r\n\r\n// const SingleSwapContext = ({ children }: PropsWithChildren<{}>) => {\r\n//   const currency = useCurrency()\r\n//   const isClassic = useIsClassic()\r\n//   const bankBalance = useBankBalance()\r\n//   const { activeDenoms, pairs } = useSwap()\r\n//   const { list } = useCustomTokensCW20()\r\n//   const customTokens = list.map(({ token }) => token)\r\n\r\n//   /* contracts */\r\n//   const { data: ibcWhitelist, ...ibcWhitelistState } = useIBCWhitelist()\r\n//   const { data: cw20Whitelist, ...cw20WhitelistState } = useCW20Whitelist()\r\n\r\n//   // Why?\r\n//   // To search tokens with symbol (ibc, cw20)\r\n//   // To filter tokens with balance (cw20)\r\n//   const terraswapAvailableList = useMemo(() => {\r\n//     if (!(ibcWhitelist && cw20Whitelist)) return\r\n\r\n//     const terraswapAvailableList = uniq(\r\n//       flatten(Object.values(pairs).map(({ assets }) => assets))\r\n//     )\r\n\r\n//     const ibc = terraswapAvailableList\r\n//       .filter(isDenomIBC)\r\n//       .filter((denom) => ibcWhitelist[denom.replace(\"ibc/\", \"\")])\r\n\r\n//     const cw20 = terraswapAvailableList\r\n//       .filter(AccAddress.validate)\r\n//       .filter((token) => cw20Whitelist[token])\r\n\r\n//     return { ibc, cw20 }\r\n//   }, [cw20Whitelist, ibcWhitelist, pairs])\r\n\r\n//   // Fetch cw20 balances: only listed and added by the user\r\n//   const cw20TokensBalanceRequired = useMemo(() => {\r\n//     if (!terraswapAvailableList) return []\r\n//     return customTokens.filter((token) =>\r\n//       terraswapAvailableList.cw20.includes(token)\r\n//     )\r\n//   }, [customTokens, terraswapAvailableList])\r\n\r\n//   const cw20TokensBalancesState = useTokenBalances(cw20TokensBalanceRequired)\r\n//   const cw20TokensBalances = useMemo(() => {\r\n//     if (cw20TokensBalancesState.some(({ isSuccess }) => !isSuccess)) return\r\n\r\n//     return zipObj(\r\n//       cw20TokensBalanceRequired,\r\n//       cw20TokensBalancesState.map(({ data }) => {\r\n//         if (!data) throw new Error()\r\n//         return data\r\n//       })\r\n//     )\r\n//   }, [cw20TokensBalanceRequired, cw20TokensBalancesState])\r\n\r\n//   const context = useMemo(() => {\r\n//     if (!(terraswapAvailableList && ibcWhitelist && cw20Whitelist)) return\r\n//     if (!cw20TokensBalances) return\r\n\r\n//     const coins = sortDenoms(activeDenoms, currency).map((denom) => {\r\n//       const balance = getAmount(bankBalance, denom)\r\n//       return { ...readNativeDenom(denom, isClassic), balance }\r\n//     })\r\n\r\n//     const ibc = terraswapAvailableList.ibc.map((denom) => {\r\n//       const item = ibcWhitelist[denom.replace(\"ibc/\", \"\")]\r\n//       const balance = getAmount(bankBalance, denom)\r\n//       return { ...readIBCDenom(item), balance }\r\n//     })\r\n\r\n//     const cw20 = terraswapAvailableList.cw20.map((token) => {\r\n//       const balance = cw20TokensBalances[token] ?? \"0\"\r\n//       return { ...cw20Whitelist[token], balance }\r\n//     })\r\n\r\n//     const options = { coins, tokens: [...ibc, ...cw20] }\r\n\r\n//     const findTokenItem = (token: Token) => {\r\n//       const key = AccAddress.validate(token) || isDenomIBC(token) ? \"tokens\" : \"coins\"\r\n\r\n//       const option = options[key].find((item) => item.token === token)\r\n//       if (!option) throw new Error()\r\n//       return option\r\n//     }\r\n\r\n//     const findDecimals = (token: Token) => findTokenItem(token).decimals\r\n\r\n//     const calcExpected = (params: SlippageParams) => {\r\n//       const { offerAsset, askAsset, input, slippageInput, ratio } = params\r\n//       const offerDecimals = findDecimals(offerAsset)\r\n//       const askDecimals = findDecimals(askAsset)\r\n\r\n//       /* terraswap */\r\n//       const belief_price = new BigNumber(ratio)\r\n//         .dp(18, BigNumber.ROUND_DOWN)\r\n//         .toString()\r\n\r\n//       /* routeswap | on-chain */\r\n//       const max_spread = new BigNumber(slippageInput).div(100).toString()\r\n//       const amount = toAmount(input, { decimals: offerDecimals })\r\n//       const value = Number(amount) / ratio\r\n//       const minimum_receive = calcMinimumReceive(value, max_spread)\r\n\r\n//       /* expected price */\r\n//       const decimals = askDecimals - offerDecimals\r\n//       const price = toPrice(\r\n//         new BigNumber(ratio).times(new BigNumber(10).pow(decimals))\r\n//       )\r\n\r\n//       return { max_spread, belief_price, minimum_receive, price }\r\n//     }\r\n\r\n//     return { options, findTokenItem, findDecimals, calcExpected }\r\n//   }, [\r\n//     currency,\r\n//     bankBalance,\r\n//     activeDenoms,\r\n//     ibcWhitelist,\r\n//     cw20Whitelist,\r\n//     terraswapAvailableList,\r\n//     cw20TokensBalances,\r\n//     isClassic,\r\n//   ])\r\n\r\n//   const state = combineState(\r\n//     ibcWhitelistState,\r\n//     cw20WhitelistState,\r\n//     ...cw20TokensBalancesState\r\n//   )\r\n\r\n//   const render = () => {\r\n//     if (!context) return null\r\n//     return <SingleSwapProvider value={context}>{children}</SingleSwapProvider>\r\n//   }\r\n\r\n//   return <Card {...state}>{render()}</Card>\r\n// }\r\n\r\n\r\n\r\n","import { Fragment, ReactNode } from \"react\"\r\nimport { useCallback, useEffect, useMemo, useState } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { QueryKey, useQuery } from \"react-query\"\r\n// import { useNavigate } from \"react-router-dom\"\r\nimport { useAccount, useContractRead, useNetwork, erc20ABI } from 'wagmi'\r\nimport { usePrepareContractWrite, useContractWrite, useWaitForTransaction } from 'wagmi'\r\nimport { useRecoilValue, useSetRecoilState } from \"recoil\"\r\nimport classNames from \"classnames\"\r\nimport BigNumber from \"bignumber.js\"\r\nimport { head, isNil } from \"ramda\"\r\n\r\nimport AccountBalanceWalletIcon from \"@mui/icons-material/AccountBalanceWallet\"\r\nimport ErrorOutlineIcon from \"@mui/icons-material/ErrorOutline\"\r\nimport CheckCircleOutlineIcon from \"@mui/icons-material/CheckCircleOutline\"\r\nimport CheckIcon from \"@mui/icons-material/Check\"\r\n// import { isDenom, isDenomIBC, readDenom } from \"@terra.kitchen/utils\"\r\nimport { Coin, Coins, LCDClient } from \"@terra-money/terra.js\"\r\nimport { CreateTxOptions, Fee } from \"@terra-money/terra.js\"\r\nimport { ConnectType, UserDenied } from \"@terra-money/wallet-types\"\r\nimport { CreateTxFailed, TxFailed } from \"@terra-money/wallet-types\"\r\n// import { useWallet, useConnectedWallet } from \"@terra-money/use-wallet\"\r\n\r\nimport { Contents } from \"types/components\"\r\nimport { has } from \"utils/num\"\r\nimport { getAmount, sortCoins } from \"utils/coin\"\r\nimport { getErrorMessage } from \"utils/error\"\r\n// import { getLocalSetting, SettingKey } from \"utils/localStorage\"\r\n// import { useCurrency } from \"data/settings/Currency\"\r\nimport { combineState, queryKey, RefetchOptions, useIsClassic } from \"data/query\"\r\n// import { useAddress, useNetwork } from \"data/wallet\"\r\nimport { isBroadcastingState, latestTxState } from \"data/queries/tx\"\r\n// import { useBankBalance, useIsWalletEmpty } from \"data/queries/bank\"\r\n\r\nimport { Pre } from \"components/general\"\r\nimport { Flex, Grid } from \"components/layout\"\r\nimport { FormError, Submit, Select, Input, FormItem } from \"components/form\"\r\nimport Approve from \"components/form/Approve\"\r\nimport { Modal } from \"components/feedback\"\r\nimport { Details } from \"components/display\"\r\nimport { Read } from \"components/token\"\r\nimport ConnectWallet from \"app/sections/ConnectWallet\"\r\nimport useToPostMultisigTx from \"pages/multisig/utils/useToPostMultisigTx\"\r\n// import { isWallet, useAuth } from \"auth\"\r\n// import { PasswordError } from \"auth/scripts/keystore\"\r\n\r\n// import { toInput } from \"./utils\"\r\n// import { useTx } from \"./TxContext\"\r\nimport styles from \"./Tx.module.scss\"\r\n\r\nimport {tokensList, contractsInfo, useTokenInfo} from \"./mint/MintForm\"\r\n\r\n\r\n// Interfaz TxValues definido en SwapForm\r\ninterface Props<TxValues> {\r\n  /* Only when the token is paid out of the balance held */\r\n  newProps?: any\r\n  symbol?: string\r\n  decimals?: number\r\n  amount?: Amount\r\n  balance?: Amount\r\n\r\n  /* tx simulation */\r\n  initialGasDenom: CoinDenom\r\n  estimationTxValues?: TxValues\r\n  createTx: (values: TxValues) => CreateTxOptions | undefined\r\n  excludeGasDenom?: (denom: string) => boolean\r\n\r\n  /* render */\r\n  disabled?: string | false\r\n  children: (props: RenderProps<TxValues>) => ReactNode\r\n  onChangeMax?: (input: number) => void\r\n\r\n  /* on tx success */\r\n  onPost?: () => void\r\n  redirectAfterTx?: { label: string; path: string }\r\n  queryKeys?: QueryKey[]\r\n}\r\n\r\n\r\ntype RenderMax = (onClick?: (max: Amount) => void) => ReactNode\r\n\r\ninterface RenderProps<TxValues> {\r\n  max: { amount: Amount; render: RenderMax; reset: () => void }\r\n  fee: { render: (descriptions?: Contents) => ReactNode }\r\n  submit: { fn: (values: TxValues) => void; button: ReactNode }\r\n}\r\n\r\n\r\n\r\n\r\nconst useApproved = (tokenAddress:string|undefined, enable:boolean) => {\r\n  console.log(\"[useApproved] tokenAddress, enable:\", tokenAddress, enable)\r\n  const { address, isConnected } = useAccount()\r\n\r\n  const contract = {\r\n      addressOrName: tokenAddress ?? \"\",\r\n      contractInterface: erc20ABI,\r\n      functionName: \"allowance\",\r\n      args: [address, contractsInfo.minter.address],\r\n      enabled: isConnected && enable\r\n    }\r\n  \r\n  const { data, refetch, ...status } = useContractRead(contract)\r\n  console.log(\"[useApproved] allowedAmount, status:\", data, status)\r\n  \r\n  return {allowedAmount: data?.toString(), refetchAllowance: refetch}\r\n}\r\n\r\n\r\nconst useInfiniteApprove = (tokenAddress:string, enable:boolean) => {\r\n  const { isConnected } = useAccount()\r\n\r\n  const maxUint256 = new BigNumber(2).exponentiatedBy(256).minus(1).toFixed()\r\n\r\n  const contract = {\r\n    // mode: 'recklesslyUnprepared' as 'recklesslyUnprepared',\r\n    addressOrName: tokenAddress,\r\n    contractInterface: erc20ABI,\r\n    functionName: \"approve\",\r\n    args: [contractsInfo.minter.address, maxUint256],\r\n    enabled: isConnected && enable\r\n  }\r\n  \r\n  const { config, ...prepareState } = usePrepareContractWrite(contract)\r\n  if (prepareState.error) console.log(\"[useInfiniteApprove] Prepare contract ERROR:\", prepareState.error)\r\n  \r\n  const { data, write, ...writeState } = useContractWrite(config)\r\n  \r\n  const { ...waitState } = useWaitForTransaction({ \r\n    hash: data?.hash,\r\n    confirmations: 2, \r\n  })\r\n  \r\n  const state = combineState(writeState, waitState)\r\n  console.log(\"[useInfiniteApprove] Combined state, enabled:\", state, enable)\r\n\r\n  return { write, ...state }\r\n}\r\n\r\n\r\nconst useSubmitTx = (offerAsset:string, stablecoinSymbol:string, inAmount:string, enable:boolean) => {\r\n  const { isConnected } = useAccount()\r\n  const { scAddress } = useTokenInfo(stablecoinSymbol ?? \"USDI\")\r\n\r\n  const swapFunction = offerAsset == \"GEX\" ? \"mintStablecoin\" : \"redeemStablecoin\"\r\n  \r\n  const contract = {\r\n    // mode: 'recklesslyUnprepared' as 'recklesslyUnprepared',\r\n    addressOrName: contractsInfo.minter.address,\r\n    contractInterface: contractsInfo.minter.abi,\r\n    functionName: swapFunction,\r\n    args: [scAddress, inAmount],\r\n    enabled: isConnected && enable\r\n  }\r\n\r\n  const { config, ...prepareState } = usePrepareContractWrite(contract)\r\n  if (prepareState.error) console.log(\"[useSubmitTx] Prepare contract ERROR:\", prepareState.error)\r\n  \r\n  const { data, write, ...writeState } = useContractWrite(config)\r\n  \r\n  const { ...waitState } = useWaitForTransaction({ \r\n    hash: data?.hash,\r\n    confirmations: 4, \r\n  })\r\n  \r\n  const state = combineState(writeState, waitState)\r\n  console.log(\"[useSubmitTx] Combined state, enabled:\", state, enable)\r\n\r\n  return { write, ...state }\r\n}\r\n\r\n\r\n\r\nconst isAmountApproved = (allowed: string, requested: string) => {\r\n  if (allowed == \"0\") return false\r\n  return new BigNumber(allowed).gte(new BigNumber(requested))\r\n}\r\n\r\n\r\n\r\n\r\ninterface TxProps {\r\n  symbol: string | undefined,\r\n  scSymbol: string,\r\n  decimals: number,\r\n  balance: string | undefined,\r\n  inAmount: string,\r\n  outAmount: string | undefined,\r\n  feePerc: string | undefined,\r\n  resetForm: () => void\r\n}\r\n\r\n\r\n\r\n\r\nfunction Txm<TxValues>(props: Props<TxValues>) {\r\n  const { newProps } = props\r\n  const { symbol, scSymbol, decimals, balance, inAmount, outAmount, feePerc, resetForm } = newProps as TxProps\r\n  console.log(\"[TX] START - newProps:\", newProps)\r\n  \r\n  const { children } = props\r\n\r\n  // INTERNAL STATE\r\n  const [isApproved, setIsApproved] = useState(false)\r\n  const [isMax, setIsMax] = useState(false)\r\n  const [submitting, setSubmitting] = useState(false)\r\n  const [error, setError] = useState<Error>()\r\n  \r\n\r\n  // context\r\n  const { isConnected } = useAccount()\r\n  const { t } = useTranslation()\r\n  \r\n  \r\n  const assetsList = [...tokensList]\r\n  const findAssetBySymbol = (symbol: string) => assetsList.find((item) => item.symbol === symbol)\r\n  \r\n  const offerAssetItem = symbol ? findAssetBySymbol(symbol) : undefined\r\n\r\n  const enableHooks = !!offerAssetItem && !!scSymbol && !!inAmount && !!outAmount && !error\r\n  if (!enableHooks) console.log(\"[TX] Hooks DISABLED: symbols, amounts, error\", symbol, scSymbol, inAmount, outAmount, error)\r\n  \r\n  \r\n  const { allowedAmount, refetchAllowance, ...allowanceStatus } = useApproved(offerAssetItem?.address, enableHooks)\r\n  console.log(\"[TX] Allowed Amount:\", allowedAmount)\r\n  if (allowedAmount) console.log(\"[TX] is Amount Approved:\", isAmountApproved(allowedAmount, inAmount))\r\n\r\n  \r\n  \r\n  if (!!allowedAmount && inAmount!=\"0\") {\r\n    if (!isApproved && isAmountApproved(allowedAmount, inAmount)) \r\n      setIsApproved(true)\r\n    else if (isApproved && !isAmountApproved(allowedAmount, inAmount)) \r\n      setIsApproved(false)\r\n  }\r\n    \r\n\r\n  const {write: writeApprove, ...approveStatus} = \r\n    useInfiniteApprove(offerAssetItem?.address ?? \"\", enableHooks)\r\n  \r\n  const {write: writeSubmit, ...submitStatus} = \r\n    useSubmitTx(symbol ?? \"\", scSymbol, inAmount, enableHooks && isApproved)\r\n\r\n\r\n  // useEffect avoids error window repeating after closing it\r\n  useEffect(() => {\r\n    if (approveStatus.error && !error) {\r\n      console.log(\"[TX][useEffect] APPROVE ERROR:\", approveStatus.error)\r\n      setError(approveStatus.error as Error)\r\n      setSubmitting(false)\r\n    }\r\n    else if (submitStatus.error && !error) {\r\n      console.log(\"[TX][useEffect] SUBMIT ERROR:\", submitStatus.error)\r\n      setError(submitStatus.error as Error)\r\n      setSubmitting(false)\r\n    }\r\n  }, [approveStatus.error, submitStatus.error])\r\n\r\n  \r\n  if (approveStatus.isSuccess && !isApproved && !submitting) {\r\n    console.log(\"[TX] APPROVE SUCCESS, REFETCHING ALLOWANCE\")\r\n    refetchAllowance()\r\n    console.log(\"[TX] APPROVE SUCCESS, allowedAmount\", allowedAmount)\r\n  }\r\n\r\n\r\n  const max = !balance ? undefined : balance\r\n  \r\n  // TODO: Este lo usaremos si el slippage es mayor q el establecido para que muestre \r\n  // la advertencia en rojo debajo del formulario y desactive los botones\r\n  const disabled = \"\"  \r\n\r\n    \r\n  // SEND TRANSACTIONS  \r\n  // FUNCIÓN QUE SE PASA A handleSubmit (onClick)\r\n  const onSubmit = () => {\r\n    if (enableHooks) {\r\n      setSubmitting(true)\r\n      \r\n      if (!isApproved) {\r\n        writeApprove?.()\r\n        console.log(\"[TX] APPROVAL SUBMITTED\")\r\n      }\r\n      else {\r\n        writeSubmit?.()\r\n        console.log(\"[TX] TRANSACTION SUBMITTED\")\r\n      }\r\n    }\r\n  }\r\n\r\n  const submittingLabel = \"\" // isWallet.ledger(wallet) ? t(\"Confirm in ledger\") : \"\"\r\n\r\n\r\n  // render\r\n  const balanceAfterTx =\r\n    balance &&\r\n    inAmount &&\r\n    new BigNumber(balance)\r\n      .minus(inAmount)\r\n      // .minus((gasFee.denom === token && gasFee.amount) || 0)\r\n      .toString()\r\n  \r\n  // Pone la cantidad en rojo si es menor que 0\r\n  const insufficient = balanceAfterTx ? new BigNumber(balanceAfterTx).lt(0) : false\r\n\r\n  \r\n  // element\r\n  const resetMax = () => setIsMax(false)\r\n  const renderMax: RenderMax = (onClick) => {\r\n    if (!(max && has(max))) return null // has() función de big number, dejar\r\n\r\n    // (2) BOTÓN Y VALOR BALANCE MÁXIMO SOBRE INPUT CAJA 1 (TOKEN ENTRADA)\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className={classNames({ muted: !isMax })}\r\n        onClick={onClick ? () => onClick(max) : () => setIsMax(!isMax)}\r\n      >\r\n        <Flex gap={4} start>\r\n          <AccountBalanceWalletIcon\r\n            fontSize=\"inherit\"\r\n            className={styles.icon}\r\n          />\r\n          {/* Componente que renderiza el valor y el icono de tipo de moneda */}\r\n          <Read amount={max} token={symbol} decimals={decimals} />\r\n        </Flex>\r\n      </button>\r\n    )\r\n  }\r\n\r\n  \r\n  // (11) DETALLES TRANSACCIÓN: CAJA NEGRA QUE APARECE JUSTO SOBRE\r\n  // EL BOTÓN DE SUBMIT CON FEE, BALANCE Y BALANCE AFTER TX.\r\n  // LOS DATOS QUE MUESTRA SON UN POCO REPETITIVOS.\r\n  const renderFee = (descriptions?: Contents) => {\r\n    return null\r\n    // if (!isConnected || inAmount==\"0\") return null    \r\n    // return (\r\n    //   <Details>\r\n    //     <dl>\r\n    //       {descriptions?.map(({ title, content }, index) => (\r\n    //         <Fragment key={index}>\r\n    //           <dt>{title}</dt>\r\n    //           <dd>{content}</dd>\r\n    //         </Fragment>\r\n    //       ))}\r\n\r\n    //       <dt className={styles.gas}>\r\n    //         {t(\"Network fee (gas)\")}\r\n    //         {/* {availableGasDenoms.length > 1 && (\r\n    //           <Select\r\n    //             value={gasDenom}\r\n    //             onChange={(e) => setGasDenom(e.target.value)}\r\n    //             className={styles.select}\r\n    //             small\r\n    //           >\r\n    //             {availableGasDenoms.map((denom) => (\r\n    //               <option value={denom} key={denom}>\r\n    //                 {readDenom(denom)}\r\n    //               </option>\r\n    //             ))}\r\n    //           </Select>\r\n    //         )} */}\r\n    //       </dt>\r\n    //       <dd>{feePerc && <Read amount={feePerc} />}</dd>\r\n\r\n    //       {balanceAfterTx && (\r\n    //         <>\r\n    //           <dt>{t(\"Balance\")}</dt>\r\n    //           <dd>\r\n    //             <Read amount={balance} token={symbol} decimals={decimals} />\r\n    //           </dd>\r\n\r\n    //           <dt>{t(\"Balance after tx\")}</dt>\r\n    //           <dd>\r\n    //             <Read\r\n    //               amount={balanceAfterTx}\r\n    //               token={symbol}\r\n    //               decimals={decimals}\r\n    //               className={classNames(insufficient && \"danger\")}\r\n    //             />\r\n    //           </dd>\r\n    //         </>\r\n    //       )}\r\n    //     </dl>\r\n    //   </Details>\r\n    // )\r\n  }\r\n\r\n  const { chain } = useNetwork()\r\n  const isWrongNetwork = chain && chain.id != 42\r\n\r\n  const submitButton = (\r\n    <>\r\n      {isWrongNetwork && <FormError>{\"Switch to Kovan testnet\"}</FormError>}\r\n\r\n      {!isConnected ? (\r\n        <ConnectWallet\r\n          renderButton={(open) => (\r\n            <Submit type=\"button\" onClick={open}>\r\n              {t(\"Connect wallet\")}\r\n            </Submit>\r\n          )}\r\n        />\r\n      ) : (\r\n        <Grid gap={4}>\r\n          {/* {failed && <FormError>{failed}</FormError>} */}\r\n\r\n          {!!inAmount && inAmount!=\"0\" && !isApproved ? (\r\n            <Approve\r\n              disabled={!!disabled || approveStatus.isLoading || !enableHooks || isWrongNetwork}\r\n              submitting={submitting}\r\n            >\r\n            {submitting ? submittingLabel : disabled}\r\n            </Approve>\r\n          ) : !!inAmount && inAmount!=\"0\" ? (\r\n            <Submit\r\n              disabled={!!disabled || submitStatus.isLoading || !enableHooks || isWrongNetwork}\r\n              submitting={submitting}\r\n            >\r\n            {submitting ? submittingLabel : disabled}\r\n            </Submit>\r\n          ) : null}\r\n          \r\n        </Grid>\r\n      )}\r\n    </>\r\n  )\r\n\r\n  // TEXTO DEL MODAL QUE APARECE SI HAY UN ERROR\r\n  const errorDescription = !error\r\n    ? undefined\r\n    : {\r\n        title:\r\n          error instanceof UserDenied\r\n            ? t(\"User denied\")\r\n            : error instanceof CreateTxFailed\r\n            ? t(\"Failed to create tx\")\r\n            : error instanceof TxFailed\r\n            ? t(\"Tx failed\")\r\n            : t(\"Error\"),\r\n        children:\r\n          error instanceof UserDenied ? null : (\r\n            <Pre height={120} normal break>\r\n              {error.message}\r\n            </Pre>\r\n          ),\r\n      }\r\n\r\n  // (0) ESTE FRAGMENTO ES LA CAJA DEL SWAP: LOS FRAGMENTOS\r\n  // DEFINIDOS AQUÍ SE PASAN A SWAPFORM EN LOS OBJETOS\r\n  // max, fee y submit Y SE RENDERIZAN\r\n  // JUNTO CON LOS DEMÁS ELEMENTOS QUE ESTÁN ALLÍ.    \r\n  return (\r\n    <>\r\n      {children({\r\n        max: { amount: max ?? \"0\", render: renderMax, reset: resetMax },\r\n        fee: { render: renderFee },\r\n        submit: { fn: onSubmit, button: submitButton },\r\n      })}\r\n\r\n      {/* VENTANA DE ERROR, MUESTRA EL TEXTO DEFINIDO EN errorModal */}\r\n      {errorDescription && (\r\n        <Modal\r\n          {...errorDescription}\r\n          icon={<ErrorOutlineIcon fontSize=\"inherit\" className=\"danger\" />}\r\n          onRequestClose={() => {\r\n            setError(undefined)\r\n            setSubmitting(false)\r\n            resetForm()\r\n          }}\r\n          isOpen\r\n        />\r\n      )}\r\n\r\n      {approveStatus.isSuccess && submitting && !isApproved && (\r\n        <Modal\r\n          {...{title: \"Approved\"}}\r\n          icon={<CheckIcon fontSize=\"inherit\" className=\"success\" />}\r\n          onRequestClose={() => {\r\n            setSubmitting(false)\r\n            setIsApproved(true)\r\n          }}\r\n          isOpen\r\n        />\r\n      )}\r\n\r\n      {submitStatus.isSuccess && submitting && isApproved && (\r\n        <Modal\r\n          {...{title: \"Success\"}}\r\n          icon={<CheckCircleOutlineIcon fontSize=\"inherit\" className=\"success\" />}\r\n          onRequestClose={() => {\r\n            setSubmitting(false)\r\n            resetForm()\r\n          }}\r\n          isOpen\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\nexport default Txm\r\n\r\n\r\n\r\n\r\n/* utils */\r\nexport const getInitialGasDenom = (bankBalance: Coins) => {\r\n  const denom = head(sortCoins(bankBalance))?.denom ?? \"uusd\"\r\n  const uusd = getAmount(bankBalance, \"uusd\")\r\n  return has(uusd) ? \"uusd\" : denom\r\n}\r\n\r\ninterface Params {\r\n  balance: Amount\r\n  gasAmount: Amount\r\n}\r\n\r\n// Receive gas and return the maximum payment amount\r\nexport const calcMax = ({ balance, gasAmount }: Params) => {\r\n  const available = new BigNumber(balance).minus(gasAmount)\r\n\r\n  const max = BigNumber.max(new BigNumber(available), 0)\r\n    .integerValue(BigNumber.ROUND_FLOOR)\r\n    .toString()\r\n\r\n  return max\r\n}\r\n\r\n/* hooks */\r\nexport const useTxKey = () => {\r\n  const { txhash } = useRecoilValue(latestTxState)\r\n  const [key, setKey] = useState(txhash)\r\n\r\n  useEffect(() => {\r\n    if (txhash) setKey(txhash)\r\n  }, [txhash])\r\n\r\n  return key\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// function Tx<TxValues>(props: Props<TxValues>) {\r\n//   const { token, decimals, amount, balance } = props\r\n//   const { initialGasDenom, estimationTxValues, createTx } = props\r\n//   const { excludeGasDenom } = props\r\n//   const { children, onChangeMax } = props\r\n//   const { onPost, redirectAfterTx, queryKeys } = props\r\n\r\n//   const [isMax, setIsMax] = useState(false)\r\n//   const [gasDenom, setGasDenom] = useState(initialGasDenom)\r\n\r\n//   // context\r\n//   const { t } = useTranslation()\r\n//   const isClassic = useIsClassic()\r\n//   const currency = useCurrency()\r\n//   const network = useNetwork()\r\n//   const { post } = useWallet()\r\n//   const connectedWallet = useConnectedWallet()\r\n//   const { wallet, validatePassword, ...auth } = useAuth()\r\n//   const address = useAddress()\r\n//   const isWalletEmpty = useIsWalletEmpty()\r\n//   const setLatestTx = useSetRecoilState(latestTxState)\r\n//   const isBroadcasting = useRecoilValue(isBroadcastingState)\r\n//   const bankBalance = useBankBalance()\r\n//   const { gasPrices } = useTx()\r\n\r\n//   // simulation: estimate gas\r\n//   const simulationTx = estimationTxValues && createTx(estimationTxValues)\r\n//   const gasAdjustment = getLocalSetting<number>(SettingKey.GasAdjustment)\r\n//   const key = {\r\n//     address,\r\n//     network,\r\n//     initialGasDenom,\r\n//     gasPrices,\r\n//     gasAdjustment,\r\n//     tx: simulationTx,\r\n//   }\r\n\r\n//   const { data: estimatedGas, ...estimatedGasState } = useQuery(\r\n//     [queryKey.tx.create, key],\r\n//     async () => {\r\n//       if (!address || isWalletEmpty) return 0\r\n//       if (!(wallet || connectedWallet?.availablePost)) return 0\r\n//       if (!simulationTx || !simulationTx.msgs.length) return 0\r\n\r\n//       const config = {\r\n//         ...network,\r\n//         URL: network.lcd,\r\n//         gasAdjustment,\r\n//         gasPrices: { [initialGasDenom]: gasPrices[initialGasDenom] },\r\n//       }\r\n\r\n//       const lcd = new LCDClient(config)\r\n\r\n//       const unsignedTx = await lcd.tx.create([{ address }], {\r\n//         ...simulationTx,\r\n//         feeDenoms: [initialGasDenom],\r\n//       })\r\n\r\n//       return unsignedTx.auth_info.fee.gas_limit\r\n//     },\r\n//     {\r\n//       ...RefetchOptions.INFINITY,\r\n//       // To handle sequence mismatch\r\n//       retry: 3,\r\n//       retryDelay: 1000,\r\n//       // Because the focus occurs once when posting back from the extension\r\n//       refetchOnWindowFocus: false,\r\n//       enabled: !isBroadcasting,\r\n//     }\r\n//   )\r\n\r\n//   const getGasAmount = useCallback(\r\n//     (denom: CoinDenom) => {\r\n//       const gasPrice = gasPrices[denom]\r\n//       if (isNil(estimatedGas) || !gasPrice) return \"0\"\r\n//       return new BigNumber(estimatedGas)\r\n//         .times(gasPrice)\r\n//         .integerValue(BigNumber.ROUND_CEIL)\r\n//         .toString()\r\n//     },\r\n//     [estimatedGas, gasPrices]\r\n//   )\r\n\r\n//   const gasAmount = getGasAmount(gasDenom)\r\n//   const gasFee = { amount: gasAmount, denom: gasDenom }\r\n\r\n//   // max \r\n//   const getNativeMax = () => {\r\n//     if (!balance) return\r\n//     const gasAmount = gasFee.denom === token ? gasFee.amount : \"0\"\r\n//     return calcMax({ balance, gasAmount })\r\n//   }\r\n\r\n//   const max = !gasFee.amount\r\n//     ? undefined\r\n//     : isDenom(token)\r\n//     ? getNativeMax()\r\n//     : balance\r\n\r\n//   // (effect): Call the onChangeMax function whenever the max changes \r\n//   useEffect(() => {\r\n//     if (max && isMax && onChangeMax) onChangeMax(toInput(max, decimals))\r\n//   }, [decimals, isMax, max, onChangeMax])\r\n\r\n//   // (effect): Log error on console \r\n//   const failed = getErrorMessage(estimatedGasState.error)\r\n//   useEffect(() => {\r\n//     if (process.env.NODE_ENV === \"development\" && failed) {\r\n//       console.groupCollapsed(\"Fee estimation failed\")\r\n//       console.info(simulationTx?.msgs.map((msg) => msg.toData(isClassic)))\r\n//       console.info(failed)\r\n//       console.groupEnd()\r\n//     }\r\n//   }, [failed, isClassic, simulationTx])\r\n\r\n//   // submit\r\n//   const passwordRequired = isWallet.single(wallet)\r\n//   const [password, setPassword] = useState(\"\")\r\n//   const [incorrect, setIncorrect] = useState<string>()\r\n\r\n//   const disabled =\r\n//     passwordRequired && !password\r\n//       ? t(\"Enter password\")\r\n//       : estimatedGasState.isLoading\r\n//       ? t(\"Estimating fee...\")\r\n//       : estimatedGasState.error\r\n//       ? t(\"Fee estimation failed\")\r\n//       : isBroadcasting\r\n//       ? t(\"Broadcasting a tx...\")\r\n//       : props.disabled || \"\"\r\n\r\n//   const [submitting, setSubmitting] = useState(false)\r\n//   const [error, setError] = useState<Error>()\r\n\r\n//   const navigate = useNavigate()\r\n//   const toPostMultisigTx = useToPostMultisigTx()\r\n//   const submit = async (values: TxValues) => {\r\n//     setSubmitting(true)\r\n\r\n//     try {\r\n//       if (disabled) throw new Error(disabled)\r\n//       if (!estimatedGas || !has(gasAmount))\r\n//         throw new Error(\"Fee is not estimated\")\r\n\r\n//       const tx = createTx(values)\r\n\r\n//       if (!tx) throw new Error(\"Tx is not defined\")\r\n\r\n//       const gasCoins = new Coins([Coin.fromData(gasFee)])\r\n//       const fee = new Fee(estimatedGas, gasCoins)\r\n\r\n//       if (isWallet.multisig(wallet)) {\r\n//         const unsignedTx = await auth.create({ ...tx, fee })\r\n//         navigate(toPostMultisigTx(unsignedTx))\r\n//       } else if (wallet) {\r\n//         const result = await auth.post({ ...tx, fee }, password)\r\n//         setLatestTx({ txhash: result.txhash, queryKeys, redirectAfterTx })\r\n//       } else {\r\n//         const { result } = await post({ ...tx, fee })\r\n//         setLatestTx({ txhash: result.txhash, queryKeys, redirectAfterTx })\r\n//       }\r\n\r\n//       onPost?.()\r\n//     } catch (error) {\r\n//       if (error instanceof PasswordError) setIncorrect(error.message)\r\n//       else setError(error as Error)\r\n//     }\r\n\r\n//     setSubmitting(false)\r\n//   }\r\n\r\n//   const submittingLabel = isWallet.ledger(wallet) ? t(\"Confirm in ledger\") : \"\"\r\n\r\n//   // render\r\n//   const balanceAfterTx =\r\n//     balance &&\r\n//     amount &&\r\n//     new BigNumber(balance)\r\n//       .minus(amount)\r\n//       .minus((gasFee.denom === token && gasFee.amount) || 0)\r\n//       .toString()\r\n\r\n//   const insufficient = balanceAfterTx\r\n//     ? new BigNumber(balanceAfterTx).lt(0)\r\n//     : false\r\n\r\n//   const availableGasDenoms = useMemo(() => {\r\n//     return sortCoins(bankBalance, currency)\r\n//       .map(({ denom }) => denom)\r\n//       .filter(\r\n//         (denom) =>\r\n//           !excludeGasDenom?.(denom) &&\r\n//           !isDenomIBC(denom) &&\r\n//           new BigNumber(getAmount(bankBalance, denom)).gte(getGasAmount(denom))\r\n//       )\r\n//   }, [bankBalance, currency, excludeGasDenom, getGasAmount])\r\n\r\n//   useEffect(() => {\r\n//     if (availableGasDenoms.includes(initialGasDenom)) return\r\n//     setGasDenom(availableGasDenoms[0])\r\n//   }, [availableGasDenoms, initialGasDenom])\r\n\r\n//   // element\r\n//   const resetMax = () => setIsMax(false)\r\n//   const renderMax: RenderMax = (onClick) => {\r\n//     if (!(max && has(max))) return null\r\n\r\n//     return (\r\n//       <button\r\n//         type=\"button\"\r\n//         className={classNames({ muted: !isMax })}\r\n//         onClick={onClick ? () => onClick(max) : () => setIsMax(!isMax)}\r\n//       >\r\n//         <Flex gap={4} start>\r\n//           <AccountBalanceWalletIcon\r\n//             fontSize=\"inherit\"\r\n//             className={styles.icon}\r\n//           />\r\n//           <Read amount={max} token={token} decimals={decimals} />\r\n//         </Flex>\r\n//       </button>\r\n//     )\r\n//   }\r\n\r\n//   const renderFee = (descriptions?: Contents) => {\r\n//     if (!estimatedGas) return null\r\n\r\n//     return (\r\n//       <Details>\r\n//         <dl>\r\n//           {descriptions?.map(({ title, content }, index) => (\r\n//             <Fragment key={index}>\r\n//               <dt>{title}</dt>\r\n//               <dd>{content}</dd>\r\n//             </Fragment>\r\n//           ))}\r\n\r\n//           <dt className={styles.gas}>\r\n//             {t(\"Fee\")}\r\n//             {availableGasDenoms.length > 1 && (\r\n//               <Select\r\n//                 value={gasDenom}\r\n//                 onChange={(e) => setGasDenom(e.target.value)}\r\n//                 className={styles.select}\r\n//                 small\r\n//               >\r\n//                 {availableGasDenoms.map((denom) => (\r\n//                   <option value={denom} key={denom}>\r\n//                     {readDenom(denom)}\r\n//                   </option>\r\n//                 ))}\r\n//               </Select>\r\n//             )}\r\n//           </dt>\r\n//           <dd>{gasFee.amount && <Read {...gasFee} />}</dd>\r\n\r\n//           {balanceAfterTx && (\r\n//             <>\r\n//               <dt>{t(\"Balance\")}</dt>\r\n//               <dd>\r\n//                 <Read amount={balance} token={token} decimals={decimals} />\r\n//               </dd>\r\n\r\n//               <dt>{t(\"Balance after tx\")}</dt>\r\n//               <dd>\r\n//                 <Read\r\n//                   amount={balanceAfterTx}\r\n//                   token={token}\r\n//                   decimals={decimals}\r\n//                   className={classNames(insufficient && \"danger\")}\r\n//                 />\r\n//               </dd>\r\n//             </>\r\n//           )}\r\n//         </dl>\r\n//       </Details>\r\n//     )\r\n//   }\r\n\r\n//   const walletError = \r\n//     connectedWallet?.connectType === ConnectType.READONLY\r\n//       ? t(\"Wallet is connected as read-only mode\")\r\n//       : !availableGasDenoms.length\r\n//       ? t(\"Insufficient balance to pay transaction fee\")\r\n//       : isWalletEmpty\r\n//       ? t(\"Coins required to post transactions\")\r\n//       : \"\"\r\n\r\n//   const submitButton = (\r\n//     <>\r\n//       {walletError && <FormError>{walletError}</FormError>}\r\n\r\n//       {!address ? (\r\n//         <ConnectWallet\r\n//           renderButton={(open) => (\r\n//             <Submit type=\"button\" onClick={open}>\r\n//               {t(\"Connect wallet\")}\r\n//             </Submit>\r\n//           )}\r\n//         />\r\n//       ) : (\r\n//         <Grid gap={4}>\r\n//           {passwordRequired && (\r\n//             <FormItem label={t(\"Password\")} error={incorrect}>\r\n//               <Input\r\n//                 type=\"password\"\r\n//                 value={password}\r\n//                 onChange={(e) => {\r\n//                   setIncorrect(undefined)\r\n//                   setPassword(e.target.value)\r\n//                 }}\r\n//               />\r\n//             </FormItem>\r\n//           )}\r\n\r\n//           {failed && <FormError>{failed}</FormError>}\r\n\r\n//           <Submit\r\n//             disabled={!estimatedGas || !!disabled}\r\n//             submitting={submitting}\r\n//           >\r\n//             {submitting ? submittingLabel : disabled}\r\n//           </Submit>\r\n//         </Grid>\r\n//       )}\r\n//     </>\r\n//   )\r\n\r\n//   const modal = !error\r\n//     ? undefined\r\n//     : {\r\n//         title:\r\n//           error instanceof UserDenied\r\n//             ? t(\"User denied\")\r\n//             : error instanceof CreateTxFailed\r\n//             ? t(\"Failed to create tx\")\r\n//             : error instanceof TxFailed\r\n//             ? t(\"Tx failed\")\r\n//             : t(\"Error\"),\r\n//         children:\r\n//           error instanceof UserDenied ? null : (\r\n//             <Pre height={120} normal break>\r\n//               {error.message}\r\n//             </Pre>\r\n//           ),\r\n//       }\r\n\r\n//   return (\r\n//     <>\r\n//       {children({\r\n//         max: { amount: max ?? \"0\", render: renderMax, reset: resetMax },\r\n//         fee: { render: renderFee },\r\n//         submit: { fn: submit, button: submitButton },\r\n//       })}\r\n\r\n//       {modal && (\r\n//         <Modal\r\n//           {...modal}\r\n//           icon={<ErrorOutlineIcon fontSize=\"inherit\" className=\"danger\" />}\r\n//           onRequestClose={() => setError(undefined)}\r\n//           isOpen\r\n//         />\r\n//       )}\r\n//     </>\r\n//   )\r\n// }\r\n\r\n","import { useCallback, useEffect, useMemo, useState } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\n// import { useLocation } from \"react-router-dom\"\r\n// import { useQuery } from \"react-query\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport { useNetwork, useAccount, useBalance, useContractReads, erc20ABI } from 'wagmi'\r\n// import { ethers } from \"ethers\"\r\n// import BigNumber from \"bignumber.js\"\r\n// import { AccAddress } from \"@terra-money/terra.js\"\r\n// import { isDenomTerra } from \"@terra.kitchen/utils\"\r\n// import { toAmount } from \"@terra.kitchen/utils\"\r\n\r\n/* helpers */\r\nimport { has } from \"utils/num\"\r\nimport BigNumber from \"bignumber.js\"\r\n// import { getAmount, sortCoins } from \"utils/coin\"\r\n// import { queryKey } from \"data/query\"\r\n// import { useAddress } from \"data/wallet\"\r\n// import { useBankBalance } from \"data/queries/bank\"\r\n// import { useCustomTokensCW20 } from \"data/settings/CustomTokens\"\r\n\r\n/* components */\r\nimport { Form, FormArrow, FormError } from \"components/form\"\r\nimport { Checkbox, RadioButton } from \"components/form\"\r\nimport { Read } from \"components/token\"\r\n\r\n/* tx modules */\r\nimport { getPlaceholder, toInput } from \"../utils\"\r\nimport validate from \"../validate\"\r\nimport Txm from \"../Txm\"\r\n\r\n/* swap modules */\r\nimport AssetFormItem from \"../swap/components/AssetFormItem\"\r\nimport { AssetInput, AssetReadOnly } from \"../swap/components/AssetFormItem\"\r\nimport SelectToken from \"../swap/components/SelectToken\"\r\nimport SlippageControl from \"../swap/components/SlippageControl\"\r\nimport ExpectedPrice, { ExpectedPriceProps } from \"../swap/components/ExpectedPrice\"\r\n// import useSwapUtils, { validateAssets } from \"./useSwapUtils\"\r\nimport { SwapMode, validateParams } from \"../swap/useSwapUtils\"\r\nimport { SlippageParams } from \"../swap/SingleSwapContext\"\r\n// import { validateSlippageParams, useSingleSwap } from \"./SingleSwapContext\"\r\n// import styles from \"./SwapForm.module.scss\"\r\n\r\n/* Token images */\r\nimport gexIcon from \"../../styles/images/tokens/gex.png\"\r\nimport usdiIcon from \"../../styles/images/tokens/usdi.png\"\r\n\r\n/* Smart contracts */\r\nimport gexDeploy from \"../../config/contracts/GEX.json\"\r\nimport usdiDeploy from \"../../config/contracts/USDI.json\"\r\nimport scminterDeploy from \"../../config/contracts/SCMinter.json\"\r\nimport oracleDeploy from \"../../config/contracts/GeminonOracle.json\"\r\n\r\n\r\n// import { Coins } from \"@terra-money/terra.js\"\r\n\r\n\r\n\r\nexport const contractsInfo = {\r\n  tokens: {\r\n    gex: gexDeploy,\r\n    usdi: usdiDeploy,\r\n  },\r\n  minter: scminterDeploy,\r\n  oracle: oracleDeploy,\r\n}\r\n\r\n\r\nconst defaultDecimals = 18\r\n\r\nexport const tokensList: ERC20Token[] = [\r\n  {\r\n    balance: \"0\",\r\n    decimals: defaultDecimals,\r\n    icon: gexIcon,\r\n    name: \"Geminon\",\r\n    symbol: \"GEX\",\r\n    token: contractsInfo.tokens.gex.address,\r\n    address: contractsInfo.tokens.gex.address,\r\n  },\r\n  {\r\n    balance: \"0\",\r\n    decimals: defaultDecimals,\r\n    icon: usdiIcon,\r\n    name: \"Inflation Indexed Dollar\",\r\n    symbol: \"USDI\",\r\n    token: contractsInfo.tokens.usdi.address,\r\n    address: contractsInfo.tokens.usdi.address,\r\n  },\r\n]\r\n\r\n\r\nconst useReadBalances = () => {\r\n  const { address, isConnected } = useAccount()\r\n  const contracts = tokensList.map((asset) => {\r\n    return {\r\n      addressOrName: asset.address,\r\n      contractInterface: erc20ABI,\r\n      functionName: \"balanceOf\",\r\n      args: address,    \r\n    }\r\n  })\r\n  \r\n  const { data: tokenData } = useContractReads({ contracts, enabled: isConnected })\r\n  \r\n  tokensList.forEach((asset, index) => {\r\n    asset.balance = tokenData?.[index]?.toString() ?? \"0\"\r\n  })\r\n  \r\n  return tokensList\r\n}\r\n\r\nexport const useTokenInfo = (tokenSymbol: string) => {\r\n  const { chain } = useNetwork()\r\n  const connectedNetworkId = chain?.id.toString()\r\n  \r\n  const deployInfo = contractsInfo.tokens\r\n  const key = tokenSymbol.toLowerCase() as keyof typeof deployInfo\r\n\r\n  let isError = false\r\n  if (deployInfo?.[key].network != connectedNetworkId) {\r\n    console.log(\"[useTokenInfo] Network mismatch\")\r\n    isError = true\r\n  }\r\n  console.log(\"[useTokenInfo] address\", deployInfo[key].address)\r\n  return { \r\n    scAddress: deployInfo[key].address, \r\n    scAbi: deployInfo[key].abi, \r\n    isError: isError \r\n  }\r\n}\r\n\r\nconst useMinterInfo = (offerAsset:string|undefined, offerAmount:string, \r\n  stablecoinSymbol:string, enabled:boolean) => {\r\n  const { isConnected } = useAccount()\r\n  const { scAddress, scAbi } = useTokenInfo(stablecoinSymbol)\r\n  console.log(\"[useMinterInfo] params:\", offerAsset, offerAmount)\r\n  \r\n  const contracts = offerAsset === \"GEX\" ? \r\n  [\r\n    {\r\n      addressOrName: contractsInfo.minter.address,\r\n      contractInterface: contractsInfo.minter.abi,\r\n      functionName: \"calculateMintAmount\",\r\n      args: [scAddress, offerAmount], \r\n      \r\n    },\r\n    {\r\n      addressOrName: contractsInfo.oracle.address,\r\n      contractInterface: contractsInfo.oracle.abi,\r\n      functionName: \"getPrice\",\r\n    },\r\n    {\r\n      addressOrName: scAddress,\r\n      contractInterface: scAbi,\r\n      functionName: \"getPegValue\",\r\n    }\r\n  ] : [\r\n    {\r\n      addressOrName: contractsInfo.minter.address,\r\n      contractInterface: contractsInfo.minter.abi,\r\n      functionName: \"calculateRedeemAmount\",\r\n      args: [scAddress, offerAmount], \r\n    },\r\n    {\r\n      addressOrName: scAddress,\r\n      contractInterface: scAbi,\r\n      functionName: \"getPegValue\",\r\n    },\r\n    {\r\n      addressOrName: contractsInfo.oracle.address,\r\n      contractInterface: contractsInfo.oracle.abi,\r\n      functionName: \"getPrice\",\r\n    },\r\n  ]\r\n  \r\n  const { data, status } = useContractReads({ \r\n    contracts, \r\n    enabled: isConnected && enabled \r\n  })\r\n  console.log(\"[useMinterInfo] Contract Read. status, data:\", status, data)\r\n  \r\n  // All amounts numbers as string in wei units (1e18)\r\n  return { \r\n    outAmount: data?.[0]?.toString(),\r\n    offerAssetPrice: data?.[1]?.toString(),\r\n    askAssetPrice: data?.[2]?.toString(),\r\n  }\r\n}\r\n\r\n\r\nconst useMintFees = (offerAsset:string|undefined, \r\n  gexAmount:string|undefined, enabled:boolean) => {\r\n  const { isConnected } = useAccount()\r\n\r\n  const { address, abi } = contractsInfo.minter\r\n  console.log(\"[useMintFees] Minter address\", address)\r\n  \r\n  const contracts = offerAsset === \"GEX\" ?\r\n  [\r\n    {\r\n      addressOrName: address,\r\n      contractInterface: abi,\r\n      functionName: \"amountMintFee\",\r\n      args: gexAmount, \r\n      \r\n    },\r\n    {\r\n      addressOrName: address,\r\n      contractInterface: abi,\r\n      functionName: \"getFee\",\r\n      args: [gexAmount, 2000], \r\n    },\r\n  ] : [\r\n    {\r\n      addressOrName: address,\r\n      contractInterface: abi,\r\n      functionName: \"amountRedeemFee\",\r\n      args: gexAmount, \r\n    },\r\n    {\r\n      addressOrName: address,\r\n      contractInterface: abi,\r\n      functionName: \"getFee\",\r\n      args: [gexAmount, 1000], \r\n    },\r\n  ]\r\n  \r\n  console.log(\"[usePoolFees] Contracts config:\", contracts)\r\n  const { data, ...status } = useContractReads({ \r\n    contracts,\r\n    enabled: enabled && isConnected \r\n  })\r\n  console.log(\"[usePoolFees] Contracts read, status:\", data, status)\r\n  if (status.error) console.log(\"[usePoolFees] Contract read ERROR:\", data, status.error)\r\n  \r\n  return { \r\n    feeAmount: data?.[0]?.toString(),  // Number as string in wei units (1e18)\r\n    feePerc: data?.[1]?.toString(),  // Number as string in 1e6 units\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\ninterface TxValues extends Partial<SlippageParams> {\r\n  mode?: SwapMode\r\n}\r\n\r\nconst MintForm = () => {\r\n  console.log(\"[MINTFORM] START\")\r\n  const { t } = useTranslation()\r\n  const { isConnected } = useAccount()\r\n\r\n  // BALANCES\r\n  const assetsList: TokenItemWithBalance[] = useReadBalances()\r\n\r\n    \r\n  // MUESTRA LA LISTA DE TOKENS EN EL FORMULARIO\r\n  const [showAll, setShowAll] = useState(false)\r\n\r\n  const getCoinsOptions = (key: \"offerAsset\" | \"askAsset\") => {\r\n    return [{ \r\n      title: t(\"Coins\"), \r\n      children: assetsList.map((asset) => {\r\n        const { symbol: value, balance } = asset\r\n\r\n        // Sombrear en la lista, si hay un activo seleccionado en el otro\r\n        // formulario, diferente a GEX, todas las opciones que no sean GEX \r\n        const muted = { \r\n          offerAsset: !!askAsset && (askAsset!=\"GEX\" && value!=\"GEX\") || (askAsset==value),\r\n          askAsset: !!offerAsset && (offerAsset!=\"GEX\" && value!=\"GEX\") || (offerAsset==value)\r\n        }[key]\r\n\r\n        const hidden = key === \"offerAsset\" && !showAll && !has(balance) && isConnected\r\n        \r\n        return { ...asset, value, muted, hidden }\r\n      })\r\n   }]\r\n  }\r\n\r\n\r\n  // FORM\r\n  const form = useForm<TxValues>({\r\n    mode: \"onChange\", // what triggers validation of form inputs. onChange is expensive. Alt: onSubmit\r\n    defaultValues: { offerAsset: \"GEX\", askAsset: \"USDI\", slippageInput: 1 },\r\n  })\r\n\r\n  const { register, trigger, watch, setValue, resetField, handleSubmit, reset, formState } = form\r\n  const { errors } = formState\r\n  const values = watch()\r\n  const { mode, offerAsset, askAsset, input, slippageInput, ratio } = values // Esta desestructuración viene definida por el interfaz TxValues\r\n  \r\n  if (Number.isNaN(input)) resetField(\"input\")  // A veces aparece un NaN, causa desconocida.\r\n\r\n\r\n  const assets = useMemo(\r\n    () => ({ offerAsset, askAsset }),\r\n    [offerAsset, askAsset]\r\n  )\r\n\r\n  const slippageParams = useMemo(\r\n    () => ({ offerAsset, askAsset, input, slippageInput, ratio }),\r\n    [askAsset, input, offerAsset, ratio, slippageInput]\r\n  )\r\n\r\n  const findAssetBySymbol = (symbol: string) => assetsList.find((item) => item.symbol === symbol)\r\n  const findAssetDecimalsBySymbol = (symbol: string) => findAssetBySymbol(symbol)?.decimals ?? defaultDecimals\r\n  \r\n  const offerTokenItem = offerAsset ? findAssetBySymbol(offerAsset) : undefined\r\n  const offerDecimals = offerAsset ? findAssetDecimalsBySymbol(offerAsset) : defaultDecimals\r\n  const askTokenItem = askAsset ? findAssetBySymbol(askAsset) : undefined\r\n  const askDecimals = askAsset ? findAssetDecimalsBySymbol(askAsset) : defaultDecimals\r\n\r\n  const inAmount = new BigNumber(input ?? 0).shiftedBy(offerDecimals).toFixed()\r\n  \r\n  \r\n  // Change assets position in the form\r\n  const swapAssets = () => {\r\n    setValue(\"offerAsset\", askAsset)\r\n    setValue(\"askAsset\", offerAsset)\r\n    resetField(\"input\")\r\n  }\r\n\r\n\r\n\r\n  // FETCH SWAP ESTIMATES\r\n  const enableHooks = isConnected && !!offerAsset && !!askAsset && !!input \r\n  if (!enableHooks) console.log(\"[MINTFORM] Hooks DISABLED: symbols, input\", offerAsset, askAsset, input)\r\n\r\n  const tradeInfo = useMinterInfo(offerAsset, inAmount, askAsset ?? \"USDI\", enableHooks)\r\n  const { outAmount, offerAssetPrice, askAssetPrice } = tradeInfo\r\n  console.log(\"[MINTFORM] Tradeinfo:\", tradeInfo)\r\n\r\n  const gexAmount = offerAsset == \"GEX\" ?\r\n    inAmount :\r\n    askAsset == \"GEX\" ?\r\n    outAmount :\r\n    \"0\"\r\n  const { feeAmount, feePerc } = useMintFees(offerAsset, gexAmount, enableHooks)\r\n  console.log(\"[MINTFORM] Fees:\", feeAmount, feePerc)\r\n  \r\n\r\n  \r\n\r\n  // Handle select asset on form\r\n  const onSelectAsset = (key: \"offerAsset\" | \"askAsset\") => {\r\n    return async (value: Token) => {\r\n      const assets = {\r\n        offerAsset: { offerAsset: value, askAsset },\r\n        askAsset: { offerAsset, askAsset: value },\r\n      }[key]\r\n\r\n      // Enforce swap always against GEX\r\n      if (value != \"GEX\") {\r\n        setValue(key === \"offerAsset\" ? \"askAsset\" : \"offerAsset\", \"GEX\")\r\n      }\r\n      // empty opposite asset if select the same asset\r\n      else if (assets.offerAsset === assets.askAsset) {\r\n        setValue(key === \"offerAsset\" ? \"askAsset\" : \"offerAsset\", undefined)\r\n      }\r\n      \r\n      // focus on input if select offer asset\r\n      if (key === \"offerAsset\") {\r\n        form.resetField(\"input\")\r\n        form.setFocus(\"input\") // Pone el cursor para escribir en el formulario 1. Como hacer click.\r\n      }\r\n\r\n      setValue(key, value)\r\n    }\r\n  }\r\n\r\n\r\n  // tx\r\n  const balance = offerTokenItem?.balance\r\n  \r\n  // Callback que se pasa a TX, está desactivado allí\r\n  const createTx = () => undefined\r\n\r\n  // fee\r\n  // Valores que se pasan al callback createTx en Tx\r\n  const estimationTxValues = {\r\n    mode, \r\n    ...assets,\r\n    ratio: 10, \r\n    input: toInput(balance ?? \"\", findAssetDecimalsBySymbol(offerAsset ?? \"\")), \r\n    slippageInput: 1\r\n  }\r\n\r\n  // PARÁMETROS QUE SE PASAN AL COMPONENTE TX\r\n  const txProps = {\r\n    symbol: offerAsset,\r\n    scSymbol: askAsset, \r\n    decimals: offerDecimals,\r\n    balance: offerTokenItem?.balance,\r\n    inAmount,\r\n    outAmount,\r\n    feePerc,\r\n    resetForm: () => reset()\r\n  }\r\n  const initialGasDenom = \"\"\r\n  const token = offerAsset\r\n  const symbol = offerTokenItem?.symbol ?? \"\"\r\n  const decimals = offerDecimals\r\n  const tx = {\r\n    newProps: txProps,\r\n    token: offerAsset,\r\n    symbol,\r\n    decimals,\r\n    amount: inAmount,\r\n    balance,\r\n    initialGasDenom,\r\n    estimationTxValues, // Valores que se pasan a createTx\r\n    createTx, // No se usa de momento, lo tenemos desactivado en Tx\r\n    onPost: () => {} // Función para añadir token personalizado al wallet tras comprarlo -> implementar,\r\n  }\r\n\r\n\r\n  const disabled = false //isFetching ? t(\"Simulating...\") : false\r\n\r\n\r\n\r\n  // RENDER FUNCTIONS\r\n  const isFetching = false\r\n\r\n  // type guard\r\n  const validateExpectedPriceProps = (\r\n    params: Partial<ExpectedPriceProps>\r\n  ): params is ExpectedPriceProps => {\r\n    \r\n    const { offerAsset, askAsset, offerAssetPrice, askAssetPrice, feeAmount} = params      \r\n    \r\n    return !!(offerAsset && askAsset && offerAssetPrice && askAssetPrice && feeAmount)\r\n  }\r\n\r\n  // render: expected price\r\n  const renderExpected = () => {\r\n    if (!input) return null\r\n\r\n    const minimum_receive = outAmount\r\n    const isLoading = false\r\n    const props = { offerAsset, offerDecimals, askAsset, askDecimals, \r\n      offerAssetPrice, askAssetPrice, feeAmount, isLoading, mode:\"SCMint\"}\r\n\r\n    if (!(isConnected && validateExpectedPriceProps(props))){\r\n      console.log(\"[MINTFORM][renderExpected] props NOT VALIDATED\", props)\r\n      return null\r\n    } \r\n    // (7-10) DATOS DEBAJO DEL PAR, APARECEN SOLO\r\n    // SI SE INTRODUCE UNA CANTIDAD ARRIBA PARA CAMBIAR\r\n    console.log(\"[MINTFORM][renderExpected] props VALIDATED\", props)\r\n    return <ExpectedPrice {...props} isLoading={isFetching} />\r\n  }\r\n\r\n    \r\n\r\n  return (\r\n    <Txm {...tx} disabled={disabled}>\r\n      {({ max, fee, submit }) => (\r\n        <Form onSubmit={handleSubmit(submit.fn)}>\r\n          {/* (1) PESTAÑAS MERCADOS SWAP */}\r\n          {/* {renderRadioGroup()} */}\r\n        \r\n          {/* (3) PRIMER FORMULARIO TOKEN */}\r\n          <AssetFormItem\r\n            label={t(\"From\")}\r\n            extra={max.render(async (value) => {// (2) BALANCE TOKEN 1 (MÁXIMO GASTABLE)\r\n              // Do not use automatic max here\r\n              // Confusion arises as the amount changes and simulates again\r\n              setValue(\"input\", toInput(value, offerDecimals))\r\n              await trigger(\"input\")\r\n            })}\r\n            error={errors.input?.message}\r\n          >\r\n            <SelectToken\r\n              value={offerAsset}\r\n              onChange={onSelectAsset(\"offerAsset\")}\r\n              options={getCoinsOptions(\"offerAsset\")}\r\n              checkbox={\r\n                <Checkbox\r\n                  checked={showAll}\r\n                  onChange={() => setShowAll(!showAll)}\r\n                >\r\n                  {t(\"Show all\")}\r\n                </Checkbox>\r\n              }\r\n              addonAfter={\r\n                <AssetInput\r\n                  {...register(\"input\", {\r\n                    valueAsNumber: true,\r\n                    validate: validate.input(\r\n                      toInput(max.amount, offerDecimals),\r\n                      offerDecimals\r\n                    ),\r\n                  })}\r\n                  inputMode=\"decimal\"\r\n                  placeholder={\"0.000\"}\r\n                  onFocus={max.reset}\r\n                  autoFocus\r\n                />\r\n              }\r\n            />\r\n          </AssetFormItem>\r\n\r\n          {/* (4) FLECHA INVERTIR SWAP */}\r\n          <FormArrow onClick={swapAssets} />\r\n\r\n          {/* (5) SEGUNDO FORMULARIO TOKEN */}\r\n          <AssetFormItem label={t(\"To\")}>\r\n            <SelectToken\r\n              value={askAsset}\r\n              onChange={onSelectAsset(\"askAsset\")}\r\n              options={getCoinsOptions(\"askAsset\")}\r\n              addonAfter={\r\n                <AssetReadOnly>\r\n                  {outAmount ? (\r\n                    <Read\r\n                    // TODO: Descontar fees del importe de salida mostrado\r\n                      amount={outAmount}\r\n                      decimals={askDecimals}\r\n                      approx\r\n                    />\r\n                  ) : (\r\n                    <p className=\"muted\">\r\n                      {isFetching ? t(\"Simulating...\") : \"0\"}\r\n                    </p>\r\n                  )}\r\n                </AssetReadOnly>\r\n              }\r\n            />\r\n          </AssetFormItem>\r\n\r\n          {/* (7-10) DATOS RESULTADO SWAP */}\r\n          {renderExpected()}\r\n          \r\n          {/* (11) DETALLES FEE. COMPONENTE renderFee() DE Tx */}\r\n          {isConnected && fee.render()}\r\n\r\n          {/* {( Banner rojo error parte inferior caja\r\n            <FormError>{t(\"Pair does not exist\")}</FormError>\r\n          )} */}\r\n\r\n          {/* (12) BOTÓN ENVIAR TRANSACCIÓN */}\r\n          {submit.button}\r\n        </Form>\r\n      )}\r\n    </Txm>\r\n  )\r\n}\r\n\r\n\r\nexport default MintForm\r\n\r\n\r\n\r\n\r\n// const SwapForm = () => {\r\n//   const { t } = useTranslation()\r\n//   const address = useAddress()\r\n//   const { state } = useLocation()\r\n//   const bankBalance = useBankBalance()\r\n//   const { add } = useCustomTokensCW20()\r\n\r\n//   // swap context\r\n//   const utils = useSwapUtils()\r\n//   const { getIsSwapAvailable, getAvailableSwapModes } = utils\r\n//   const { getMsgsFunction, getSimulateFunction, getSimulateQuery } = utils\r\n//   const { options, findTokenItem, findDecimals, calcExpected } = useSingleSwap()\r\n\r\n//   const initialOfferAsset =\r\n//     (state as Token) ??\r\n//     (getAmount(bankBalance, \"uusd\") ? \"uusd\" : sortCoins(bankBalance)[0].denom)\r\n//   const initialGasDenom = getInitialGasDenom(bankBalance)\r\n\r\n//   // options\r\n//   const [showAll, setShowAll] = useState(false)\r\n\r\n//   const getCoinsOptions = (key: \"offerAsset\" | \"askAsset\") => {\r\n//     const { coins, tokens } = options\r\n\r\n//     const getOptionList = (list: TokenItemWithBalance[]) =>\r\n//       list.map((item) => {\r\n//         const { token: value, balance } = item\r\n\r\n//         const muted = {\r\n//           offerAsset:\r\n//             !!askAsset && !getIsSwapAvailable({ offerAsset: value, askAsset }),\r\n//           askAsset:\r\n//             !!offerAsset &&\r\n//             !getIsSwapAvailable({ offerAsset, askAsset: value }),\r\n//         }[key]\r\n\r\n//         const hidden = key === \"offerAsset\" && !showAll && !has(balance)\r\n//         return { ...item, value, muted, hidden }\r\n//       })\r\n\r\n//     return [\r\n//       { title: t(\"Coins\"), children: getOptionList(coins) },\r\n//       { title: t(\"Tokens\"), children: getOptionList(tokens) },\r\n//     ]\r\n//   }\r\n\r\n//   // form\r\n//   const form = useForm<TxValues>({\r\n//     mode: \"onChange\",\r\n//     defaultValues: { offerAsset: initialOfferAsset, slippageInput: 1 },\r\n//   })\r\n\r\n//   const { register, trigger, watch, setValue, handleSubmit, formState } = form\r\n//   const { errors } = formState\r\n//   const values = watch()\r\n//   const { mode, offerAsset, askAsset, input, slippageInput, ratio } = values\r\n\r\n//   useEffect(() => {\r\n//     // validate input on change mode\r\n//     if (mode) trigger(\"input\")\r\n//   }, [mode, trigger])\r\n\r\n//   const assets = useMemo(\r\n//     () => ({ offerAsset, askAsset }),\r\n//     [offerAsset, askAsset]\r\n//   )\r\n\r\n//   const slippageParams = useMemo(\r\n//     () => ({ offerAsset, askAsset, input, slippageInput, ratio }),\r\n//     [askAsset, input, offerAsset, ratio, slippageInput]\r\n//   )\r\n\r\n//   const offerTokenItem = offerAsset ? findTokenItem(offerAsset) : undefined\r\n//   const offerDecimals = offerAsset ? findDecimals(offerAsset) : undefined\r\n//   const askTokenItem = askAsset ? findTokenItem(askAsset) : undefined\r\n//   const askDecimals = askAsset ? findDecimals(askAsset) : undefined\r\n\r\n//   const amount = toAmount(input, { decimals: offerDecimals })\r\n\r\n//   const swapAssets = () => {\r\n//     setValue(\"offerAsset\", askAsset)\r\n//     setValue(\"askAsset\", offerAsset)\r\n//     setValue(\"input\", undefined)\r\n//     trigger(\"input\")\r\n//   }\r\n\r\n//   // simulate | execute\r\n//   const params = { amount, ...assets }\r\n//   const availableSwapModes = getAvailableSwapModes(assets)\r\n//   const isSwapAvailable = getIsSwapAvailable(assets)\r\n//   const simulateQuery = getSimulateQuery(params)\r\n\r\n//   // simulate\r\n//   const { data: simulationResults, isFetching } = useQuery({\r\n//     ...simulateQuery,\r\n//     onSuccess: ({ profitable }) => setValue(\"mode\", profitable?.mode),\r\n//   })\r\n\r\n//   // Simulated value to create tx\r\n//   // Simulated for all possible modes\r\n//   // Do not simulate again even if the mode changes\r\n//   const results = simulationResults?.values\r\n//   const result = results && mode && results[mode]\r\n//   const simulatedValue = result?.value\r\n//   const simulatedRatio = result?.ratio\r\n\r\n//   useEffect(() => {\r\n//     // Set ratio on simulate\r\n//     if (simulatedRatio) setValue(\"ratio\", simulatedRatio)\r\n//   }, [simulatedRatio, setValue])\r\n\r\n//   // Select asset\r\n//   const onSelectAsset = (key: \"offerAsset\" | \"askAsset\") => {\r\n//     return async (value: Token) => {\r\n//       const assets = {\r\n//         offerAsset: { offerAsset: value, askAsset },\r\n//         askAsset: { offerAsset, askAsset: value },\r\n//       }[key]\r\n\r\n//       // set mode if only one available\r\n//       const availableSwapModes = getAvailableSwapModes(assets)\r\n//       const availableSwapMode =\r\n//         availableSwapModes?.length === 1 ? availableSwapModes[0] : undefined\r\n//       setValue(\"mode\", availableSwapMode)\r\n\r\n//       // empty opposite asset if select the same asset\r\n//       if (assets.offerAsset === assets.askAsset) {\r\n//         setValue(key === \"offerAsset\" ? \"askAsset\" : \"offerAsset\", undefined)\r\n//       }\r\n\r\n//       // focus on input if select offer asset\r\n//       if (key === \"offerAsset\") {\r\n//         form.resetField(\"input\")\r\n//         form.setFocus(\"input\")\r\n//       }\r\n\r\n//       setValue(key, value)\r\n//     }\r\n//   }\r\n\r\n//   // tx\r\n//   const balance = offerTokenItem?.balance\r\n//   const createTx = useCallback(\r\n//     (values: TxValues) => {\r\n//       const { mode, offerAsset, askAsset, input, slippageInput, ratio } = values\r\n//       if (!(mode && input && offerAsset && askAsset && slippageInput && ratio))\r\n//         return\r\n\r\n//       const offerDecimals = findDecimals(offerAsset)\r\n//       const amount = toAmount(input, { decimals: offerDecimals })\r\n//       if (!balance || new BigNumber(amount).gt(balance)) return\r\n\r\n//       const params = { amount, offerAsset, askAsset }\r\n//       if (!validateParams(params)) return\r\n\r\n//       const getMsgs = getMsgsFunction(mode)\r\n\r\n//       // slippage \r\n//       const expected = calcExpected({ ...params, input, slippageInput, ratio })\r\n//       return { msgs: getMsgs({ ...params, ...expected }) }\r\n//     },\r\n//     [balance, calcExpected, findDecimals, getMsgsFunction]\r\n//   )\r\n\r\n//   // fee\r\n//   const { data: estimationTxValues } = useQuery(\r\n//     [\"estimationTxValues\", { mode, assets, balance }],\r\n//     async () => {\r\n//       if (!(mode && validateAssets(assets) && balance)) return\r\n//       const { offerAsset, askAsset } = assets\r\n//       const simulate = getSimulateFunction(mode)\r\n//       // estimate fee only after ratio simulated\r\n//       const { ratio } = await simulate({ ...assets, amount: balance })\r\n//       const input = toInput(balance, findDecimals(offerAsset))\r\n//       return { mode, offerAsset, askAsset, ratio, input, slippageInput: 1 }\r\n//     }\r\n//   )\r\n\r\n//   const token = offerAsset\r\n//   const decimals = offerDecimals\r\n//   const tx = {\r\n//     token,\r\n//     decimals,\r\n//     amount,\r\n//     balance,\r\n//     initialGasDenom,\r\n//     estimationTxValues,\r\n//     createTx,\r\n//     onPost: () => {\r\n//       // add custom token on ask cw20\r\n//       if (!(askAsset && AccAddress.validate(askAsset) && askTokenItem)) return\r\n//       const { balance, ...rest } = askTokenItem\r\n//       add(rest as CustomTokenCW20)\r\n//     },\r\n//     queryKeys: [offerAsset, askAsset]\r\n//       .filter((asset) => asset && AccAddress.validate(asset))\r\n//       .map((token) => [\r\n//         queryKey.wasm.contractQuery,\r\n//         token,\r\n//         { balance: address },\r\n//       ]),\r\n//   }\r\n\r\n//   const disabled = isFetching ? t(\"Simulating...\") : false\r\n\r\n//   // render\r\n//   const renderRadioGroup = () => {\r\n//     if (!(validateAssets(assets) && isSwapAvailable)) return null\r\n\r\n//     return (\r\n//       <section className={styles.modes}>\r\n//         {availableSwapModes.map((key) => {\r\n//           const checked = mode === key\r\n\r\n//           return (\r\n//             <RadioButton\r\n//               {...register(\"mode\")}\r\n//               value={key}\r\n//               checked={checked}\r\n//               key={key}\r\n//             >\r\n//               {key}\r\n//             </RadioButton>\r\n//           )\r\n//         })}\r\n//       </section>\r\n//     )\r\n//   }\r\n\r\n//   // render: expected price\r\n//   const renderExpected = () => {\r\n//     if (!(mode && validateSlippageParams(slippageParams))) return null\r\n//     const expected = calcExpected(slippageParams)\r\n//     const props = { mode, ...slippageParams, ...expected, ...result }\r\n//     return <ExpectedPrice {...props} isLoading={isFetching} />\r\n//   }\r\n\r\n//   const slippageDisabled = [offerAsset, askAsset].every(isDenomTerra)\r\n\r\n//   return (\r\n//     <Tx {...tx} disabled={disabled}>\r\n//       {({ max, fee, submit }) => (\r\n//         <Form onSubmit={handleSubmit(submit.fn)}>\r\n//           {renderRadioGroup()}\r\n\r\n//           <AssetFormItem\r\n//             label={t(\"From\")}\r\n//             extra={max.render(async (value) => {\r\n//               // Do not use automatic max here\r\n//               // Confusion arises as the amount changes and simulates again\r\n//               setValue(\"input\", toInput(value, offerDecimals))\r\n//               await trigger(\"input\")\r\n//             })}\r\n//             error={errors.input?.message}\r\n//           >\r\n//             <SelectToken\r\n//               value={offerAsset}\r\n//               onChange={onSelectAsset(\"offerAsset\")}\r\n//               options={getCoinsOptions(\"offerAsset\")}\r\n//               checkbox={\r\n//                 <Checkbox\r\n//                   checked={showAll}\r\n//                   onChange={() => setShowAll(!showAll)}\r\n//                 >\r\n//                   {t(\"Show all\")}\r\n//                 </Checkbox>\r\n//               }\r\n//               addonAfter={\r\n//                 <AssetInput\r\n//                   {...register(\"input\", {\r\n//                     valueAsNumber: true,\r\n//                     validate: validate.input(\r\n//                       toInput(max.amount, offerDecimals),\r\n//                       offerDecimals\r\n//                     ),\r\n//                   })}\r\n//                   inputMode=\"decimal\"\r\n//                   placeholder={getPlaceholder(offerDecimals)}\r\n//                   onFocus={max.reset}\r\n//                   autoFocus\r\n//                 />\r\n//               }\r\n//             />\r\n//           </AssetFormItem>\r\n\r\n//           <FormArrow onClick={swapAssets} />\r\n\r\n//           <AssetFormItem label={t(\"To\")}>\r\n//             <SelectToken\r\n//               value={askAsset}\r\n//               onChange={onSelectAsset(\"askAsset\")}\r\n//               options={getCoinsOptions(\"askAsset\")}\r\n//               addonAfter={\r\n//                 <AssetReadOnly>\r\n//                   {simulatedValue ? (\r\n//                     <Read\r\n//                       amount={simulatedValue}\r\n//                       decimals={askDecimals}\r\n//                       approx\r\n//                     />\r\n//                   ) : (\r\n//                     <p className=\"muted\">\r\n//                       {isFetching ? t(\"Simulating...\") : \"0\"}\r\n//                     </p>\r\n//                   )}\r\n//                 </AssetReadOnly>\r\n//               }\r\n//             />\r\n//           </AssetFormItem>\r\n\r\n//           {!slippageDisabled && (\r\n//             <SlippageControl\r\n//               {...register(\"slippageInput\", {\r\n//                 valueAsNumber: true,\r\n//                 validate: validate.input(50, 2, \"Slippage tolerance\"),\r\n//               })}\r\n//               input={slippageInput} // to warn\r\n//               inputMode=\"decimal\"\r\n//               placeholder={getPlaceholder(2)}\r\n//               error={errors.slippageInput?.message}\r\n//             />\r\n//           )}\r\n\r\n//           {renderExpected()}\r\n//           {fee.render()}\r\n\r\n//           {validateAssets(assets) && !isSwapAvailable && (\r\n//             <FormError>{t(\"Pair does not exist\")}</FormError>\r\n//           )}\r\n\r\n//           {submit.button}\r\n//         </Form>\r\n//       )}\r\n//     </Tx>\r\n//   )\r\n// }\r\n","export default \"data:image/png;base64,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\"","import { useTranslation } from \"react-i18next\"\r\nimport { Page } from \"components/layout\"\r\nimport TxContext from \"../TxContext\"\r\nimport MintContext from \"./MintContext\"\r\nimport SingleMintContext from \"./SingleMintContext\"\r\nimport MintForm from \"./MintForm\"\r\n\r\n\r\n\r\nconst MintTx = () => {\r\n  const { t } = useTranslation()\r\n  const description = t(\"Mint and redeem stablecoins with zero slippage\")\r\n\r\n  return (\r\n    <Page title={t(\"Stablecoins Minter\")} small extra={description}>\r\n      <TxContext>\r\n        <MintContext>\r\n          <SingleMintContext>\r\n            <MintForm />\r\n          </SingleMintContext>\r\n        </MintContext>\r\n      </TxContext>\r\n    </Page>\r\n  )\r\n}\r\n\r\nexport default MintTx\r\n\r\n\r\n\r\n","import { useTranslation } from \"react-i18next\"\r\nimport { Page, Card } from \"components/layout\"\r\nimport { Wrong } from \"components/feedback\"\r\n\r\nconst NotFound = () => {\r\n  const { t } = useTranslation()\r\n  return (\r\n    <Page title=\"404\">\r\n      <Card>\r\n        <Wrong>{t(\"Not found\")}</Wrong>\r\n      </Card>\r\n    </Page>\r\n  )\r\n}\r\n\r\nexport default NotFound\r\n","import { useEffect } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { Navigate, useNavigate, useRoutes } from \"react-router-dom\"\r\n\r\n// import { ReactComponent as WalletIcon } from \"styles/images/menu/Wallet.svg\"\r\n// import { ReactComponent as NFTIcon } from \"styles/images/menu/NFT.svg\"\r\n// import { ReactComponent as HistoryIcon } from \"styles/images/menu/History.svg\"\r\nimport { ReactComponent as SwapIcon } from \"styles/images/menu/Swap.svg\"\r\nimport AttachMoneyIcon from '@mui/icons-material/AttachMoney';\r\n// import { ReactComponent as StakeIcon } from \"styles/images/menu/Stake.svg\"\r\n// import { ReactComponent as GovernanceIcon } from \"styles/images/menu/Governance.svg\"\r\n// import { ReactComponent as ContractIcon } from \"styles/images/menu/Contract.svg\"\r\n// import { useIsClassic } from \"data/query\"\r\n\r\n/* menu */\r\n// import Dashboard from \"pages/dashboard/Dashboard\"\r\n// import Wallet from \"pages/wallet/Wallet\"\r\n// import NFT from \"pages/nft/NFT\"\r\n// import History from \"pages/history/History\"\r\n// import Stake from \"pages/stake/Stake\"\r\n// import Governance from \"pages/gov/Governance\"\r\n// import Contract from \"pages/contract/Contract\"\r\n\r\n/* details */\r\n// import ValidatorDetails from \"pages/stake/ValidatorDetails\"\r\n// import ProposalDetails from \"pages/gov/ProposalDetails\"\r\n\r\n/* txs */\r\n// import SendTx from \"txs/send/SendTx\"\r\n// import TransferCW721Tx from \"txs/wasm/TransferCW721Tx\"\r\nimport SwapTx from \"txs/swap/SwapTx\"\r\nimport MintTx from \"txs/mint/MintTx\"\r\n// import SwapMultipleTx from \"txs/swap/SwapMultipleTx\"\r\n// import StakeTx from \"txs/stake/StakeTx\"\r\n// import WithdrawRewardsTx from \"txs/stake/WithdrawRewardsTx\"\r\n// import WithdrawCommissionTx from \"txs/stake/WithdrawCommissionTx\"\r\n// import SubmitProposalTx from \"txs/gov/SubmitProposalTx\"\r\n// import DepositTx from \"txs/gov/DepositTx\"\r\n// import VoteTx from \"txs/gov/VoteTx\"\r\n// import StoreCodeTx from \"txs/wasm/StoreCodeTx\"\r\n// import InstantiateContractTx from \"txs/wasm/InstantiateContractTx\"\r\n// import ExecuteContractTx from \"txs/wasm/ExecuteContractTx\"\r\n// import MigrateContractTx from \"txs/wasm/MigrateContractTx\"\r\n// import UpdateAdminContractTx from \"txs/wasm/UpdateAdminContractTx\"\r\n// import AnchorEarnTx from \"txs/earn/AnchorEarnTx\"\r\n// import SignMultisigTxPage from \"pages/multisig/SignMultisigTxPage\"\r\n// import PostMultisigTxPage from \"pages/multisig/PostMultisigTxPage\"\r\n\r\n/* auth */\r\n// import Auth from \"auth/modules/Auth\"\r\n// import ManageNetworksPage from \"auth/networks/ManageNetworksPage\"\r\n// import AddNetworkPage from \"auth/networks/AddNetworkPage\"\r\n\r\n/* settings */\r\n// import Settings from \"pages/Settings\"\r\n\r\n/* labs */\r\n// import Labs from \"pages/labs/Labs\"\r\n\r\n/* 404 */\r\nimport NotFound from \"pages/NotFound\"\r\n\r\nconst ICON_SIZE = { width: 20, height: 20 }\r\n\r\nexport const useNav = () => {\r\n  const { t } = useTranslation()\r\n\r\n  const menu = [\r\n    {\r\n      path: \"/swap\",\r\n      element: <SwapTx />,\r\n      title: t(\"Swap GEX\"),\r\n      icon: <SwapIcon {...ICON_SIZE} />\r\n    },\r\n    {\r\n      path: \"/mint\",\r\n      element: <MintTx />,\r\n      title: t(\"Stablecoins\"),\r\n      icon: <AttachMoneyIcon {...ICON_SIZE} />\r\n    },\r\n  ]\r\n\r\n  const routes = [\r\n    // { path: \"/\", element: <Dashboard /> },\r\n    { path: \"/\", element: <Navigate to={\"/swap\"} /> },\r\n\r\n    /* pages */\r\n    ...menu,\r\n    // { path: \"/validator/:address\", element: <ValidatorDetails /> },\r\n    // { path: \"/proposal/:id\", element: <ProposalDetails /> },\r\n\r\n    /* multisig */\r\n    // { path: \"/multisig/sign\", element: <SignMultisigTxPage /> },\r\n    // { path: \"/multisig/post\", element: <PostMultisigTxPage /> },\r\n\r\n    /* txs */\r\n    // { path: \"/send\", element: <SendTx /> },\r\n    // { path: \"/nft/transfer\", element: <TransferCW721Tx /> },\r\n    // { path: \"/swap/multiple\", element: <SwapMultipleTx /> },\r\n    // { path: \"/stake/:address\", element: <StakeTx /> },\r\n    // { path: \"/rewards\", element: <WithdrawRewardsTx /> },\r\n    // { path: \"/commission\", element: <WithdrawCommissionTx /> },\r\n    // { path: \"/proposal/new\", element: <SubmitProposalTx /> },\r\n    // { path: \"/proposal/:id/deposit\", element: <DepositTx /> },\r\n    // { path: \"/proposal/:id/vote\", element: <VoteTx /> },\r\n    // { path: \"/contract/instantiate\", element: <InstantiateContractTx /> },\r\n    // { path: \"/contract/store\", element: <StoreCodeTx /> },\r\n    // { path: \"/contract/execute/:contract\", element: <ExecuteContractTx /> },\r\n    // { path: \"/contract/migrate/:contract\", element: <MigrateContractTx /> },\r\n    // { path: \"/contract/updateadmin/:contract\", element: <UpdateAdminContractTx /> },\r\n    // { path: \"/earn\", element: <AnchorEarnTx /> },\r\n\r\n    /* auth */\r\n    // { path: \"/auth/*\", element: <Auth /> },\r\n    // { path: \"/networks\", element: <ManageNetworksPage /> },\r\n    // { path: \"/network/new\", element: <AddNetworkPage /> },\r\n    // { path: \"/settings\", element: <Settings /> },\r\n\r\n    /* dev */\r\n    // { path: \"/labs\", element: <Labs /> },\r\n\r\n    /* 404 */\r\n    { path: \"*\", element: <NotFound /> },\r\n  ]\r\n\r\n  return { menu, element: useRoutes(routes) }\r\n}\r\n\r\n\r\n/* export const useNav = () => {\r\n  const { t } = useTranslation()\r\n  const isClassic = useIsClassic()\r\n\r\n  const menu = [\r\n    {\r\n      path: \"/wallet\",\r\n      element: <Wallet />,\r\n      title: t(\"Wallet\"),\r\n      icon: <WalletIcon {...ICON_SIZE} />,\r\n    },\r\n    {\r\n      path: \"/history\",\r\n      element: <History />,\r\n      title: t(\"History\"),\r\n      icon: <HistoryIcon {...ICON_SIZE} />,\r\n    },\r\n    {\r\n      path: \"/swap\",\r\n      element: <SwapTx />,\r\n      title: t(\"Swap\"),\r\n      icon: <SwapIcon {...ICON_SIZE} />,\r\n      classic: true,\r\n    },\r\n    {\r\n      path: \"/stake\",\r\n      element: <Stake />,\r\n      title: t(\"Stake\"),\r\n      icon: <StakeIcon {...ICON_SIZE} />,\r\n    },\r\n    {\r\n      path: \"/gov\",\r\n      element: <Governance />,\r\n      title: t(\"Governance\"),\r\n      icon: <GovernanceIcon {...ICON_SIZE} />,\r\n    },\r\n    {\r\n      path: \"/nft\",\r\n      element: <NFT />,\r\n      title: t(\"NFT\"),\r\n      icon: <NFTIcon {...ICON_SIZE} />,\r\n    },\r\n    {\r\n      path: \"/contract\",\r\n      element: <Contract />,\r\n      title: t(\"Contract\"),\r\n      icon: <ContractIcon {...ICON_SIZE} />,\r\n    },\r\n  ].filter(({ classic }) => {\r\n    if (isClassic) return true\r\n    return !classic\r\n  })\r\n\r\n  const routes = [\r\n    { path: \"/\", element: <Dashboard /> },\r\n\r\n    // pages\r\n    ...menu,\r\n    { path: \"/validator/:address\", element: <ValidatorDetails /> },\r\n    { path: \"/proposal/:id\", element: <ProposalDetails /> },\r\n\r\n    // multisig\r\n    { path: \"/multisig/sign\", element: <SignMultisigTxPage /> },\r\n    { path: \"/multisig/post\", element: <PostMultisigTxPage /> },\r\n\r\n    // txs \r\n    { path: \"/send\", element: <SendTx /> },\r\n    { path: \"/nft/transfer\", element: <TransferCW721Tx /> },\r\n    { path: \"/swap/multiple\", element: <SwapMultipleTx /> },\r\n    { path: \"/stake/:address\", element: <StakeTx /> },\r\n    { path: \"/rewards\", element: <WithdrawRewardsTx /> },\r\n    { path: \"/commission\", element: <WithdrawCommissionTx /> },\r\n    { path: \"/proposal/new\", element: <SubmitProposalTx /> },\r\n    { path: \"/proposal/:id/deposit\", element: <DepositTx /> },\r\n    { path: \"/proposal/:id/vote\", element: <VoteTx /> },\r\n    { path: \"/contract/instantiate\", element: <InstantiateContractTx /> },\r\n    { path: \"/contract/store\", element: <StoreCodeTx /> },\r\n    { path: \"/contract/execute/:contract\", element: <ExecuteContractTx /> },\r\n    { path: \"/contract/migrate/:contract\", element: <MigrateContractTx /> },\r\n    {\r\n      path: \"/contract/updateadmin/:contract\",\r\n      element: <UpdateAdminContractTx />,\r\n    },\r\n    { path: \"/earn\", element: <AnchorEarnTx /> },\r\n\r\n    // auth\r\n    { path: \"/auth/*\", element: <Auth /> },\r\n    { path: \"/networks\", element: <ManageNetworksPage /> },\r\n    { path: \"/network/new\", element: <AddNetworkPage /> },\r\n    { path: \"/settings\", element: <Settings /> },\r\n\r\n    // dev\r\n    { path: \"/labs\", element: <Labs /> },\r\n\r\n    // 404 \r\n    { path: \"*\", element: <NotFound /> },\r\n  ]\r\n\r\n  return { menu, element: useRoutes(routes) }\r\n} */\r\n\r\n/* helpers */\r\nexport const useGoBackOnError = ({ error }: QueryState) => {\r\n  const navigate = useNavigate()\r\n  useEffect(() => {\r\n    if (error) navigate(\"..\", { replace: true })\r\n  }, [error, navigate])\r\n}\r\n","// import classNames from \"classnames\"\r\n//import { useNetworkName } from \"data/wallet\"\r\n// import styles from \"./NetworkName.module.scss\"\r\n\r\nconst BannerText = () => {return null}\r\n\r\n// Nombre de la red seleccionada. Se usa sólo en el banner amarillo \r\n// que aparece arriba si la red seleccionada no es la mainnet. \r\n// Lo apagamos para que no de por saco.\r\n/* const NetworkName = () => {\r\n  const name = useNetworkName()\r\n  if (name === \"mainnet\") return null\r\n  return <div className={classNames(styles.text, styles.warning)}>{name}</div>\r\n} */\r\n\r\nexport default BannerText\r\n","export default __webpack_public_path__ + \"static/media/geminon_text.0ba15e74.png\";","import { useEffect } from \"react\"\r\nimport { NavLink, useLocation } from \"react-router-dom\"\r\nimport { useRecoilState, useSetRecoilState } from \"recoil\"\r\nimport classNames from \"classnames/bind\"\r\nimport MenuIcon from \"@mui/icons-material/Menu\"\r\nimport CloseIcon from \"@mui/icons-material/Close\"\r\nimport { Auto, mobileIsMenuOpenState } from \"components/layout\"\r\nimport { useNav } from \"../routes\"\r\nimport styles from \"./Nav.module.scss\"\r\nimport defaultLogo from \"../../styles/images/geminon/geminon_text.png\"\r\nimport { useThemeLogo } from \"data/settings/Theme\"\r\nimport { GEMINON } from \"../../config/constants\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\nconst Nav = () => {\r\n  useCloseMenuOnNavigate()\r\n  const { menu } = useNav()\r\n  const [isOpen, setIsOpen] = useRecoilState(mobileIsMenuOpenState)\r\n  const toggle = () => setIsOpen(!isOpen)\r\n  const geminonLogo = useThemeLogo() ?? defaultLogo\r\n\r\n  return (\r\n    <nav>\r\n      <header className={styles.header}>\r\n        <a href={GEMINON} className={classNames(styles.item, styles.logo)}>\r\n          <img src={geminonLogo} style={{height: \"50px\"}}/>\r\n        </a>\r\n        \r\n        <button className={styles.toggle} onClick={toggle}>\r\n          {isOpen ? <CloseIcon /> : <MenuIcon />}\r\n        </button>\r\n      </header>\r\n\r\n      {menu.map(({ path, title, icon }) => (\r\n        <NavLink\r\n          to={path}\r\n          className={({ isActive }) =>\r\n            cx(styles.item, styles.link, { active: isActive })\r\n          }\r\n          key={path}\r\n        >\r\n          {icon}\r\n          {title}\r\n        </NavLink>\r\n      ))}\r\n    </nav>\r\n  )\r\n}\r\n\r\n/* const Nav = () => {\r\n  useCloseMenuOnNavigate()\r\n  const { menu } = useNav()\r\n  const [isOpen, setIsOpen] = useRecoilState(mobileIsMenuOpenState)\r\n  const toggle = () => setIsOpen(!isOpen)\r\n\r\n  return (\r\n    <nav>\r\n      <header className={styles.header}>\r\n        <NavLink to=\"/\" className={classNames(styles.item, styles.logo)}>\r\n          <strong>Terra</strong> Station\r\n        </NavLink>\r\n\r\n        <button className={styles.toggle} onClick={toggle}>\r\n          {isOpen ? <CloseIcon /> : <MenuIcon />}\r\n        </button>\r\n      </header>\r\n\r\n      {menu.map(({ path, title, icon }) => (\r\n        <NavLink\r\n          to={path}\r\n          className={({ isActive }) =>\r\n            cx(styles.item, styles.link, { active: isActive })\r\n          }\r\n          key={path}\r\n        >\r\n          {icon}\r\n          {title}\r\n        </NavLink>\r\n      ))}\r\n    </nav>\r\n  )\r\n} */\r\n\r\nexport default Nav\r\n\r\n/* hooks */\r\nconst useCloseMenuOnNavigate = () => {\r\n  const { pathname } = useLocation()\r\n  const setIsOpen = useSetRecoilState(mobileIsMenuOpenState)\r\n\r\n  useEffect(() => {\r\n    setIsOpen(false)\r\n  }, [pathname, setIsOpen])\r\n}\r\n","import { useTranslation } from \"react-i18next\"\r\nimport classNames from \"classnames\"\r\n// import { formatNumber } from \"@terra.kitchen/utils\"\r\n// import { useTerraObserver } from \"data/Terra/TerraObserver\"\r\n// import { FinderLink } from \"components/general\"\r\nimport { Flex } from \"components/layout\"\r\nimport styles from \"./LastHeight.module.scss\"\r\nimport { useBlockNumber } from 'wagmi'\r\n\r\n\r\nconst LastHeight = () => {\r\n  const { t } = useTranslation()\r\n  const { data, isError, isLoading } = useBlockNumber()\r\n\r\n  return (\r\n    <Flex gap={4} className={styles.component} start>\r\n      <div\r\n        className={classNames(\r\n          styles.indicator,\r\n          data ? styles.success : styles.loading\r\n        )}\r\n      />\r\n      {t(\"Block: \")}\r\n      {data ? (\r\n        <div className={styles.link}>\r\n          #{data.toLocaleString('en-US')}\r\n        </div>\r\n      ) : (\r\n        <p className={styles.text}>{t(\"Loading...\")}</p>\r\n      )}\r\n    </Flex>\r\n  )\r\n}\r\n\r\n\r\nexport default LastHeight\r\n\r\n\r\n/* const LastHeight = () => {\r\n  const { t } = useTranslation()\r\n  const { block } = useTerraObserver()\r\n  const height = block?.header.height\r\n\r\n  return (\r\n    <Flex gap={4} className={styles.component} start>\r\n      <div\r\n        className={classNames(\r\n          styles.indicator,\r\n          height ? styles.success : styles.loading\r\n        )}\r\n      />\r\n\r\n      {height ? (\r\n        <FinderLink className={styles.link} value={height} block>\r\n          #{formatNumber(height, { comma: true })}\r\n        </FinderLink>\r\n      ) : (\r\n        <p className={styles.text}>{t(\"Loading...\")}</p>\r\n      )}\r\n    </Flex>\r\n  )\r\n}\r\n */\r\n\r\n\r\n","import { useTranslation } from \"react-i18next\"\r\nimport DescriptionIcon from \"@mui/icons-material/Description\"\r\nimport { TUTORIAL, MEDIUM, TWITTER, GITHUB, TELEGRAM_ANN } from \"config/constants\"\r\nimport { ExternalLink } from \"components/general\"\r\nimport { Contacts } from \"components/layout\"\r\nimport styles from \"./Links.module.scss\"\r\n\r\nconst community = {\r\n  medium: MEDIUM,\r\n  telegram: TELEGRAM_ANN,\r\n  twitter: TWITTER,\r\n  github: GITHUB,\r\n}\r\n\r\nconst Links = () => {\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <div className={styles.links}>\r\n      <div className={styles.tutorial}>\r\n        <ExternalLink href={TUTORIAL} className={styles.link}>\r\n          <DescriptionIcon style={{ fontSize: 18 }} />\r\n          {t(\"Tutorial\")}\r\n        </ExternalLink>\r\n      </div>\r\n\r\n      <div className={styles.community}>\r\n        <Contacts contacts={community} menu />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Links\r\n","import { Grid } from \"components/layout\"\r\nimport LastHeight from \"./LastHeight\"\r\nimport Links from \"./Links\"\r\nimport styles from \"./Aside.module.scss\"\r\n\r\nconst Aside = () => {\r\n  return (\r\n    <Grid gap={20} className={styles.aside}>\r\n      <Links />\r\n      <LastHeight />\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default Aside\r\n","// import { useIsClassic } from \"data/query\"\r\nimport { useAccount, useNetwork } from 'wagmi'\r\nimport styles from \"./IsClassicNetwork.module.scss\"\r\n\r\n\r\n\r\nconst NetworkName = () => {\r\n  const { isConnected } = useAccount()\r\n  const { chain } = useNetwork()\r\n\r\n  const validNetworks = [42]\r\n  const isValidNetwork = chain && validNetworks.includes(chain.id)\r\n\r\n  if (!isConnected) return <div/>\r\n  // console.log(\"[NETWORKNAME] chain\")\r\n  // console.log(chain)\r\n\r\n  return (\r\n    <div className={styles.component}>\r\n      {isValidNetwork ? chain?.name : \"Wrong network\"}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n/* const IsClassicNetwork = () => {\r\n  const isClassic = useIsClassic()\r\n\r\n  return (\r\n    <div className={styles.component}>\r\n      {isClassic ? \"Terra Classic\" : \"Terra 2.0\"}\r\n    </div>\r\n  )\r\n} */\r\n\r\nexport default NetworkName\r\n","import { ForwardedRef, forwardRef, HTMLAttributes } from \"react\"\r\nimport styles from \"./HeaderIconButton.module.scss\"\r\n\r\nconst HeaderIconButton = forwardRef(\r\n  (\r\n    attrs: HTMLAttributes<HTMLButtonElement>,\r\n    ref?: ForwardedRef<HTMLButtonElement>\r\n  ) => {\r\n    return (\r\n      // wrap for tooltip\r\n      <span className={styles.wrapper}>\r\n        <button type=\"button\" {...attrs} className={styles.button} ref={ref} />\r\n      </span>\r\n    )\r\n  }\r\n)\r\n\r\nexport default HeaderIconButton\r\n","import { useQueryClient } from \"react-query\"\r\nimport RefreshIcon from \"@mui/icons-material/Refresh\"\r\nimport HeaderIconButton from \"../components/HeaderIconButton\"\r\n\r\nconst Refresh = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return (\r\n    <HeaderIconButton onClick={() => queryClient.invalidateQueries()}>\r\n      <RefreshIcon style={{ fontSize: 18 }} />\r\n    </HeaderIconButton>\r\n  )\r\n}\r\n\r\nexport default Refresh\r\n","import { atom, useRecoilState } from \"recoil\"\r\nimport { getLocalSetting, setLocalSetting } from \"utils/localStorage\"\r\nimport { SettingKey } from \"utils/localStorage\"\r\n\r\n/* Este módulo completo es obsoleto. Eliminar cuando sea seguro */\r\n\r\nconst customNetworksState = atom({\r\n  key: \"customNetworks\",\r\n  default: getLocalSetting<CustomNetwork[]>(SettingKey.CustomNetworks),\r\n})\r\n\r\nexport const useCustomNetworks = () => {\r\n  const [customNetworks, setCustomNetworks] =\r\n    useRecoilState(customNetworksState)\r\n\r\n  const validateName = (name: string) => {return true}\r\n  // Comprueba que el nuevo nombre de red no existe ya\r\n  /* const validateName = (name: string) => {\r\n    return (\r\n      ![\"mainnet\", \"classic\", \"testnet\", \"localterra\"].includes(name) &&\r\n      !customNetworks.some((network) => network.name === name)\r\n    )\r\n  } */\r\n\r\n  const updateList = (list: CustomNetwork[]) => {\r\n    setCustomNetworks(list)\r\n    setLocalSetting(SettingKey.CustomNetworks, list)\r\n  }\r\n\r\n  const add = (newNetwork: CustomNetwork) => {\r\n    if (!validateName(newNetwork.name))\r\n      throw new Error(`Already exists: ${newNetwork.name}`)\r\n\r\n    updateList([...customNetworks, newNetwork])\r\n  }\r\n\r\n  const remove = (name: string) =>\r\n    updateList(customNetworks.filter((item) => item.name !== name))\r\n\r\n  return { list: customNetworks, add, remove, validateName }\r\n}\r\n","import { useTranslation } from \"react-i18next\"\r\nimport { useNetworkOptions, useNetworkState } from \"data/wallet\"\r\nimport { useCustomNetworks } from \"data/settings/CustomNetworks\"\r\nimport { InternalLink } from \"components/general\"\r\nimport { RadioGroup } from \"components/form\"\r\n\r\nconst NetworkSetting = () => {\r\n  const { t } = useTranslation()\r\n  const [network, setNetwork] = useNetworkState()\r\n  const networkOptions = useNetworkOptions()\r\n  const { list } = useCustomNetworks()\r\n\r\n  if (!networkOptions) return null\r\n\r\n  return (\r\n    <>\r\n      <RadioGroup\r\n        options={networkOptions}\r\n        value={network}\r\n        onChange={setNetwork}\r\n      />\r\n\r\n      {list.length ? (\r\n        <InternalLink to=\"/networks\" chevron>\r\n          {t(\"Manage networks\")}\r\n        </InternalLink>\r\n      ) : (\r\n        <InternalLink to=\"/network/new\" chevron>\r\n          {t(\"Add a network\")}\r\n        </InternalLink>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default NetworkSetting\r\n","import { useTranslation } from \"react-i18next\"\r\nimport { Languages } from \"config/lang\"\r\nimport { RadioGroup } from \"components/form\"\r\n\r\nconst LanguageSetting = () => {\r\n  const { i18n } = useTranslation()\r\n\r\n  return (\r\n    <RadioGroup\r\n      options={Object.values(Languages)}\r\n      value={i18n.language}\r\n      onChange={(language) => i18n.changeLanguage(language)}\r\n    />\r\n  )\r\n}\r\n\r\nexport default LanguageSetting\r\n","import { readDenom } from \"@terra.kitchen/utils\"\r\nimport { useActiveDenoms } from \"data/queries/oracle\"\r\nimport { useCurrencyState } from \"data/settings/Currency\"\r\nimport { RadioGroup } from \"components/form\"\r\n\r\nconst CurrencySetting = () => {\r\n  const { data: activeDenoms = [] } = useActiveDenoms()\r\n  const [currency, setCurrency] = useCurrencyState()\r\n\r\n  return (\r\n    <RadioGroup\r\n      options={activeDenoms.map((denom) => {\r\n        return { value: denom, label: readDenom(denom) }\r\n      })}\r\n      value={currency}\r\n      onChange={setCurrency}\r\n    />\r\n  )\r\n}\r\n\r\nexport default CurrencySetting\r\n","import { useCallback, useMemo } from \"react\"\r\nimport { useQuery } from \"react-query\"\r\nimport { getAmount, sortCoins, sortDenoms } from \"utils/coin\"\r\nimport { toPrice } from \"utils/num\"\r\nimport { queryKey, RefetchOptions, useIsClassic } from \"../query\"\r\nimport { useCurrency } from \"../settings/Currency\"\r\nimport { useLCDClient } from \"./lcdClient\"\r\n\r\nexport const useActiveDenoms = () => {\r\n  const lcd = useLCDClient()\r\n  const isClassic = useIsClassic() // bool\r\n\r\n  return useQuery(\r\n    [queryKey.oracle.activeDenoms, isClassic],\r\n    async () => {\r\n      if (isClassic) {\r\n        const activeDenoms = await lcd.oracle.activeDenoms()\r\n        return sortDenoms([\"uluna\", ...activeDenoms])\r\n      } else {\r\n        return [\"uluna\"]\r\n      }\r\n    },\r\n    { ...RefetchOptions.INFINITY }\r\n  )\r\n}\r\n\r\nexport const useExchangeRates = () => {\r\n  const lcd = useLCDClient()\r\n  const isClassic = useIsClassic()\r\n\r\n  return useQuery(\r\n    [queryKey.oracle.exchangeRates, isClassic],\r\n    async () => {\r\n      if (isClassic) return await lcd.oracle.exchangeRates()\r\n    },\r\n    { ...RefetchOptions.DEFAULT }\r\n  )\r\n}\r\n\r\nexport const useOracleParams = () => {\r\n  const lcd = useLCDClient()\r\n  const isClassic = useIsClassic()\r\n\r\n  return useQuery(\r\n    [queryKey.oracle.params, isClassic],\r\n    async () => {\r\n      if (isClassic) return await lcd.oracle.parameters()\r\n    },\r\n    { ...RefetchOptions.INFINITY }\r\n  )\r\n}\r\n\r\n/* helpers */\r\ntype Prices = Record<Denom, Price>\r\nexport const useMemoizedPrices = (currency: Denom) => {\r\n  const isClassic = useIsClassic()\r\n  const { data: exchangeRates, ...state } = useExchangeRates()\r\n\r\n  const prices = useMemo((): Prices | undefined => {\r\n    if (!isClassic) return { uluna: 1 }\r\n\r\n    if (!exchangeRates) return\r\n    const base = toPrice(getAmount(exchangeRates, currency, \"1\"))\r\n\r\n    return {\r\n      uluna: base,\r\n      ...sortCoins(exchangeRates, currency).reduce((acc, { amount, denom }) => {\r\n        const price = toPrice(Number(base) / Number(amount))\r\n        return { ...acc, [denom]: price }\r\n      }, {}),\r\n    }\r\n  }, [currency, exchangeRates, isClassic])\r\n\r\n  return { data: prices, ...state }\r\n}\r\n\r\nexport type CalcValue = (params: CoinData) => number | undefined\r\nexport const useMemoizedCalcValue = (denom?: Denom) => {\r\n  const currency = useCurrency()\r\n  const { data: memoizedPrices } = useMemoizedPrices(denom ?? currency)\r\n\r\n  return useCallback<CalcValue>(\r\n    ({ amount, denom }) => {\r\n      if (!memoizedPrices) return\r\n      return Number(amount) * Number(memoizedPrices[denom] ?? 0)\r\n    },\r\n    [memoizedPrices]\r\n  )\r\n}\r\n","import { useTranslation } from \"react-i18next\"\r\nimport LanguageIcon from \"@mui/icons-material/Language\"\r\n// import { useIsClassic } from \"data/query\"\r\nimport { Tabs } from \"components/layout\"\r\nimport { Popover } from \"components/display\"\r\nimport { sandbox } from \"auth/scripts/env\"\r\nimport PopoverNone from \"../components/PopoverNone\"\r\nimport HeaderIconButton from \"../components/HeaderIconButton\"\r\nimport NetworkSetting from \"./NetworkSetting\"\r\nimport LanguageSetting from \"./LanguageSetting\"\r\nimport CurrencySetting from \"./CurrencySetting\"\r\n\r\nconst Preferences = () => {\r\n  const { t } = useTranslation()\r\n  // const isClassic = useIsClassic()\r\n\r\n  const network = {\r\n    key: \"network\",\r\n    tab: t(\"Network\"),\r\n    children: <NetworkSetting />,\r\n    condition: [\"sandbox\"],\r\n  }\r\n\r\n  const lang = {\r\n    key: \"lang\",\r\n    tab: t(\"Language\"),\r\n    children: <LanguageSetting />,\r\n    condition: undefined,\r\n  }\r\n\r\n  const currency = {\r\n    key: \"currency\",\r\n    tab: t(\"Currency\"),\r\n    children: <CurrencySetting />,\r\n    condition: [\"classic\"],\r\n  }\r\n\r\n  const tabs = [network, lang, currency].filter(({ condition }) => {\r\n    if (!condition) return true\r\n    if (condition.includes(\"sandbox\")) return sandbox\r\n    if (condition.includes(\"classic\")) return false\r\n    return true\r\n  })\r\n\r\n  return (\r\n    <Popover\r\n      content={\r\n        <PopoverNone>\r\n          <Tabs tabs={tabs} type=\"line\" state />\r\n        </PopoverNone>\r\n      }\r\n      placement=\"bottom\"\r\n      theme=\"none\"\r\n    >\r\n      <HeaderIconButton>\r\n        <LanguageIcon style={{ fontSize: 18 }} />\r\n      </HeaderIconButton>\r\n    </Popover>\r\n  )\r\n}\r\n\r\nexport default Preferences\r\n\r\n\r\n\r\n// const Preferences = () => {\r\n//   const { t } = useTranslation()\r\n//   const isClassic = useIsClassic()\r\n\r\n//   const network = {\r\n//     key: \"network\",\r\n//     tab: t(\"Network\"),\r\n//     children: <NetworkSetting />,\r\n//     condition: [\"sandbox\"],\r\n//   }\r\n\r\n//   const lang = {\r\n//     key: \"lang\",\r\n//     tab: t(\"Language\"),\r\n//     children: <LanguageSetting />,\r\n//     condition: undefined,\r\n//   }\r\n\r\n//   const currency = {\r\n//     key: \"currency\",\r\n//     tab: t(\"Currency\"),\r\n//     children: <CurrencySetting />,\r\n//     condition: [\"classic\"],\r\n//   }\r\n\r\n//   const tabs = [network, lang, currency].filter(({ condition }) => {\r\n//     if (!condition) return true\r\n//     if (condition.includes(\"sandbox\")) return sandbox\r\n//     if (condition.includes(\"classic\")) return isClassic\r\n//     return true\r\n//   })\r\n\r\n//   return (\r\n//     <Popover\r\n//       content={\r\n//         <PopoverNone>\r\n//           <Tabs tabs={tabs} type=\"line\" state />\r\n//         </PopoverNone>\r\n//       }\r\n//       placement=\"bottom\"\r\n//       theme=\"none\"\r\n//     >\r\n//       <HeaderIconButton>\r\n//         <LanguageIcon style={{ fontSize: 18 }} />\r\n//       </HeaderIconButton>\r\n//     </Popover>\r\n//   )\r\n// }","import { useTranslation } from \"react-i18next\"\r\nimport classNames from \"classnames/bind\"\r\nimport PaletteOutlinedIcon from \"@mui/icons-material/PaletteOutlined\"\r\nimport LockIcon from \"@mui/icons-material/Lock\"\r\nimport InfoIcon from \"@mui/icons-material/Info\"\r\nimport { capitalize } from \"@mui/material\"\r\nimport { readAmount } from \"@terra.kitchen/utils\"\r\nimport { themes } from \"styles/themes/themes\"\r\nimport { useAddress } from \"data/wallet\"\r\nimport { useThemeState, useValidateTheme } from \"data/settings/Theme\"\r\nimport { Flex, FlexColumn, Grid } from \"components/layout\"\r\nimport { Radio } from \"components/form\"\r\nimport { ModalButton } from \"components/feedback\"\r\nimport HeaderIconButton from \"../components/HeaderIconButton\"\r\nimport styles from \"./SelectTheme.module.scss\"\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\nconst Selector = () => {\r\n  const { t } = useTranslation()\r\n  const [current, setTheme] = useThemeState()\r\n  const validate = useValidateTheme()\r\n\r\n  return (\r\n    <Grid gap={28} columns={2}>\r\n      {themes.map((theme) => {\r\n        const { name, unlock, preview } = theme\r\n        const active = current.name === name\r\n        const unlocked = validate?.(theme)\r\n\r\n        return (\r\n          <Radio\r\n            checked={active}\r\n            label={capitalize(name)}\r\n            className={cx({ active, locked: !unlocked })}\r\n            onClick={() => unlocked && setTheme(theme)}\r\n            disabled={!unlocked}\r\n            key={name}\r\n          >\r\n            <div className={styles.wrapper}>\r\n              <Flex className={styles.preview}>{preview}</Flex>\r\n\r\n              {!unlocked && (\r\n                <FlexColumn gap={4} className={styles.unlock}>\r\n                  <LockIcon fontSize=\"small\" />\r\n                  <small>\r\n                    {t(\"Stake {{amount}} Luna to unlock\", {\r\n                      amount: readAmount(unlock, { comma: true }),\r\n                    })}\r\n                  </small>\r\n                </FlexColumn>\r\n              )}\r\n            </div>\r\n          </Radio>\r\n        )\r\n      })}\r\n    </Grid>\r\n  )\r\n}\r\n\r\nconst SelectTheme = () => {\r\n  const { t } = useTranslation()\r\n  const address = useAddress()\r\n  const validate = useValidateTheme()\r\n\r\n  return (\r\n    <ModalButton\r\n      title={t(\"Select theme\")}\r\n      renderButton={(open) => (\r\n        <HeaderIconButton onClick={open}>\r\n          <PaletteOutlinedIcon style={{ fontSize: 18 }} />\r\n        </HeaderIconButton>\r\n      )}\r\n    >\r\n      <Grid gap={20}>\r\n        <Selector />\r\n\r\n        {address && themes.some((theme) => !validate?.(theme)) && (\r\n          <Flex gap={4} className={styles.info}>\r\n            <InfoIcon style={{ fontSize: 18 }} />\r\n            {t(\"Preview is available if wallet is disconnected\")}\r\n          </Flex>\r\n        )}\r\n      </Grid>\r\n    </ModalButton>\r\n  )\r\n}\r\n\r\nexport default SelectTheme\r\n","import { useQueryClient } from \"react-query\"\r\nimport { debug } from \"utils/env\"\r\nimport { Button } from \"components/general\"\r\n\r\nconst DevTools = () => {\r\n  const queryClient = useQueryClient()\r\n  if (!debug.query) return null\r\n\r\n  return (\r\n    <Button onClick={() => queryClient.resetQueries()} size=\"small\" outline>\r\n      Refresh\r\n    </Button>\r\n  )\r\n}\r\n\r\nexport default DevTools\r\n","import { getErrorMessage } from \"utils/error\"\r\nimport Layout, { Page } from \"components/layout\"\r\nimport { Banner, Content, Header, Actions, Sidebar } from \"components/layout\"\r\nimport { ErrorBoundary, Wrong } from \"components/feedback\"\r\n\r\n/* routes */\r\nimport { useNav } from \"./routes\"\r\n\r\n/* banner */\r\nimport BannerText from \"./sections/BannerText\"\r\n\r\n/* sidebar */\r\nimport Nav from \"./sections/Nav\"\r\nimport Aside from \"./sections/Aside\"\r\n\r\n/* header */\r\nimport NetworkName from \"./sections/NetworkName\"\r\nimport Refresh from \"./sections/Refresh\"\r\nimport Preferences from \"./sections/Preferences\"\r\nimport SelectTheme from \"./sections/SelectTheme\"\r\nimport ConnectWallet from \"./sections/ConnectWallet\"\r\n\r\n/* extra */\r\n// import LatestTx from \"./sections/LatestTx\"\r\n// import ValidatorButton from \"./sections/ValidatorButton\"\r\nimport DevTools from \"./sections/DevTools\"\r\n\r\n/* init */\r\n// import InitBankBalance from \"./InitBankBalance\"\r\n\r\nconst App = () => {\r\n  const { element: routes } = useNav()\r\n\r\n  return (\r\n    <Layout>\r\n      <Banner>\r\n        <BannerText />\r\n      </Banner>\r\n\r\n      <Sidebar>\r\n        <Nav />\r\n        <Aside />\r\n      </Sidebar>\r\n\r\n      <Header>\r\n        <NetworkName />\r\n\r\n        <Actions>\r\n          <DevTools />\r\n          <section>\r\n            <Refresh />\r\n            <Preferences />\r\n            <SelectTheme />\r\n          </section>\r\n          <ConnectWallet />\r\n        </Actions>\r\n      </Header>\r\n\r\n      <Content>\r\n        <ErrorBoundary fallback={fallback}>\r\n          {routes}\r\n        </ErrorBoundary>\r\n      </Content>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default App\r\n\r\n/* error */\r\nexport const fallback = (error: Error) => (\r\n  <Page>\r\n    <Wrong>{getErrorMessage(error)}</Wrong>\r\n  </Page>\r\n)\r\n","import { StrictMode } from \"react\"\r\nimport { render } from \"react-dom\"\r\nimport { BrowserRouter } from \"react-router-dom\"\r\nimport { ReactQueryDevtools } from \"react-query/devtools\"\r\nimport { RecoilRoot } from \"recoil\"\r\n// import { getChainOptions } from \"@terra-money/wallet-controller\"\r\n// import { WalletProvider } from \"@terra-money/wallet-provider\"\r\nimport \"tippy.js/dist/tippy.css\"\r\n\r\nimport \"config/lang\"\r\n// import { BRIDGE } from \"config/constants\"\r\nimport { debug } from \"utils/env\"\r\n\r\nimport \"index.scss\"\r\nimport ScrollToTop from \"app/ScrollToTop\"\r\nimport InitAdapter from \"app/InitAdapter\"\r\n// import InitNetworks from \"app/InitNetworks\"\r\n// import InitWallet from \"app/InitWallet\"\r\nimport InitTheme from \"app/InitTheme\"\r\n// import ElectronVersion from \"app/ElectronVersion\"\r\nimport App from \"app/App\"\r\n\r\n// const connectorOpts = { bridge: BRIDGE }\r\n\r\n// getChainOptions().then((chainOptions) =>\r\nrender(\r\n  <StrictMode>\r\n    <RecoilRoot>\r\n      <BrowserRouter>\r\n        <ScrollToTop />\r\n          <InitAdapter>\r\n            <InitTheme />\r\n            {/* <ElectronVersion /> */}\r\n            <App />\r\n          </InitAdapter>\r\n        {debug.query && <ReactQueryDevtools position=\"bottom-right\" />}\r\n      </BrowserRouter>\r\n    </RecoilRoot>\r\n  </StrictMode>,\r\n  document.getElementById(\"root\")\r\n)\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Form_form__1l67I\",\"submit\":\"Form_submit__31Nxo\",\"group\":\"Form_group__2RYlk\",\"label\":\"Form_label__3VFhT\",\"button\":\"Form_button__1jV-f\",\"header\":\"Form_header__243Tw\",\"extra\":\"Form_extra__4pJkF\",\"error\":\"Form_error__3dptX\"};","const isLocal = (wallet?: Wallet): wallet is LocalWallet => {\r\n  if (!wallet) return false\r\n  return \"name\" in wallet\r\n}\r\n\r\nconst isMultisig = (wallet?: Wallet): wallet is MultisigWallet => {\r\n  if (!isLocal(wallet)) return false\r\n  return \"multisig\" in wallet\r\n}\r\n\r\nconst isPreconfigured = (wallet?: Wallet): wallet is PreconfiguredWallet => {\r\n  if (!isLocal(wallet)) return false\r\n  return \"mnemonic\" in wallet\r\n}\r\n\r\nconst isSingle = (wallet?: Wallet): wallet is SingleWallet => {\r\n  if (!isLocal(wallet)) return false\r\n  return !isPreconfigured(wallet) && !isMultisig(wallet)\r\n}\r\n\r\nconst isLedger = (wallet?: Wallet): wallet is LedgerWallet => {\r\n  if (!wallet) return false\r\n  return \"ledger\" in wallet\r\n}\r\n\r\nconst is = {\r\n  local: isLocal,\r\n  preconfigured: isPreconfigured,\r\n  multisig: isMultisig,\r\n  single: isSingle,\r\n  ledger: isLedger,\r\n}\r\n\r\nexport default is\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Layout_layout__3qkNs\",\"banner\":\"Layout_banner__PC_SK\",\"sidebar\":\"Layout_sidebar__3o0IR\",\"header\":\"Layout_header__309fH\",\"wrapper\":\"Layout_wrapper__2wkbs\",\"actions\":\"Layout_actions__jgsl9\",\"main\":\"Layout_main__13obb\",\"menu\":\"Layout_menu__196b9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3CQqk\",\"modal\":\"Modal_modal__1_6DR\",\"close\":\"Modal_close__2zN9b\",\"header\":\"Modal_header__Atdjf\",\"icon\":\"Modal_icon__1tRuA\",\"title\":\"Modal_title__1Xvx3\",\"confirm\":\"Modal_confirm__iR1jx\",\"main\":\"Modal_main__aSexk\",\"footer\":\"Modal_footer__1S3p-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Input_wrapper__28BoE\",\"input\":\"Input_input__RLXS6\",\"symbol\":\"Input_symbol__26W0r\",\"before\":\"Input_before__26yph\",\"after\":\"Input_after__1o6BU\",\"search\":\"Input_search__2-B9U\",\"icon\":\"Input_icon__1zjNX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"TokenCard_item__2TU5m\",\"main\":\"TokenCard_main__2H9N0\",\"footer\":\"TokenCard_footer__2ju3E\",\"name\":\"TokenCard_name__1JXmO\",\"balance\":\"TokenCard_balance__15iZ6\",\"grid\":\"TokenCard_grid__3NvmF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggle\":\"SelectToken_toggle__xxorm\",\"search\":\"SelectToken_search__105aK\",\"list\":\"SelectToken_list__gCeBd\",\"empty\":\"SelectToken_empty__cksqI\",\"title\":\"SelectToken_title__1MIJH\",\"item\":\"SelectToken_item__1Cc5-\",\"muted\":\"SelectToken_muted__1c6aP\"};","export const debug = {\r\n  query:\r\n    process.env.NODE_ENV === \"development\" &&\r\n    process.env.REACT_APP_DEBUG_QUERY === \"true\",\r\n  translation:\r\n    process.env.NODE_ENV === \"development\" &&\r\n    process.env.REACT_APP_DEBUG_TRANSLATION === \"true\",\r\n  theme:\r\n    process.env.NODE_ENV === \"development\" &&\r\n    process.env.REACT_APP_DEBUG_THEME === \"true\",\r\n  auth:\r\n    process.env.NODE_ENV === \"development\" &&\r\n    process.env.REACT_APP_ELECTRON === \"true\",\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"border\":\"AssetFormItem_border__1rz1n\",\"header\":\"AssetFormItem_header__3213k\",\"error\":\"AssetFormItem_error__VDMjO\",\"input\":\"AssetFormItem_input__10HxP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Nav_header__32pJw\",\"toggle\":\"Nav_toggle__2Q7Nl\",\"item\":\"Nav_item__2wrGh\",\"logo\":\"Nav_logo__34fvf\",\"link\":\"Nav_link__1bvKT\",\"active\":\"Nav_active__1n8Ka\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__p4kIT\",\"link\":\"Card_link___Tpjw\",\"button\":\"Card_button__1FgJ_\",\"small\":\"Card_small__3yBME\",\"header\":\"Card_header__1uc52\",\"grid\":\"Card_grid__1ak6D\",\"main\":\"Card_main__3GsWs\",\"title\":\"Card_title__3oEga\",\"extra\":\"Card_extra__iWiPI\",\"default\":\"Card_default__ztfa-\",\"bordered\":\"Card_bordered__1MtTi\",\"bg\":\"Card_bg__1hAKM\",\"error\":\"Card_error__15tG4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Page_page__2kDH3\",\"grid\":\"Page_grid__i_9Tb\",\"sub\":\"Page_sub__3zHt6\",\"header\":\"Page_header__jFp9G\",\"title\":\"Page_title__1mYR_\",\"small\":\"Page_small__3zNuL\",\"main\":\"Page_main__2ctVl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"Tabs_tabs__2kyjL\",\"card\":\"Tabs_card__17aQQ\",\"tab\":\"Tabs_tab__1BmVQ\",\"active\":\"Tabs_active__3QOdo\",\"disabled\":\"Tabs_disabled__1KcB5\",\"line\":\"Tabs_line__245jJ\",\"reversed\":\"Tabs_reversed__1tf2w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"SlippageControl_main__1IPN5\",\"label\":\"SlippageControl_label__ujPRP\",\"wrapper\":\"SlippageControl_wrapper__Rjkfh\",\"feedback-error\":\"SlippageControl_feedback-error__2vw5K\",\"error\":\"SlippageControl_error__fYqLf\",\"feedback-warning\":\"SlippageControl_feedback-warning__1NxCI\",\"warning\":\"SlippageControl_warning__1AviW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"PaginationButtons_button__gd2Ig\",\"status\":\"PaginationButtons_status__3DM0c\",\"prev\":\"PaginationButtons_prev__SuBk2\",\"next\":\"PaginationButtons_next__2o5g1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Table_container__1HIg3\",\"table\":\"Table_table__3_F6M\",\"default\":\"Table_default__2vA1h\",\"small\":\"Table_small__zGaPe\",\"bordered\":\"Table_bordered__sfzQ8\",\"center\":\"Table_center__tM4JZ\",\"right\":\"Table_right__2u0e9\",\"sorter\":\"Table_sorter__rn4vk\",\"caret\":\"Table_caret__2RvNz\",\"active\":\"Table_active__172bB\",\"pagination\":\"Table_pagination__qXIam\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"LastHeight_component__jkKLD\",\"indicator\":\"LastHeight_indicator__3Y73K\",\"success\":\"LastHeight_success__UWqE2\",\"loading\":\"LastHeight_loading__2WdxF\",\"text\":\"LastHeight_text__32JAO\",\"link\":\"LastHeight_link__2bj8P\"};","import { debug } from \"utils/env\"\r\n\r\nexport const sandbox =\r\n  debug.auth ||\r\n  process.env.REACT_APP_SANDBOX === \"true\" ||\r\n  navigator.userAgent.includes(\"Electron\")\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkbox\":\"Checkbox_checkbox__1jteY\",\"checked\":\"Checkbox_checked__EvHYq\",\"indicator\":\"Checkbox_indicator__JR-Gq\",\"disabled\":\"Checkbox_disabled__2kqCA\",\"text\":\"Checkbox_text__2DnXM\",\"track\":\"Checkbox_track__N6T7m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggle\":\"Toggle_toggle__pLF4x\",\"text\":\"Toggle_text__3yCyc\",\"track\":\"Toggle_track__dh7B1\",\"checked\":\"Toggle_checked__2Xtvz\",\"indicator\":\"Toggle_indicator__3ppLO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"Read_component__3TCtW\",\"small\":\"Read_small__3ESo5\",\"block\":\"Read_block__3w_om\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Token_header__2RcgY\",\"title\":\"Token_title__3ZA2s\",\"name\":\"Token_name__ic9Yt\",\"description\":\"Token_description__RhlJN\",\"extra\":\"Token_extra__1oAgC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"List_item__2L3Tg\",\"group\":\"List_group__3vGN1\",\"title\":\"List_title__38OIA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"locked\":\"SelectTheme_locked__UlK3X\",\"preview\":\"SelectTheme_preview__3xGCW\",\"wrapper\":\"SelectTheme_wrapper__1geqb\",\"active\":\"SelectTheme_active__2gW9M\",\"unlock\":\"SelectTheme_unlock__1x8oC\",\"info\":\"SelectTheme_info__3LYfo\"};","import { useChainID } from \"auth/hooks/useNetwork\"\r\nimport { LAZY_LIMIT } from \"config/constants\"\r\n\r\nexport const useIsClassic = () => {\r\n  const networkName = useChainID()\r\n  return true\r\n  // return networkName === \"columbus-5\" // TODO\r\n}\r\n\r\n/* refetch */\r\nexport const RefetchOptions = {\r\n  DEFAULT: /* onMount, onFocus */ {},\r\n  INFINITY: { staleTime: Infinity, retry: false },\r\n}\r\n\r\n/* params */\r\nexport const Pagination = {\r\n  \"pagination.limit\": String(LAZY_LIMIT),\r\n}\r\n\r\n/* helpers */\r\nexport const combineState = (...results: QueryState[]) => ({\r\n  isIdle: results.some((result) => result.isIdle),\r\n  isLoading: results.some((result) => result.isLoading),\r\n  isFetching: results.some((result) => result.isFetching),\r\n  isSuccess: results.every((result) => result.isSuccess),\r\n  error: results.find((result) => result.error)?.error,\r\n})\r\n\r\n/* queryKey */\r\nconst mirror = <T>(obj: T, parentKey?: string): T =>\r\n  Object.entries(obj).reduce((acc, [key, value]) => {\r\n    const next = value\r\n      ? mirror(value, key)\r\n      : [parentKey, key].filter(Boolean).join(\".\")\r\n\r\n    return { ...acc, [key]: next }\r\n  }, {} as T)\r\n\r\nexport const queryKey = mirror({\r\n  /* assets */\r\n  TerraAssets: \"\",\r\n  TerraAPI: \"\",\r\n  History: \"\",\r\n\r\n  /* lcd */\r\n  auth: { accountInfo: \"\" },\r\n  bank: { balance: \"\", balances: \"\", supply: \"\" },\r\n  distribution: {\r\n    rewards: \"\",\r\n    communityPool: \"\",\r\n    validatorCommission: \"\",\r\n    withdrawAddress: \"\",\r\n  },\r\n  gov: {\r\n    votingParams: \"\",\r\n    depositParams: \"\",\r\n    tallyParams: \"\",\r\n    proposals: \"\",\r\n    proposal: \"\",\r\n    deposits: \"\",\r\n    votes: \"\",\r\n    tally: \"\",\r\n  },\r\n  ibc: { denomTrace: \"\" },\r\n  market: { params: \"\" },\r\n  oracle: { activeDenoms: \"\", exchangeRates: \"\", params: \"\" },\r\n  tendermint: { nodeInfo: \"\" },\r\n  staking: {\r\n    validators: \"\",\r\n    validator: \"\",\r\n    delegations: \"\",\r\n    delegation: \"\",\r\n    unbondings: \"\",\r\n    pool: \"\",\r\n  },\r\n  tx: { txInfo: \"\", create: \"\" },\r\n  wasm: { contractInfo: \"\", contractQuery: \"\" },\r\n\r\n  /* external */\r\n  Anchor: { TotalDeposit: \"\", APY: \"\", MarketEpochState: \"\" },\r\n  TNS: \"\",\r\n})\r\n","import { PropsWithChildren, useState } from \"react\"\r\n// import { fromPairs } from \"ramda\"\r\n// import axios from \"axios\"\r\n// import { ASSETS } from \"config/constants\"\r\n// import { validNetworks } from \"config/networks\"\r\nimport createContext from \"utils/createContext\"\r\n// import { useCustomNetworks } from \"data/settings/CustomNetworks\"\r\nimport { useNetworkState } from \"data/wallet\"\r\n\r\n\r\nconst terraNetworks = {\r\n  mainnet: {\r\n    name: \"mainnet\",\r\n    chainID: \"phoenix-1\",\r\n    lcd: \"https://phoenix-lcd.terra.dev\",\r\n    api: \"https://phoenix-api.terra.dev\",\r\n    hive: \"https://phoenix-hive.terra.dev/graphql\",\r\n    walletconnectID: 1\r\n  },\r\n  classic: {\r\n    name: \"classic\",\r\n    chainID: \"columbus-5\",\r\n    lcd: \"https://columbus-lcd.terra.dev\",\r\n    api: \"https://columbus-api.terra.dev\",\r\n    mantle: \"https://columbus-mantle.terra.dev\",\r\n    walletconnectID: 2\r\n  },\r\n  testnet: {\r\n    name: \"testnet\",\r\n    chainID: \"pisco-1\",\r\n    lcd: \"https://pisco-lcd.terra.dev\",\r\n    api: \"https://pisco-api.terra.dev\",\r\n    hive: \"https://pisco-hive.terra.dev/graphql\",\r\n    walletconnectID: 0\r\n  },\r\n  localterra: {\r\n    name: \"localterra\",\r\n    chainID: \"localterra\",\r\n    lcd: \"http://localhost:1317\",\r\n    mantle: \"http://localhost:1337\"\r\n  }\r\n}\r\n\r\n\r\nexport const [useNetworks, NetworksProvider] = createContext<CustomNetworks>(\"useNetworks\")\r\n\r\n\r\nconst InitNetworks = ({ children }: PropsWithChildren<{}>) => {\r\n  const [networks, setNetworks] = useState<CustomNetworks>(terraNetworks)\r\n  \r\n  // const [network, setNetwork] = useNetworkState()\r\n  // setNetwork(\"classic\") // Necesario para que funcione el módulo de swaps\r\n  // console.log(\"Selected network:\")\r\n  // console.log(network)\r\n  // console.log(\"EVM networks:\")\r\n  // console.log(validNetworks)\r\n  // console.log(\"Loaded networks:\")\r\n  // console.log(networks)\r\n  console.log('InitNetworks OK')\r\n  \r\n  return <NetworksProvider value={networks}>{children}</NetworksProvider>\r\n}\r\n\r\n\r\n// Se puede encontrar el valor del estado \"networks\" en el archivo networks.json del directorio raíz  \r\n/* const InitNetworks = ({ children }: PropsWithChildren<{}>) => {\r\n  const [networks, setNetworks] = useState<CustomNetworks>()\r\n  const { list } = useCustomNetworks()\r\n\r\n  useEffect(() => {\r\n    const fetchChains = async () => {\r\n      const { data: chains } = await axios.get<TerraNetworks>(\"/chains.json\", {\r\n        baseURL: ASSETS,\r\n      })\r\n\r\n      const networks = {\r\n        ...chains,\r\n        localterra: { ...chains.localterra, preconfigure: true },\r\n      }\r\n\r\n      setNetworks({\r\n        ...networks,\r\n        ...fromPairs(list.map((item) => [item.name, item])),\r\n      })\r\n    }\r\n\r\n    fetchChains()\r\n  }, [list])\r\n\r\n  if (!networks) return null\r\n  return <NetworksProvider value={networks}>{children}</NetworksProvider>\r\n} */\r\n\r\nexport default InitNetworks\r\n","export const toBase64 = (object: object) => {\r\n  try {\r\n    return Buffer.from(JSON.stringify(object)).toString(\"base64\")\r\n  } catch (error) {\r\n    return \"\"\r\n  }\r\n}\r\n\r\nexport const parseJSON = (query: string) => {\r\n  try {\r\n    return JSON.parse(query)\r\n  } catch {\r\n    return\r\n  }\r\n}\r\n\r\nexport const validateMsg = (msg: string): object | undefined => {\r\n  const parsed = parseJSON(msg)\r\n  if (!parsed) return\r\n  return parsed\r\n}\r\n","import CryptoJS from \"crypto-js\"\r\n\r\nconst keySize = 256\r\nconst iterations = 100\r\n\r\nconst encrypt = (msg: string, pass: string) => {\r\n  try {\r\n    const salt = CryptoJS.lib.WordArray.random(128 / 8)\r\n\r\n    const key = CryptoJS.PBKDF2(pass, salt, {\r\n      keySize: keySize / 32,\r\n      iterations: iterations,\r\n    })\r\n\r\n    const iv = CryptoJS.lib.WordArray.random(128 / 8)\r\n\r\n    const encrypted = CryptoJS.AES.encrypt(msg, key, {\r\n      iv: iv,\r\n      padding: CryptoJS.pad.Pkcs7,\r\n      mode: CryptoJS.mode.CBC,\r\n    })\r\n\r\n    const transitmessage =\r\n      salt.toString() + iv.toString() + encrypted.toString()\r\n    return transitmessage\r\n  } catch (error) {\r\n    return \"\"\r\n  }\r\n}\r\n\r\nexport default encrypt\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"Grid_grid__1VrQ7\",\"row\":\"Grid_row__OOJQC\",\"start\":\"Grid_start__1ZqXb\",\"col\":\"Grid_col__9rcrJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flex\":\"Flex_flex__2M-vN\",\"column\":\"Flex_column__12jDT\",\"inline\":\"Flex_inline__Gtv-9\",\"start\":\"Flex_start__2U56Y\",\"wrap\":\"Flex_wrap__2G9us\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Internal_item__3a1qC\",\"icon\":\"Internal_icon__1oMMs\",\"disabled\":\"Internal_disabled__1WmxI\",\"chevron\":\"Internal_chevron__2jM6l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"FormHelp_component__1_Z-l\",\"info\":\"FormHelp_info__3CnbA\",\"warning\":\"FormHelp_warning__QE1wl\",\"error\":\"FormHelp_error__1izZE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Select_wrapper__2IpSd\",\"select\":\"Select_select__2axO4\",\"before\":\"Select_before__3Dlf9\",\"small\":\"Select_small__rwxOz\",\"caret\":\"Select_caret__2hUGi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"Radio_component__jUI32\",\"disabled\":\"Radio_disabled__1jOmn\",\"label\":\"Radio_label__12PUR\",\"indicator\":\"Radio_indicator__3VLkI\",\"checked\":\"Radio_checked__PE8rb\",\"track\":\"Radio_track__304bQ\",\"reversed\":\"Radio_reversed__3Bg-s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"PopoverNone_component__29jND\",\"inner\":\"PopoverNone_inner__1CMdK\",\"footer\":\"PopoverNone_footer__4kgvw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"links\":\"Links_links__4OrQl\",\"tutorial\":\"Links_tutorial__rHj6j\",\"community\":\"Links_community__2P-15\",\"link\":\"Links_link__qxD6v\"};","import { atom, useRecoilState, useRecoilValue } from \"recoil\"\r\n// import { useWallet } from \"@terra-money/wallet-provider\"\r\nimport { useNetworks } from \"app/InitNetworks\"\r\nimport { sandbox } from \"../scripts/env\"\r\nimport { getStoredNetwork, storeNetwork } from \"../scripts/network\"\r\n\r\n\r\nconst networkState = atom({\r\n  key: \"network\",\r\n  default: getStoredNetwork(),\r\n})\r\n\r\nexport const useNetworkState = () => {\r\n  const [network, setNetwork] = useRecoilState(networkState)\r\n\r\n  const changeNetwork = (network: NetworkName) => {\r\n    setNetwork(network)\r\n    storeNetwork(network)\r\n  }\r\n\r\n  return [network, changeNetwork] as const\r\n}\r\n\r\n/* helpers */\r\nexport const useNetworkOptions = () => {\r\n  const networks = useNetworks()\r\n\r\n  if (!sandbox) return\r\n\r\n  return Object.values(networks).map(({ name }) => {\r\n    return { value: name, label: name }\r\n  })\r\n}\r\n\r\n/* Devuelve la red almacenada actualmente en el almacenamiento\r\n * local de la página web (ver useNetworkState más arriba, proporciona\r\n * el método changeNetwork para hacerlo aunque no aparece ninguna\r\n * referencia en todo el código de la app que lo use). Si no hay\r\n * ninguno, devuelve la mainnet. */\r\nexport const useNetwork = (): CustomNetwork => {\r\n  const networks = useNetworks()\r\n  const network = useRecoilValue(networkState)\r\n\r\n  return networks[network] ?? networks.mainnet\r\n}\r\n\r\n/* export const useNetwork = (): CustomNetwork => {\r\n  const networks = useNetworks()\r\n  const network = useRecoilValue(networkState)\r\n  const wallet = useWallet()\r\n\r\n  if (sandbox) return networks[network] ?? networks.mainnet\r\n  return wallet.network\r\n} */\r\n\r\n\r\nexport const useNetworkName = () => {\r\n  const { name } = useNetwork()\r\n  return name\r\n}\r\n\r\nexport const useChainID = () => {\r\n  const { chainID } = useNetwork()\r\n  return chainID\r\n}\r\n","export const getStoredNetwork = () => {\r\n  return localStorage.getItem(\"network\") ?? \"mainnet\"\r\n}\r\n\r\nexport const storeNetwork = (network: NetworkName) => {\r\n  localStorage.setItem(\"network\", network)\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Copy_button__3znYE\"};","import { useCallback, useMemo } from \"react\"\r\nimport { atom, useRecoilState } from \"recoil\"\r\nimport { encode } from \"js-base64\"\r\nimport { CreateTxOptions, Tx, isTxError } from \"@terra-money/terra.js\"\r\nimport { AccAddress, SignDoc } from \"@terra-money/terra.js\"\r\nimport { MnemonicKey, RawKey, SignatureV2 } from \"@terra-money/terra.js\"\r\nimport { LedgerKey } from \"@terra-money/ledger-terra-js\"\r\nimport BluetoothTransport from \"@ledgerhq/hw-transport-web-ble\"\r\nimport { LEDGER_TRANSPORT_TIMEOUT } from \"config/constants\"\r\nimport { useChainID } from \"data/wallet\"\r\nimport { useIsClassic } from \"data/query\"\r\nimport { useLCDClient } from \"data/queries/lcdClient\"\r\nimport is from \"../scripts/is\"\r\nimport { PasswordError } from \"../scripts/keystore\"\r\nimport { getDecryptedKey, testPassword } from \"../scripts/keystore\"\r\nimport { getWallet, storeWallet } from \"../scripts/keystore\"\r\nimport { clearWallet, lockWallet } from \"../scripts/keystore\"\r\nimport { getStoredWallet, getStoredWallets } from \"../scripts/keystore\"\r\nimport encrypt from \"../scripts/encrypt\"\r\nimport useAvailable from \"./useAvailable\"\r\n\r\nconst walletState = atom({\r\n  key: \"wallet\",\r\n  default: getWallet(),\r\n})\r\n\r\nconst useAuth = () => {\r\n  const isClassic = useIsClassic()\r\n  const lcd = useLCDClient()\r\n  const available = useAvailable()\r\n\r\n  const [wallet, setWallet] = useRecoilState(walletState)\r\n  const wallets = getStoredWallets()\r\n\r\n  /* connect */\r\n  const connect = useCallback(\r\n    (name: string) => {\r\n      const storedWallet = getStoredWallet(name)\r\n      const { address, lock } = storedWallet\r\n\r\n      if (lock) throw new Error(\"Wallet is locked\")\r\n\r\n      const wallet = is.multisig(storedWallet)\r\n        ? { name, address, multisig: true }\r\n        : { name, address }\r\n\r\n      storeWallet(wallet)\r\n      setWallet(wallet)\r\n    },\r\n    [setWallet]\r\n  )\r\n\r\n  const connectPreconfigured = useCallback(\r\n    (wallet: PreconfiguredWallet) => {\r\n      storeWallet(wallet)\r\n      setWallet(wallet)\r\n    },\r\n    [setWallet]\r\n  )\r\n\r\n  const connectLedger = useCallback(\r\n    (address: AccAddress, index = 0, bluetooth = false) => {\r\n      const wallet = { address, ledger: true as const, index, bluetooth }\r\n      storeWallet(wallet)\r\n      setWallet(wallet)\r\n    },\r\n    [setWallet]\r\n  )\r\n\r\n  /* connected */\r\n  const connectedWallet = useMemo(() => {\r\n    if (!is.local(wallet)) return\r\n    return wallet\r\n  }, [wallet])\r\n\r\n  const getConnectedWallet = useCallback(() => {\r\n    if (!connectedWallet) throw new Error(\"Wallet is not defined\")\r\n    return connectedWallet\r\n  }, [connectedWallet])\r\n\r\n  /* disconnected */\r\n  const disconnect = useCallback(() => {\r\n    clearWallet()\r\n    setWallet(undefined)\r\n  }, [setWallet])\r\n\r\n  const lock = useCallback(() => {\r\n    const { name } = getConnectedWallet()\r\n    lockWallet(name)\r\n    disconnect()\r\n  }, [disconnect, getConnectedWallet])\r\n\r\n  /* helpers */\r\n  const getKey = (password: string) => {\r\n    const { name } = getConnectedWallet()\r\n    return getDecryptedKey({ name, password })\r\n  }\r\n\r\n  const getLedgerKey = async () => {\r\n    if (!is.ledger(wallet)) throw new Error(\"Ledger device is not connected\")\r\n    const { index, bluetooth } = wallet\r\n    const transport = bluetooth\r\n      ? await BluetoothTransport.create(LEDGER_TRANSPORT_TIMEOUT)\r\n      : undefined\r\n\r\n    return LedgerKey.create(transport, index)\r\n  }\r\n\r\n  /* manage: export */\r\n  const encodeEncryptedWallet = (password: string) => {\r\n    const { name, address } = getConnectedWallet()\r\n    const key = getKey(password)\r\n    const data = { name, address, encrypted_key: encrypt(key, password) }\r\n    return encode(JSON.stringify(data))\r\n  }\r\n\r\n  /* form */\r\n  const validatePassword = (password: string) => {\r\n    try {\r\n      const { name } = getConnectedWallet()\r\n      return testPassword({ name, password })\r\n    } catch (error) {\r\n      return \"Incorrect password\"\r\n    }\r\n  }\r\n\r\n  /* tx */\r\n  const chainID = useChainID()\r\n\r\n  const create = async (txOptions: CreateTxOptions) => {\r\n    if (!wallet) throw new Error(\"Wallet is not defined\")\r\n    const { address } = wallet\r\n    return await lcd.tx.create([{ address }], txOptions)\r\n  }\r\n\r\n  const createSignature = async (\r\n    tx: Tx,\r\n    address: AccAddress,\r\n    password = \"\"\r\n  ) => {\r\n    if (!wallet) throw new Error(\"Wallet is not defined\")\r\n\r\n    const accountInfo = await lcd.auth.accountInfo(address)\r\n\r\n    const doc = new SignDoc(\r\n      lcd.config.chainID,\r\n      accountInfo.getAccountNumber(),\r\n      accountInfo.getSequenceNumber(),\r\n      tx.auth_info,\r\n      tx.body\r\n    )\r\n\r\n    if (is.ledger(wallet)) {\r\n      const key = await getLedgerKey()\r\n      return await key.createSignatureAmino(doc, isClassic)\r\n    } else {\r\n      const pk = getKey(password)\r\n      if (!pk) throw new PasswordError(\"Incorrect password\")\r\n      const key = new RawKey(Buffer.from(pk, \"hex\"))\r\n      return await key.createSignatureAmino(doc, isClassic)\r\n    }\r\n  }\r\n\r\n  const sign = async (txOptions: CreateTxOptions, password = \"\") => {\r\n    if (!wallet) throw new Error(\"Wallet is not defined\")\r\n\r\n    if (is.ledger(wallet)) {\r\n      const key = await getLedgerKey()\r\n      const wallet = lcd.wallet(key)\r\n      const { account_number: accountNumber, sequence } =\r\n        await wallet.accountNumberAndSequence()\r\n      const signMode = SignatureV2.SignMode.SIGN_MODE_LEGACY_AMINO_JSON\r\n      const unsignedTx = await create(txOptions)\r\n      const options = { chainID, accountNumber, sequence, signMode }\r\n      return await key.signTx(unsignedTx, options, isClassic)\r\n    } else if (is.preconfigured(wallet)) {\r\n      const key = new MnemonicKey({ mnemonic: wallet.mnemonic })\r\n      return await lcd.wallet(key).createAndSignTx(txOptions)\r\n    } else {\r\n      const pk = getKey(password)\r\n      if (!pk) throw new PasswordError(\"Incorrect password\")\r\n      const key = new RawKey(Buffer.from(pk, \"hex\"))\r\n      const wallet = lcd.wallet(key)\r\n      return await wallet.createAndSignTx(txOptions)\r\n    }\r\n  }\r\n\r\n  const signBytes = (bytes: Buffer, password = \"\") => {\r\n    if (!wallet) throw new Error(\"Wallet is not defined\")\r\n\r\n    if (is.ledger(wallet)) {\r\n      throw new Error(\"Ledger can not sign arbitrary data\")\r\n    } else {\r\n      const pk = getKey(password)\r\n      if (!pk) throw new PasswordError(\"Incorrect password\")\r\n      const key = new RawKey(Buffer.from(pk, \"hex\"))\r\n      const { signature, recid } = key.ecdsaSign(bytes)\r\n      if (!signature) throw new Error(\"Signature is undefined\")\r\n      return {\r\n        recid,\r\n        signature: Buffer.from(signature).toString(\"base64\"),\r\n        public_key: key.publicKey?.toAmino().value as string,\r\n      }\r\n    }\r\n  }\r\n\r\n  const post = async (txOptions: CreateTxOptions, password = \"\") => {\r\n    if (!wallet) throw new Error(\"Wallet is not defined\")\r\n    const signedTx = await sign(txOptions, password)\r\n    const result = await lcd.tx.broadcastSync(signedTx)\r\n    if (isTxError(result)) throw new Error(result.raw_log)\r\n    return result\r\n  }\r\n\r\n  return {\r\n    wallet,\r\n    wallets,\r\n    getConnectedWallet,\r\n    getLedgerKey,\r\n    connectedWallet,\r\n    connect,\r\n    connectPreconfigured,\r\n    connectLedger,\r\n    disconnect,\r\n    lock,\r\n    available,\r\n    encodeEncryptedWallet,\r\n    validatePassword,\r\n    createSignature,\r\n    create,\r\n    signBytes,\r\n    sign,\r\n    post,\r\n  }\r\n}\r\n\r\nexport default useAuth\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gas\":\"Tx_gas__2j3tc\",\"select\":\"Tx_select__2iPfc\",\"icon\":\"Tx_icon__STRWb\",\"hidden\":\"Tx_hidden__3uUrW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"State_component__1-4-a\",\"icon\":\"State_icon__3Lf45\",\"content\":\"State_content__1y8dr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Pre_header__33UQ7\",\"pre\":\"Pre_pre__3XCIb\",\"normal\":\"Pre_normal__1q8SD\",\"break\":\"Pre_break__GwYTO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textarea\":\"TextArea_textarea__1veug\",\"editor\":\"TextArea_editor__2CMUi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"SwitchWallet_list__3EFCY\",\"wallet\":\"SwitchWallet_wallet__jKDlx\",\"active\":\"SwitchWallet_active___zBdn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Contacts_wrapper__3GR5O\",\"menu\":\"Contacts_menu__gFD9L\",\"icon\":\"Contacts_icon__1Q3oL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"actions\":\"ExtraActions_actions__1pUMT\",\"end\":\"ExtraActions_end__1d92w\",\"center\":\"ExtraActions_center__19wX1\",\"stretch\":\"ExtraActions_stretch__2ELF-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2qs_D\",\"disabled\":\"Button_disabled__1xjT0\",\"loading\":\"Button_loading__1PAMG\",\"small\":\"Button_small__10bMw\",\"default\":\"Button_default__3Xom2\",\"primary\":\"Button_primary__1ApGa\",\"danger\":\"Button_danger__1a74N\",\"outline\":\"Button_outline__36nzr\",\"block\":\"Button_block__1_g-n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"radio\":\"RadioButton_radio__12tNk\",\"checked\":\"RadioButton_checked__3P2nY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Upload_label__yAGc5\",\"footer\":\"Upload_footer__1Jh4m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"RadioGroup_list__3TJZ6\",\"item\":\"RadioGroup_item__3eC_o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"TokenIcon_icon__grpu0\",\"inherit\":\"TokenIcon_inherit__24PcR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"AuthButton_button__2bYBQ\",\"active\":\"AuthButton_active__1Bw-O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popover\":\"Connected_popover__3iPBV\",\"link\":\"Connected_link__1vIsu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tag\":\"Tag_tag__29TT2\",\"small\":\"Tag_small__26Rys\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"HeaderIconButton_wrapper__2LPRX\",\"button\":\"HeaderIconButton_button__27fuC\"};","// import { useConnectedWallet } from \"@terra-money/use-wallet\"\r\n// import useAuth from \"./useAuth\"\r\n\r\n\r\nconst dummyAddress = \"terra1p5hgj5fdvyjw8z86hjezvanjm0q7jm5j299tnj\"\r\nconst useAddress = () => {return dummyAddress}\r\n\r\n/* auth | walle-provider */\r\n/* const useAddress = () => {\r\n  const connected = useConnectedWallet()\r\n  const { wallet } = useAuth()\r\n  return wallet?.address ?? connected?.terraAddress\r\n} */\r\n\r\nexport default useAddress\r\n","import { useMemo } from \"react\"\r\nimport { LCDClient } from \"@terra-money/terra.js\"\r\nimport { useNetwork } from \"data/wallet\"\r\nimport { useIsClassic } from \"data/query\"\r\n\r\nexport const useLCDClient = () => {\r\n  const network = useNetwork()\r\n  const isClassic = useIsClassic()\r\n\r\n  const lcdClient = useMemo(\r\n    () => new LCDClient({ ...network, URL: network.lcd, isClassic }),\r\n    [network, isClassic]\r\n  )\r\n\r\n  return lcdClient\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Overlay_overlay__3C0aC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Online_title__3HA7i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__1uKzB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progress\":\"Fetching_progress__1ffjs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"Details_component__23AxR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dl\":\"Dl_dl__2aBt6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"FinderLink_link__2txKK\"};","import { useTranslation } from \"react-i18next\"\r\nimport AddCircleOutlineIcon from \"@mui/icons-material/AddCircleOutline\"\r\nimport SettingsBackupRestoreIcon from \"@mui/icons-material/SettingsBackupRestore\"\r\nimport KeyIcon from \"@mui/icons-material/Key\"\r\nimport GroupsIcon from \"@mui/icons-material/Groups\"\r\nimport { sandbox } from \"../scripts/env\"\r\n\r\nconst useAvailable = () => {\r\n  const { t } = useTranslation()\r\n\r\n  if (!sandbox) return []\r\n\r\n  return [\r\n    {\r\n      to: \"/auth/new\",\r\n      children: t(\"New wallet\"),\r\n      icon: <AddCircleOutlineIcon />,\r\n    },\r\n    {\r\n      to: \"/auth/recover\",\r\n      children: t(\"Recover wallet\"),\r\n      icon: <SettingsBackupRestoreIcon />,\r\n    },\r\n    {\r\n      to: \"/auth/import\",\r\n      children: t(\"Import wallet\"),\r\n      icon: <KeyIcon />,\r\n    },\r\n    {\r\n      to: \"/auth/multisig/new\",\r\n      children: t(\"New multisig wallet\"),\r\n      icon: <GroupsIcon />,\r\n    },\r\n  ]\r\n}\r\n\r\nexport default useAvailable\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"Aside_aside__2LW-r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"IsClassicNetwork_component__1ppcD\"};","/* query */\r\nexport const LAZY_LIMIT = 999\r\n\r\n/* connection */\r\nexport const BRIDGE = \"https://walletconnect.terra.dev\"\r\n\r\n/* api */\r\nexport const ASSETS = \"https://assets.terra.money\"\r\nexport const OBSERVER = \"wss://observer.terra.dev\"\r\n\r\n/* website */\r\nexport const GEMINON = \"https://geminon.fi\"\r\nexport const STATION = \"https://station.terra.money\"\r\nexport const FINDER = \"https://finder.terra.money\"\r\nexport const EXTENSION = \"https://chrome.google.com/webstore/detail/aiifbnbfobpmeekipheeijimdpnlpgpp\"\r\nexport const TUTORIAL = \"https://geminon.fi\"\r\n\r\n/* media and sites */\r\nexport const MEDIUM = \"https://geminonprotocol.medium.com/\"\r\nexport const TWITTER = \"https://twitter.com/Geminonprotocol\"\r\nexport const GITHUB = \"https://github.com/GeminonProtocol\"\r\nexport const TELEGRAM_ANN = \"https://t.me/geminon_ann\"\r\nexport const TELEGRAM_GROUP = \"\"\r\n\r\n/* website: stake */\r\nexport const TERRA_VALIDATORS = \"https://github.com/terra-money/validator-profiles/tree/master/validators/\"\r\n\r\nexport const STAKE_ID = \"https://stake.id/#/validator/\"\r\n\r\n/* ledger */\r\nexport const LEDGER_TRANSPORT_TIMEOUT = 120000\r\n\r\n/* tx */\r\nexport const DEFAULT_GAS_ADJUSTMENT = 2\r\n\r\n/* swap */\r\nexport const TERRASWAP_COMMISSION_RATE = 0.003\r\n\r\n/* placeholder */\r\n// https://github.com/terra-money/localterra\r\nexport const SAMPLE_ADDRESS = \"terra1x46rqay4d3cssq8gxxvqz8xt6nwlz4td20k38v\"\r\n","import React, { useContext } from \"react\"\r\n\r\nconst createContext = <A>(name: string) => {\r\n  const ctx = React.createContext<A | undefined>(undefined)\r\n\r\n  const useCtx = () => {\r\n    const c = useContext(ctx)\r\n    if (!c) throw new Error(`${name} must be inside a provider with a value`)\r\n    return c\r\n  }\r\n\r\n  return [useCtx, ctx.Provider] as const\r\n}\r\n\r\nexport default createContext\r\n","import CryptoJS from \"crypto-js\"\r\n\r\nconst keySize = 256\r\nconst iterations = 100\r\n\r\nconst decrypt = (transitmessage: string, pass: string) => {\r\n  try {\r\n    const salt = CryptoJS.enc.Hex.parse(transitmessage.substr(0, 32))\r\n    const iv = CryptoJS.enc.Hex.parse(transitmessage.substr(32, 32))\r\n    const encrypted = transitmessage.substring(64)\r\n\r\n    const key = CryptoJS.PBKDF2(pass, salt, {\r\n      keySize: keySize / 32,\r\n      iterations: iterations,\r\n    })\r\n\r\n    const decrypted = CryptoJS.AES.decrypt(encrypted, key, {\r\n      iv: iv,\r\n      padding: CryptoJS.pad.Pkcs7,\r\n      mode: CryptoJS.mode.CBC,\r\n    }).toString(CryptoJS.enc.Utf8)\r\n    return decrypted\r\n  } catch (error) {\r\n    return \"\"\r\n  }\r\n}\r\n\r\nexport default decrypt\r\n","import is from \"./is\"\r\nimport encrypt from \"./encrypt\"\r\nimport decrypt from \"./decrypt\"\r\n\r\n/* wallet */\r\nexport const getWallet = () => {\r\n  const user = localStorage.getItem(\"user\")\r\n  if (!user) return\r\n  return JSON.parse(user) as Wallet\r\n}\r\n\r\nexport const storeWallet = (user: Wallet) => {\r\n  localStorage.setItem(\"user\", JSON.stringify(user))\r\n}\r\n\r\nexport const clearWallet = () => {\r\n  localStorage.removeItem(\"user\")\r\n}\r\n\r\n/* stored wallets */\r\ntype StoredKey = StoredWallet | StoredWalletLegacy | MultisigWallet\r\nexport const getStoredWallets = () => {\r\n  const keys = localStorage.getItem(\"keys\") ?? \"[]\"\r\n  return JSON.parse(keys) as StoredKey[]\r\n}\r\n\r\nconst storeWallets = (wallets: StoredKey[]) => {\r\n  localStorage.setItem(\"keys\", JSON.stringify(wallets))\r\n}\r\n\r\n/* stored wallet */\r\nexport const getStoredWallet = (name: string) => {\r\n  const wallets = getStoredWallets()\r\n  const wallet = wallets.find((wallet) => wallet.name === name)\r\n  if (!wallet) throw new Error(\"Wallet does not exist\")\r\n  return wallet\r\n}\r\n\r\ninterface Params {\r\n  name: string\r\n  password: string\r\n}\r\n\r\nexport const getDecryptedKey = ({ name, password }: Params) => {\r\n  const wallet = getStoredWallet(name)\r\n\r\n  try {\r\n    if (\"encrypted\" in wallet) {\r\n      return decrypt(wallet.encrypted, password)\r\n    } else if (\"wallet\" in wallet) {\r\n      // legacy\r\n      const { privateKey: key } = JSON.parse(decrypt(wallet.wallet, password))\r\n      return key as string\r\n    } else {\r\n      return \"\"\r\n    }\r\n  } catch {\r\n    throw new PasswordError(\"Incorrect password\")\r\n  }\r\n}\r\n\r\nexport class PasswordError extends Error {}\r\nexport const testPassword = (params: Params) => {\r\n  if (!getDecryptedKey(params)) throw new PasswordError(\"Incorrect password\")\r\n  return true\r\n}\r\n\r\ntype AddWalletParams =\r\n  | { name: string; address: string; password: string; key: Buffer }\r\n  | MultisigWallet\r\n\r\nexport const addWallet = (params: AddWalletParams) => {\r\n  const wallets = getStoredWallets()\r\n\r\n  if (wallets.find((wallet) => wallet.name === params.name))\r\n    throw new Error(\"Wallet already exists\")\r\n\r\n  const next = wallets.filter((wallet) => wallet.address !== params.address)\r\n\r\n  if (is.multisig(params)) {\r\n    storeWallets([...next, params])\r\n  } else {\r\n    const { name, password, address, key } = params\r\n    const encrypted = encrypt(key.toString(\"hex\"), password)\r\n    storeWallets([...next, { name, address, encrypted }])\r\n  }\r\n}\r\n\r\ninterface ChangePasswordParams {\r\n  name: string\r\n  oldPassword: string\r\n  newPassword: string\r\n}\r\n\r\nexport const changePassword = (params: ChangePasswordParams) => {\r\n  const { name, oldPassword, newPassword } = params\r\n  testPassword({ name, password: oldPassword })\r\n  const key = getDecryptedKey({ name, password: oldPassword })\r\n  const encrypted = encrypt(key, newPassword)\r\n  const wallets = getStoredWallets()\r\n  const next = wallets.map((wallet) => {\r\n    if (wallet.name === name) {\r\n      const { address } = wallet\r\n      return { name, address, encrypted }\r\n    }\r\n\r\n    return wallet\r\n  })\r\n\r\n  storeWallets(next)\r\n}\r\n\r\nexport const deleteWallet = (name: string) => {\r\n  const wallets = getStoredWallets()\r\n  const next = wallets.filter((wallet) => wallet.name !== name)\r\n  storeWallets(next)\r\n}\r\n\r\nexport const lockWallet = (name: string) => {\r\n  const wallets = getStoredWallets()\r\n  const next = wallets.map((wallet) =>\r\n    wallet.name === name ? { ...wallet, lock: true } : wallet\r\n  )\r\n\r\n  storeWallets(next)\r\n}\r\n\r\nexport const unlockWallet = (name: string, password = \"\") => {\r\n  const wallets = getStoredWallets()\r\n\r\n  testPassword({ name, password })\r\n\r\n  const next = wallets.map((wallet) => {\r\n    const { lock, ...rest } = wallet\r\n    return wallet.name === name ? rest : wallet\r\n  })\r\n\r\n  storeWallets(next)\r\n}\r\n"],"sourceRoot":""}